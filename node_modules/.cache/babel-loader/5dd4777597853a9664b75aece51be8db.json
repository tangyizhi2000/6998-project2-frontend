{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useState } from 'react';\nimport { useObservedElement } from './use-observed-element';\nexport default function useContentHeight(headerSelector, footerSelector, disableBodyScroll) {\n  const headerHeight = useObservedElement(headerSelector);\n  const footerHeight = useObservedElement(footerSelector);\n  const [headerFooterHeight, setHeaderFooterHeight] = useState(0);\n  // Delay applying changes in header/footer height, as applying them immediately can cause\n  // ResizeOberver warnings due to the algorithm thinking that the change might have side-effects\n  // further up the tree, therefore blocking notifications to prevent loops\n  useEffect(() => {\n    const id = requestAnimationFrame(() => setHeaderFooterHeight(headerHeight + footerHeight));\n    return () => cancelAnimationFrame(id);\n  }, [headerHeight, footerHeight]);\n  const heightStyleValue = `calc(100vh - ${headerFooterHeight}px)`;\n  return {\n    headerHeight,\n    footerHeight,\n    contentHeightStyle: {\n      [disableBodyScroll ? 'height' : 'minHeight']: heightStyleValue\n    }\n  };\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,kBAAkB,QAAQ,wBAAwB;AAE3D,eAAc,SAAUC,gBAAgB,CAACC,cAAsB,EAAEC,cAAsB,EAAEC,iBAA2B;EAClH,MAAMC,YAAY,GAAGL,kBAAkB,CAACE,cAAc,CAAC;EACvD,MAAMI,YAAY,GAAGN,kBAAkB,CAACG,cAAc,CAAC;EACvD,MAAM,CAACI,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EAE/D;EACA;EACA;EACAD,SAAS,CAAC,MAAK;IACb,MAAMW,EAAE,GAAGC,qBAAqB,CAAC,MAAMF,qBAAqB,CAACH,YAAY,GAAGC,YAAY,CAAC,CAAC;IAC1F,OAAO,MAAMK,oBAAoB,CAACF,EAAE,CAAC;EACvC,CAAC,EAAE,CAACJ,YAAY,EAAEC,YAAY,CAAC,CAAC;EAEhC,MAAMM,gBAAgB,GAAG,gBAAgBL,kBAAkB,KAAK;EAEhE,OAAO;IACLF,YAAY;IACZC,YAAY;IACZO,kBAAkB,EAAE;MAClB,CAACT,iBAAiB,GAAG,QAAQ,GAAG,WAAW,GAAGQ;;GAEjD;AACH","names":["useEffect","useState","useObservedElement","useContentHeight","headerSelector","footerSelector","disableBodyScroll","headerHeight","footerHeight","headerFooterHeight","setHeaderFooterHeight","id","requestAnimationFrame","cancelAnimationFrame","heightStyleValue","contentHeightStyle"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/app-layout/utils/lib/default/app-layout/utils/use-content-height.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useState } from 'react';\nimport { useObservedElement } from './use-observed-element';\n\nexport default function useContentHeight(headerSelector: string, footerSelector: string, disableBodyScroll?: boolean) {\n  const headerHeight = useObservedElement(headerSelector);\n  const footerHeight = useObservedElement(footerSelector);\n  const [headerFooterHeight, setHeaderFooterHeight] = useState(0);\n\n  // Delay applying changes in header/footer height, as applying them immediately can cause\n  // ResizeOberver warnings due to the algorithm thinking that the change might have side-effects\n  // further up the tree, therefore blocking notifications to prevent loops\n  useEffect(() => {\n    const id = requestAnimationFrame(() => setHeaderFooterHeight(headerHeight + footerHeight));\n    return () => cancelAnimationFrame(id);\n  }, [headerHeight, footerHeight]);\n\n  const heightStyleValue = `calc(100vh - ${headerFooterHeight}px)`;\n\n  return {\n    headerHeight,\n    footerHeight,\n    contentHeightStyle: {\n      [disableBodyScroll ? 'height' : 'minHeight']: heightStyleValue,\n    },\n  };\n}\n"]},"metadata":{},"sourceType":"module"}