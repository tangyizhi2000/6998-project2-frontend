{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport Arrow from '../popover/arrow';\nimport PopoverContainer from '../popover/container';\nimport PopoverBody from '../popover/body';\nimport Portal from '../internal/components/portal';\nimport { usePortalModeClasses } from '../internal/hooks/use-portal-mode-classes';\nimport { useReducedMotion } from '@cloudscape-design/component-toolkit/internal';\nconst DEFAULT_OPEN_TIMEOUT_IN_MS = 120;\nexport default function Tooltip(_ref) {\n  let {\n    children,\n    content,\n    position = 'right'\n  } = _ref;\n  const ref = useRef(null);\n  const isReducedMotion = useReducedMotion(ref);\n  const {\n    open,\n    triggerProps\n  } = useTooltipOpen(isReducedMotion ? 0 : DEFAULT_OPEN_TIMEOUT_IN_MS);\n  const portalClasses = usePortalModeClasses(ref);\n  return React.createElement(\"span\", Object.assign({\n    ref: ref\n  }, triggerProps), children, open && React.createElement(Portal, null, React.createElement(\"span\", {\n    className: portalClasses\n  }, React.createElement(PopoverContainer, {\n    size: \"small\",\n    fixedWidth: false,\n    position: position,\n    trackRef: ref,\n    arrow: position => React.createElement(Arrow, {\n      position: position\n    }),\n    renderWithPortal: true,\n    zIndex: 7000\n  }, React.createElement(PopoverBody, {\n    dismissButton: false,\n    dismissAriaLabel: undefined,\n    header: null,\n    onDismiss: () => {},\n    overflowVisible: \"both\"\n  }, React.createElement(\"span\", {\n    \"data-testid\": \"button-dropdown-disabled-reason\",\n    role: \"tooltip\"\n  }, content))))));\n}\nfunction useTooltipOpen(timeout) {\n  const handle = useRef();\n  const [isOpen, setIsOpen] = useState(false);\n  const close = () => {\n    clearTimeout(handle.current);\n    setIsOpen(false);\n  };\n  const open = () => setIsOpen(true);\n  const openDelayed = () => {\n    handle.current = setTimeout(open, timeout);\n  };\n  const onKeyDown = e => {\n    if (isOpen && isEscape(e.key)) {\n      e.preventDefault();\n      e.stopPropagation();\n      close();\n    }\n  };\n  const onFocus = openDelayed;\n  const onBlur = close;\n  return {\n    open: isOpen,\n    triggerProps: {\n      onBlur,\n      onFocus,\n      onKeyDown\n    }\n  };\n}\nconst isEscape = key => key === 'Escape' || key === 'Esc';","map":{"version":3,"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAA0BC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAErE,OAAOC,KAAK,MAAM,kBAAkB;AACpC,OAAOC,gBAAgB,MAAM,sBAAsB;AACnD,OAAOC,WAAW,MAAM,iBAAiB;AACzC,OAAOC,MAAM,MAAM,+BAA+B;AAClD,SAASC,oBAAoB,QAAQ,2CAA2C;AAChF,SAASC,gBAAgB,QAAQ,+CAA+C;AAQhF,MAAMC,0BAA0B,GAAG,GAAG;AAEtC,eAAc,SAAUC,OAAO,OAAwD;EAAA,IAAvD;IAAEC,QAAQ;IAAEC,OAAO;IAAEC,QAAQ,GAAG;EAAO,CAAgB;EACrF,MAAMC,GAAG,GAAGb,MAAM,CAAyB,IAAI,CAAC;EAChD,MAAMc,eAAe,GAAGP,gBAAgB,CAACM,GAAG,CAAC;EAC7C,MAAM;IAAEE,IAAI;IAAEC;EAAY,CAAE,GAAGC,cAAc,CAACH,eAAe,GAAG,CAAC,GAAGN,0BAA0B,CAAC;EAC/F,MAAMU,aAAa,GAAGZ,oBAAoB,CAACO,GAAG,CAAC;EAE/C,OACEd;IAAMc,GAAG,EAAEA;EAAG,GAAMG,YAAY,GAC7BN,QAAQ,EACRK,IAAI,IACHhB,oBAACM,MAAM,QACLN;IAAMoB,SAAS,EAAED;EAAa,GAC5BnB,oBAACI,gBAAgB;IACfiB,IAAI,EAAC,OAAO;IACZC,UAAU,EAAE,KAAK;IACjBT,QAAQ,EAAEA,QAAQ;IAClBU,QAAQ,EAAET,GAAG;IACbU,KAAK,EAAEX,QAAQ,IAAIb,oBAACG,KAAK;MAACU,QAAQ,EAAEA;IAAQ,EAAI;IAChDY,gBAAgB,EAAE,IAAI;IACtBC,MAAM,EAAE;EAAI,GAEZ1B,oBAACK,WAAW;IACVsB,aAAa,EAAE,KAAK;IACpBC,gBAAgB,EAAEC,SAAS;IAC3BC,MAAM,EAAE,IAAI;IACZC,SAAS,EAAE,MAAK,CAAE,CAAC;IACnBC,eAAe,EAAC;EAAM,GAEtBhC;IAAA,eAAkB,iCAAiC;IAACiC,IAAI,EAAC;EAAS,GAC/DrB,OAAO,CACH,CACK,CACG,CACd,CAEV,CACI;AAEX;AAEA,SAASM,cAAc,CAACgB,OAAe;EACrC,MAAMC,MAAM,GAAGlC,MAAM,EAAU;EAC/B,MAAM,CAACmC,MAAM,EAAEC,SAAS,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EAE3C,MAAMoC,KAAK,GAAG,MAAK;IACjBC,YAAY,CAACJ,MAAM,CAACK,OAAO,CAAC;IAC5BH,SAAS,CAAC,KAAK,CAAC;EAClB,CAAC;EACD,MAAMrB,IAAI,GAAG,MAAMqB,SAAS,CAAC,IAAI,CAAC;EAClC,MAAMI,WAAW,GAAG,MAAK;IACvBN,MAAM,CAACK,OAAO,GAAGE,UAAU,CAAC1B,IAAI,EAAEkB,OAAO,CAAC;EAC5C,CAAC;EACD,MAAMS,SAAS,GAAyBC,CAAC,IAAG;IAC1C,IAAIR,MAAM,IAAIS,QAAQ,CAACD,CAAC,CAACE,GAAG,CAAC,EAAE;MAC7BF,CAAC,CAACG,cAAc,EAAE;MAClBH,CAAC,CAACI,eAAe,EAAE;MACnBV,KAAK,EAAE;;EAEX,CAAC;EAED,MAAMW,OAAO,GAAGR,WAAW;EAC3B,MAAMS,MAAM,GAAGZ,KAAK;EAEpB,OAAO;IACLtB,IAAI,EAAEoB,MAAM;IACZnB,YAAY,EAAE;MACZiC,MAAM;MACND,OAAO;MACPN;;GAEH;AACH;AAEA,MAAME,QAAQ,GAAIC,GAAW,IAAKA,GAAG,KAAK,QAAQ,IAAIA,GAAG,KAAK,KAAK","names":["React","useRef","useState","Arrow","PopoverContainer","PopoverBody","Portal","usePortalModeClasses","useReducedMotion","DEFAULT_OPEN_TIMEOUT_IN_MS","Tooltip","children","content","position","ref","isReducedMotion","open","triggerProps","useTooltipOpen","portalClasses","className","size","fixedWidth","trackRef","arrow","renderWithPortal","zIndex","dismissButton","dismissAriaLabel","undefined","header","onDismiss","overflowVisible","role","timeout","handle","isOpen","setIsOpen","close","clearTimeout","current","openDelayed","setTimeout","onKeyDown","e","isEscape","key","preventDefault","stopPropagation","onFocus","onBlur"],"sources":["/Users/tangyizhi/Desktop/Assignment 2/frontend/node_modules/@cloudscape-design/components/button-dropdown/lib/default/button-dropdown/tooltip.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { KeyboardEventHandler, useRef, useState } from 'react';\n\nimport Arrow from '../popover/arrow';\nimport PopoverContainer from '../popover/container';\nimport PopoverBody from '../popover/body';\nimport Portal from '../internal/components/portal';\nimport { usePortalModeClasses } from '../internal/hooks/use-portal-mode-classes';\nimport { useReducedMotion } from '@cloudscape-design/component-toolkit/internal';\n\nexport interface TooltipProps {\n  children?: React.ReactNode;\n  content?: React.ReactNode;\n  position?: 'top' | 'right' | 'bottom' | 'left';\n}\n\nconst DEFAULT_OPEN_TIMEOUT_IN_MS = 120;\n\nexport default function Tooltip({ children, content, position = 'right' }: TooltipProps) {\n  const ref = useRef<HTMLSpanElement | null>(null);\n  const isReducedMotion = useReducedMotion(ref);\n  const { open, triggerProps } = useTooltipOpen(isReducedMotion ? 0 : DEFAULT_OPEN_TIMEOUT_IN_MS);\n  const portalClasses = usePortalModeClasses(ref);\n\n  return (\n    <span ref={ref} {...triggerProps}>\n      {children}\n      {open && (\n        <Portal>\n          <span className={portalClasses}>\n            <PopoverContainer\n              size=\"small\"\n              fixedWidth={false}\n              position={position}\n              trackRef={ref}\n              arrow={position => <Arrow position={position} />}\n              renderWithPortal={true}\n              zIndex={7000}\n            >\n              <PopoverBody\n                dismissButton={false}\n                dismissAriaLabel={undefined}\n                header={null}\n                onDismiss={() => {}}\n                overflowVisible=\"both\"\n              >\n                <span data-testid=\"button-dropdown-disabled-reason\" role=\"tooltip\">\n                  {content}\n                </span>\n              </PopoverBody>\n            </PopoverContainer>\n          </span>\n        </Portal>\n      )}\n    </span>\n  );\n}\n\nfunction useTooltipOpen(timeout: number) {\n  const handle = useRef<number>();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const close = () => {\n    clearTimeout(handle.current);\n    setIsOpen(false);\n  };\n  const open = () => setIsOpen(true);\n  const openDelayed = () => {\n    handle.current = setTimeout(open, timeout);\n  };\n  const onKeyDown: KeyboardEventHandler = e => {\n    if (isOpen && isEscape(e.key)) {\n      e.preventDefault();\n      e.stopPropagation();\n      close();\n    }\n  };\n\n  const onFocus = openDelayed;\n  const onBlur = close;\n\n  return {\n    open: isOpen,\n    triggerProps: {\n      onBlur,\n      onFocus,\n      onKeyDown,\n    },\n  };\n}\n\nconst isEscape = (key: string) => key === 'Escape' || key === 'Esc';\n"]},"metadata":{},"sourceType":"module"}