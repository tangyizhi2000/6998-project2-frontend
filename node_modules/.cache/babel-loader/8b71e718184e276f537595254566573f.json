{"ast":null,"code":"import _createClass from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport var PromiseCancelledSignal = /*#__PURE__*/_createClass(function PromiseCancelledSignal() {\n  _classCallCheck(this, PromiseCancelledSignal);\n});\n/**\n * Wrap and provide a handle for a promise to provide cancellation information inside\n * callbacks. Takes a similar approach to how an AbortController works in modern fetch.\n *\n * @see https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html\n */\nexport function makeCancellable(promise) {\n  var cancelled = false;\n  var wrapped = promise.then(function (value) {\n    if (cancelled) {\n      throw new PromiseCancelledSignal();\n    }\n    return value;\n  }, function (err) {\n    if (cancelled) {\n      throw new PromiseCancelledSignal();\n    }\n    throw err;\n  });\n  return {\n    promise: wrapped,\n    cancel: function cancel() {\n      cancelled = true;\n    },\n    isCancelled: function isCancelled() {\n      return cancelled;\n    }\n  };\n}","map":{"version":3,"mappings":";;AAAA;AACA;AACA,WAAaA,sBAAsB;EAAA;AAAA;AAEnC;;;;;;AAMA,OAAM,SAAUC,eAAe,CAAIC,OAAmB;EAKpD,IAAIC,SAAS,GAAG,KAAK;EACrB,IAAMC,OAAO,GAAGF,OAAO,CAACG,IAAI,CAC1B,eAAK,EAAG;IACN,IAAIF,SAAS,EAAE;MACb,MAAM,IAAIH,sBAAsB,EAAE;;IAEpC,OAAOM,KAAK;EACd,CAAC,EACD,aAAG,EAAG;IACJ,IAAIH,SAAS,EAAE;MACb,MAAM,IAAIH,sBAAsB,EAAE;;IAEpC,MAAMO,GAAG;EACX,CAAC,CACF;EAED,OAAO;IACLL,OAAO,EAAEE,OAAO;IAChBI,MAAM,EAAE,kBAAK;MACXL,SAAS,GAAG,IAAI;IAClB,CAAC;IACDM,WAAW,EAAE;MAAA,OAAMN,SAAS;IAAA;GAC7B;AACH","names":["PromiseCancelledSignal","makeCancellable","promise","cancelled","wrapped","then","value","err","cancel","isCancelled"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/utils/lib/default/internal/utils/promises.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport class PromiseCancelledSignal {}\n\n/**\n * Wrap and provide a handle for a promise to provide cancellation information inside\n * callbacks. Takes a similar approach to how an AbortController works in modern fetch.\n *\n * @see https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html\n */\nexport function makeCancellable<T>(promise: Promise<T>): {\n  promise: Promise<T>;\n  cancel: () => void;\n  isCancelled: () => boolean;\n} {\n  let cancelled = false;\n  const wrapped = promise.then(\n    value => {\n      if (cancelled) {\n        throw new PromiseCancelledSignal();\n      }\n      return value;\n    },\n    err => {\n      if (cancelled) {\n        throw new PromiseCancelledSignal();\n      }\n      throw err;\n    }\n  );\n\n  return {\n    promise: wrapped,\n    cancel: () => {\n      cancelled = true;\n    },\n    isCancelled: () => cancelled,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}