{"ast":null,"code":"import _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useState } from 'react';\nexport function useHighlightedOption(_ref) {\n  var options = _ref.options,\n    isHighlightable = _ref.isHighlightable;\n  var _useState = useState(-1),\n    _useState2 = _slicedToArray(_useState, 2),\n    highlightedIndex = _useState2[0],\n    setHighlightedIndexState = _useState2[1];\n  var _useState3 = useState('keyboard'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    highlightType = _useState4[0],\n    setHighlightType = _useState4[1];\n  var setHighlightedIndex = useCallback(function (index, highlightType) {\n    setHighlightedIndexState(index);\n    setHighlightType(highlightType);\n  }, []);\n  var highlightedOption = options[highlightedIndex] && isHighlightable(options[highlightedIndex]) ? options[highlightedIndex] : undefined;\n  var moveHighlightFrom = function moveHighlightFrom(direction) {\n    var startIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : highlightedIndex;\n    var highlightType = arguments.length > 2 ? arguments[2] : undefined;\n    var newIndex = startIndex;\n    do {\n      newIndex += direction;\n    } while (options[newIndex] && !isHighlightable(options[newIndex]));\n    if (options[newIndex]) {\n      setHighlightedIndex(newIndex, highlightType);\n    }\n  };\n  var moveHighlight = function moveHighlight(direction, highlightType) {\n    return moveHighlightFrom(direction, highlightedIndex, highlightType);\n  };\n  var highlightOption = useCallback(function (option, highlightType) {\n    var index = options.indexOf(option);\n    setHighlightedIndex(index, highlightType);\n  }, [options, setHighlightedIndex]);\n  return [{\n    highlightType: highlightType,\n    highlightedIndex: highlightedIndex,\n    highlightedOption: highlightedOption\n  }, {\n    setHighlightedIndexWithMouse: function setHighlightedIndexWithMouse(index) {\n      return setHighlightedIndex(index, 'mouse');\n    },\n    moveHighlightWithKeyboard: function moveHighlightWithKeyboard(direction) {\n      return moveHighlight(direction, 'keyboard');\n    },\n    highlightOptionWithKeyboard: function highlightOptionWithKeyboard(option) {\n      return highlightOption(option, 'keyboard');\n    },\n    resetHighlightWithKeyboard: function resetHighlightWithKeyboard() {\n      return setHighlightedIndex(-1, 'keyboard');\n    },\n    goHomeWithKeyboard: function goHomeWithKeyboard() {\n      return moveHighlightFrom(1, -1, 'keyboard');\n    },\n    goEndWithKeyboard: function goEndWithKeyboard() {\n      return moveHighlightFrom(-1, options.length, 'keyboard');\n    }\n  }];\n}","map":{"version":3,"mappings":";AAAA;AACA;AACA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AA0B7C,OAAM,SAAUC,oBAAoB,OAGC;EAAA,IAFnCC,OAAO,QAAPA,OAAO;IACPC,eAAe,QAAfA,eAAe;EAEf,gBAAqDH,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA;IAA1DI,gBAAgB;IAAEC,wBAAwB;EACjD,iBAA0CL,QAAQ,CAAgB,UAAU,CAAC;IAAA;IAAtEM,aAAa;IAAEC,gBAAgB;EACtC,IAAMC,mBAAmB,GAAGT,WAAW,CAAC,UAACU,KAAa,EAAEH,aAA4B,EAAI;IACtFD,wBAAwB,CAACI,KAAK,CAAC;IAC/BF,gBAAgB,CAACD,aAAa,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMI,iBAAiB,GACrBR,OAAO,CAACE,gBAAgB,CAAC,IAAID,eAAe,CAACD,OAAO,CAACE,gBAAgB,CAAC,CAAC,GAAGF,OAAO,CAACE,gBAAgB,CAAC,GAAGO,SAAS;EAEjH,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,SAAiB,EAAiE;IAAA,IAA/DC,UAAU,uEAAGV,gBAAgB;IAAA,IAAEE,aAA4B;IACvG,IAAIS,QAAQ,GAAGD,UAAU;IACzB,GAAG;MACDC,QAAQ,IAAIF,SAAS;KACtB,QAAQX,OAAO,CAACa,QAAQ,CAAC,IAAI,CAACZ,eAAe,CAACD,OAAO,CAACa,QAAQ,CAAC,CAAC;IAEjE,IAAIb,OAAO,CAACa,QAAQ,CAAC,EAAE;MACrBP,mBAAmB,CAACO,QAAQ,EAAET,aAAa,CAAC;;EAEhD,CAAC;EAED,IAAMU,aAAa,GAAG,SAAhBA,aAAa,CAAIH,SAAiB,EAAEP,aAA4B;IAAA,OACpEM,iBAAiB,CAACC,SAAS,EAAET,gBAAgB,EAAEE,aAAa,CAAC;EAAA;EAE/D,IAAMW,eAAe,GAAGlB,WAAW,CACjC,UAACmB,MAAkB,EAAEZ,aAA4B,EAAI;IACnD,IAAMG,KAAK,GAAGP,OAAO,CAACiB,OAAO,CAACD,MAAM,CAAC;IACrCV,mBAAmB,CAACC,KAAK,EAAEH,aAAa,CAAC;EAC3C,CAAC,EACD,CAACJ,OAAO,EAAEM,mBAAmB,CAAC,CAC/B;EAED,OAAO,CACL;IAAEF,aAAa,EAAbA,aAAa;IAAEF,gBAAgB,EAAhBA,gBAAgB;IAAEM,iBAAiB,EAAjBA;EAAiB,CAAE,EACtD;IACEU,4BAA4B,EAAE,sCAACX,KAAa;MAAA,OAAKD,mBAAmB,CAACC,KAAK,EAAE,OAAO,CAAC;IAAA;IACpFY,yBAAyB,EAAE,mCAACR,SAAiB;MAAA,OAAKG,aAAa,CAACH,SAAS,EAAE,UAAU,CAAC;IAAA;IACtFS,2BAA2B,EAAE,qCAACJ,MAAkB;MAAA,OAAKD,eAAe,CAACC,MAAM,EAAE,UAAU,CAAC;IAAA;IACxFK,0BAA0B,EAAE;MAAA,OAAMf,mBAAmB,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC;IAAA;IACrEgB,kBAAkB,EAAE;MAAA,OAAMZ,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC;IAAA;IAC9Da,iBAAiB,EAAE;MAAA,OAAMb,iBAAiB,CAAC,CAAC,CAAC,EAAEV,OAAO,CAACwB,MAAM,EAAE,UAAU,CAAC;IAAA;GAC3E,CACF;AACH","names":["useCallback","useState","useHighlightedOption","options","isHighlightable","highlightedIndex","setHighlightedIndexState","highlightType","setHighlightType","setHighlightedIndex","index","highlightedOption","undefined","moveHighlightFrom","direction","startIndex","newIndex","moveHighlight","highlightOption","option","indexOf","setHighlightedIndexWithMouse","moveHighlightWithKeyboard","highlightOptionWithKeyboard","resetHighlightWithKeyboard","goHomeWithKeyboard","goEndWithKeyboard","length"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/components/options-list/utils/lib/default/internal/components/options-list/utils/use-highlight-option.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useState } from 'react';\n\nexport type HighlightType = 'keyboard' | 'mouse';\n\nexport interface HighlightedOptionProps<OptionType> {\n  options: readonly OptionType[];\n  isHighlightable: (option: OptionType) => boolean;\n}\n\nexport interface HighlightedOptionState<OptionType> {\n  highlightType: HighlightType;\n  highlightedIndex: number;\n  highlightedOption?: OptionType;\n}\n\nexport interface HighlightedOptionHandlers<OptionType> {\n  // Mouse handlers\n  setHighlightedIndexWithMouse(index: number): void;\n  // Keyboard handlers\n  moveHighlightWithKeyboard(direction: -1 | 1): void;\n  highlightOptionWithKeyboard(option: OptionType): void;\n  resetHighlightWithKeyboard(): void;\n  goHomeWithKeyboard(): void;\n  goEndWithKeyboard(): void;\n}\n\nexport function useHighlightedOption<OptionType>({\n  options,\n  isHighlightable,\n}: HighlightedOptionProps<OptionType>): [HighlightedOptionState<OptionType>, HighlightedOptionHandlers<OptionType>] {\n  const [highlightedIndex, setHighlightedIndexState] = useState(-1);\n  const [highlightType, setHighlightType] = useState<HighlightType>('keyboard');\n  const setHighlightedIndex = useCallback((index: number, highlightType: HighlightType) => {\n    setHighlightedIndexState(index);\n    setHighlightType(highlightType);\n  }, []);\n\n  const highlightedOption =\n    options[highlightedIndex] && isHighlightable(options[highlightedIndex]) ? options[highlightedIndex] : undefined;\n\n  const moveHighlightFrom = (direction: -1 | 1, startIndex = highlightedIndex, highlightType: HighlightType) => {\n    let newIndex = startIndex;\n    do {\n      newIndex += direction;\n    } while (options[newIndex] && !isHighlightable(options[newIndex]));\n\n    if (options[newIndex]) {\n      setHighlightedIndex(newIndex, highlightType);\n    }\n  };\n\n  const moveHighlight = (direction: -1 | 1, highlightType: HighlightType) =>\n    moveHighlightFrom(direction, highlightedIndex, highlightType);\n\n  const highlightOption = useCallback(\n    (option: OptionType, highlightType: HighlightType) => {\n      const index = options.indexOf(option);\n      setHighlightedIndex(index, highlightType);\n    },\n    [options, setHighlightedIndex]\n  );\n\n  return [\n    { highlightType, highlightedIndex, highlightedOption },\n    {\n      setHighlightedIndexWithMouse: (index: number) => setHighlightedIndex(index, 'mouse'),\n      moveHighlightWithKeyboard: (direction: -1 | 1) => moveHighlight(direction, 'keyboard'),\n      highlightOptionWithKeyboard: (option: OptionType) => highlightOption(option, 'keyboard'),\n      resetHighlightWithKeyboard: () => setHighlightedIndex(-1, 'keyboard'),\n      goHomeWithKeyboard: () => moveHighlightFrom(1, -1, 'keyboard'),\n      goEndWithKeyboard: () => moveHighlightFrom(-1, options.length, 'keyboard'),\n    },\n  ];\n}\n"]},"metadata":{},"sourceType":"module"}