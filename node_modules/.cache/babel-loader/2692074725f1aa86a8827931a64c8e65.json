{"ast":null,"code":"import { __rest } from \"tslib\";\nexport const flattenOptions = options => {\n  const parentMap = new Map();\n  const flatOptions = options.reduce((acc, option) => {\n    if ('options' in option) {\n      const {\n          options\n        } = option,\n        rest = __rest(option, [\"options\"]);\n      const parentDropdownOption = {\n        type: 'parent',\n        option\n      };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption = {\n          type: 'child',\n          option: child\n        };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption = {\n        option\n      };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n    return acc;\n  }, []);\n  return {\n    flatOptions,\n    parentMap\n  };\n};","map":{"version":3,"mappings":";AAIA,OAAO,MAAMA,cAAc,GAAIC,OAAsD,IAAI;EACvF,MAAMC,SAAS,GAAG,IAAIC,GAAG,EAAkC;EAE3D,MAAMC,WAAW,GAAGH,OAAO,CAACI,MAAM,CAAmB,CAACC,GAAG,EAAEC,MAAM,KAAI;IACnE,IAAI,SAAS,IAAIA,MAAM,EAAE;MACvB,MAAM;UAAEN;QAAO,IAAcM,MAAM;QAAfC,IAAI,UAAKD,MAAM,EAA7B,WAAoB,CAAS;MACnC,MAAME,oBAAoB,GAAmB;QAAEC,IAAI,EAAE,QAAQ;QAAEH;MAAM,CAAE;MACvE,MAAMI,kBAAkB,GAAGV,OAAO,CAACW,KAAK,CAACL,MAAM,IAAIA,MAAM,CAACM,QAAQ,CAAC;MACnE,IAAIN,MAAM,CAACM,QAAQ,IAAIF,kBAAkB,EAAE;QACzCF,oBAAoB,CAACI,QAAQ,GAAG,IAAI;;MAEtCP,GAAG,CAACQ,IAAI,CAACL,oBAAoB,CAAC;MAC9BR,OAAO,CAACc,OAAO,CAACC,KAAK,IAAG;QACtB,MAAMC,mBAAmB,GAAmB;UAAEP,IAAI,EAAE,OAAO;UAAEH,MAAM,EAAES;QAAK,CAAE;QAC5E,IAAIR,IAAI,CAACK,QAAQ,IAAIG,KAAK,CAACH,QAAQ,EAAE;UACnCI,mBAAmB,CAACJ,QAAQ,GAAG,IAAI;;QAErCP,GAAG,CAACQ,IAAI,CAACG,mBAAmB,CAAC;QAC7Bf,SAAS,CAACgB,GAAG,CAACD,mBAAmB,EAAER,oBAAoB,CAAC;MAC1D,CAAC,CAAC;KACH,MAAM;MACL,MAAMU,cAAc,GAAmB;QAAEZ;MAAM,CAAE;MACjD,IAAIA,MAAM,CAACM,QAAQ,EAAE;QACnBM,cAAc,CAACN,QAAQ,GAAG,IAAI;;MAEhCP,GAAG,CAACQ,IAAI,CAACK,cAAc,CAAC;;IAG1B,OAAOb,GAAG;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLF,WAAW;IACXF;GACD;AACH,CAAC","names":["flattenOptions","options","parentMap","Map","flatOptions","reduce","acc","option","rest","parentDropdownOption","type","allOptionsDisabled","every","disabled","push","forEach","child","childDropdownOption","set","dropdownOption"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/components/option/utils/lib/default/internal/components/option/utils/flatten-options.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionGroup, OptionDefinition, DropdownOption } from '../interfaces';\n\nexport const flattenOptions = (options: ReadonlyArray<OptionDefinition | OptionGroup>) => {\n  const parentMap = new Map<DropdownOption, DropdownOption>();\n\n  const flatOptions = options.reduce<DropdownOption[]>((acc, option) => {\n    if ('options' in option) {\n      const { options, ...rest } = option;\n      const parentDropdownOption: DropdownOption = { type: 'parent', option };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption: DropdownOption = { type: 'child', option: child };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption: DropdownOption = { option };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n\n    return acc;\n  }, []);\n\n  return {\n    flatOptions,\n    parentMap,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}