{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useState } from 'react';\nimport { findUpUntil } from '../../dom';\nimport { createSingletonHandler } from '../singleton-handler';\nimport { useStableCallback } from '../stable-callback';\nimport { isDevelopment } from '../is-development';\nimport { warnOnce } from '../logging';\nvar awsuiVisualRefreshFlag = Symbol[\"for\"]('awsui-visual-refresh-flag');\nexport function isMotionDisabled(element) {\n  var _a, _b;\n  return !!findUpUntil(element, function (node) {\n    return node.classList.contains('awsui-motion-disabled');\n  }) || ((_b = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, '(prefers-reduced-motion: reduce)').matches) !== null && _b !== void 0 ? _b : false);\n}\n// Note that this hook doesn't take into consideration @media print (unlike the dark mode CSS),\n// due to challenges with cross-browser implementations of media/print state change listeners.\n// This means that components using this hook will render in dark mode even when printing.\nexport function useCurrentMode(elementRef) {\n  var _a = useState('light'),\n    value = _a[0],\n    setValue = _a[1];\n  useMutationObserver(elementRef, function (node) {\n    var darkModeParent = findUpUntil(node, function (node) {\n      return node.classList.contains('awsui-polaris-dark-mode') || node.classList.contains('awsui-dark-mode');\n    });\n    setValue(darkModeParent ? 'dark' : 'light');\n  });\n  return value;\n}\nexport function useDensityMode(elementRef) {\n  var _a = useState('comfortable'),\n    value = _a[0],\n    setValue = _a[1];\n  useMutationObserver(elementRef, function (node) {\n    var compactModeParent = findUpUntil(node, function (node) {\n      return node.classList.contains('awsui-polaris-compact-mode') || node.classList.contains('awsui-compact-mode');\n    });\n    setValue(compactModeParent ? 'compact' : 'comfortable');\n  });\n  return value;\n}\nexport function useReducedMotion(elementRef) {\n  var _a = useState(false),\n    value = _a[0],\n    setValue = _a[1];\n  useMutationObserver(elementRef, function (node) {\n    setValue(isMotionDisabled(node));\n  });\n  return value;\n}\nvar useMutationSingleton = createSingletonHandler(function (handler) {\n  var observer = new MutationObserver(function () {\n    return handler();\n  });\n  observer.observe(document.body, {\n    attributes: true,\n    subtree: true\n  });\n  return function () {\n    return observer.disconnect();\n  };\n});\nfunction useMutationObserver(elementRef, onChange) {\n  var handler = useStableCallback(function () {\n    if (elementRef.current) {\n      onChange(elementRef.current);\n    }\n  });\n  useMutationSingleton(handler);\n  useEffect(function () {\n    handler();\n  }, [handler]);\n}\n// We expect VR is to be set only once and before the application is rendered.\nvar visualRefreshState = undefined;\n// for testing\nexport function clearVisualRefreshState() {\n  visualRefreshState = undefined;\n}\nfunction detectVisualRefresh() {\n  return typeof document !== 'undefined' && !!document.querySelector('.awsui-visual-refresh');\n}\nexport function useRuntimeVisualRefresh() {\n  var _a;\n  if (visualRefreshState === undefined) {\n    visualRefreshState = detectVisualRefresh();\n    if (!visualRefreshState && typeof window !== 'undefined' && ((_a = window[awsuiVisualRefreshFlag]) === null || _a === void 0 ? void 0 : _a.call(window))) {\n      document.body.classList.add('awsui-visual-refresh');\n      visualRefreshState = true;\n    }\n  }\n  if (isDevelopment) {\n    var newVisualRefreshState = detectVisualRefresh();\n    if (newVisualRefreshState !== visualRefreshState) {\n      warnOnce('Visual Refresh', 'Dynamic visual refresh change detected. This is not supported. ' + 'Make sure `awsui-visual-refresh` is attached to the `<body>` element before initial React render');\n    }\n  }\n  return visualRefreshState;\n}","map":{"version":3,"names":["useEffect","useState","findUpUntil","createSingletonHandler","useStableCallback","isDevelopment","warnOnce","awsuiVisualRefreshFlag","Symbol","isMotionDisabled","element","_a","_b","node","classList","contains","window","matchMedia","call","matches","useCurrentMode","elementRef","value","setValue","useMutationObserver","darkModeParent","useDensityMode","compactModeParent","useReducedMotion","useMutationSingleton","handler","observer","MutationObserver","observe","document","body","attributes","subtree","disconnect","onChange","current","visualRefreshState","undefined","clearVisualRefreshState","detectVisualRefresh","querySelector","useRuntimeVisualRefresh","add","newVisualRefreshState"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/component-toolkit/lib/internal/visual-mode/index.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useState } from 'react';\nimport { findUpUntil } from '../../dom';\nimport { createSingletonHandler } from '../singleton-handler';\nimport { useStableCallback } from '../stable-callback';\nimport { isDevelopment } from '../is-development';\nimport { warnOnce } from '../logging';\nvar awsuiVisualRefreshFlag = Symbol[\"for\"]('awsui-visual-refresh-flag');\nexport function isMotionDisabled(element) {\n    var _a, _b;\n    return (!!findUpUntil(element, function (node) { return node.classList.contains('awsui-motion-disabled'); }) ||\n        ((_b = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, '(prefers-reduced-motion: reduce)').matches) !== null && _b !== void 0 ? _b : false));\n}\n// Note that this hook doesn't take into consideration @media print (unlike the dark mode CSS),\n// due to challenges with cross-browser implementations of media/print state change listeners.\n// This means that components using this hook will render in dark mode even when printing.\nexport function useCurrentMode(elementRef) {\n    var _a = useState('light'), value = _a[0], setValue = _a[1];\n    useMutationObserver(elementRef, function (node) {\n        var darkModeParent = findUpUntil(node, function (node) { return node.classList.contains('awsui-polaris-dark-mode') || node.classList.contains('awsui-dark-mode'); });\n        setValue(darkModeParent ? 'dark' : 'light');\n    });\n    return value;\n}\nexport function useDensityMode(elementRef) {\n    var _a = useState('comfortable'), value = _a[0], setValue = _a[1];\n    useMutationObserver(elementRef, function (node) {\n        var compactModeParent = findUpUntil(node, function (node) { return node.classList.contains('awsui-polaris-compact-mode') || node.classList.contains('awsui-compact-mode'); });\n        setValue(compactModeParent ? 'compact' : 'comfortable');\n    });\n    return value;\n}\nexport function useReducedMotion(elementRef) {\n    var _a = useState(false), value = _a[0], setValue = _a[1];\n    useMutationObserver(elementRef, function (node) {\n        setValue(isMotionDisabled(node));\n    });\n    return value;\n}\nvar useMutationSingleton = createSingletonHandler(function (handler) {\n    var observer = new MutationObserver(function () { return handler(); });\n    observer.observe(document.body, { attributes: true, subtree: true });\n    return function () { return observer.disconnect(); };\n});\nfunction useMutationObserver(elementRef, onChange) {\n    var handler = useStableCallback(function () {\n        if (elementRef.current) {\n            onChange(elementRef.current);\n        }\n    });\n    useMutationSingleton(handler);\n    useEffect(function () {\n        handler();\n    }, [handler]);\n}\n// We expect VR is to be set only once and before the application is rendered.\nvar visualRefreshState = undefined;\n// for testing\nexport function clearVisualRefreshState() {\n    visualRefreshState = undefined;\n}\nfunction detectVisualRefresh() {\n    return typeof document !== 'undefined' && !!document.querySelector('.awsui-visual-refresh');\n}\nexport function useRuntimeVisualRefresh() {\n    var _a;\n    if (visualRefreshState === undefined) {\n        visualRefreshState = detectVisualRefresh();\n        if (!visualRefreshState && typeof window !== 'undefined' && ((_a = window[awsuiVisualRefreshFlag]) === null || _a === void 0 ? void 0 : _a.call(window))) {\n            document.body.classList.add('awsui-visual-refresh');\n            visualRefreshState = true;\n        }\n    }\n    if (isDevelopment) {\n        var newVisualRefreshState = detectVisualRefresh();\n        if (newVisualRefreshState !== visualRefreshState) {\n            warnOnce('Visual Refresh', 'Dynamic visual refresh change detected. This is not supported. ' +\n                'Make sure `awsui-visual-refresh` is attached to the `<body>` element before initial React render');\n        }\n    }\n    return visualRefreshState;\n}\n"],"mappings":"AAAA;AACA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,WAAW;AACvC,SAASC,sBAAsB,QAAQ,sBAAsB;AAC7D,SAASC,iBAAiB,QAAQ,oBAAoB;AACtD,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,QAAQ,QAAQ,YAAY;AACrC,IAAIC,sBAAsB,GAAGC,MAAM,CAAC,KAAK,CAAC,CAAC,2BAA2B,CAAC;AACvE,OAAO,SAASC,gBAAgB,CAACC,OAAO,EAAE;EACtC,IAAIC,EAAE,EAAEC,EAAE;EACV,OAAQ,CAAC,CAACV,WAAW,CAACQ,OAAO,EAAE,UAAUG,IAAI,EAAE;IAAE,OAAOA,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAC,uBAAuB,CAAC;EAAE,CAAC,CAAC,KACvG,CAACH,EAAE,GAAG,CAACD,EAAE,GAAGK,MAAM,CAACC,UAAU,MAAM,IAAI,IAAIN,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACO,IAAI,CAACF,MAAM,EAAE,kCAAkC,CAAC,CAACG,OAAO,MAAM,IAAI,IAAIP,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,KAAK,CAAC;AACjL;AACA;AACA;AACA;AACA,OAAO,SAASQ,cAAc,CAACC,UAAU,EAAE;EACvC,IAAIV,EAAE,GAAGV,QAAQ,CAAC,OAAO,CAAC;IAAEqB,KAAK,GAAGX,EAAE,CAAC,CAAC,CAAC;IAAEY,QAAQ,GAAGZ,EAAE,CAAC,CAAC,CAAC;EAC3Da,mBAAmB,CAACH,UAAU,EAAE,UAAUR,IAAI,EAAE;IAC5C,IAAIY,cAAc,GAAGvB,WAAW,CAACW,IAAI,EAAE,UAAUA,IAAI,EAAE;MAAE,OAAOA,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAC,yBAAyB,CAAC,IAAIF,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAC,iBAAiB,CAAC;IAAE,CAAC,CAAC;IACpKQ,QAAQ,CAACE,cAAc,GAAG,MAAM,GAAG,OAAO,CAAC;EAC/C,CAAC,CAAC;EACF,OAAOH,KAAK;AAChB;AACA,OAAO,SAASI,cAAc,CAACL,UAAU,EAAE;EACvC,IAAIV,EAAE,GAAGV,QAAQ,CAAC,aAAa,CAAC;IAAEqB,KAAK,GAAGX,EAAE,CAAC,CAAC,CAAC;IAAEY,QAAQ,GAAGZ,EAAE,CAAC,CAAC,CAAC;EACjEa,mBAAmB,CAACH,UAAU,EAAE,UAAUR,IAAI,EAAE;IAC5C,IAAIc,iBAAiB,GAAGzB,WAAW,CAACW,IAAI,EAAE,UAAUA,IAAI,EAAE;MAAE,OAAOA,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAC,4BAA4B,CAAC,IAAIF,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAC,oBAAoB,CAAC;IAAE,CAAC,CAAC;IAC7KQ,QAAQ,CAACI,iBAAiB,GAAG,SAAS,GAAG,aAAa,CAAC;EAC3D,CAAC,CAAC;EACF,OAAOL,KAAK;AAChB;AACA,OAAO,SAASM,gBAAgB,CAACP,UAAU,EAAE;EACzC,IAAIV,EAAE,GAAGV,QAAQ,CAAC,KAAK,CAAC;IAAEqB,KAAK,GAAGX,EAAE,CAAC,CAAC,CAAC;IAAEY,QAAQ,GAAGZ,EAAE,CAAC,CAAC,CAAC;EACzDa,mBAAmB,CAACH,UAAU,EAAE,UAAUR,IAAI,EAAE;IAC5CU,QAAQ,CAACd,gBAAgB,CAACI,IAAI,CAAC,CAAC;EACpC,CAAC,CAAC;EACF,OAAOS,KAAK;AAChB;AACA,IAAIO,oBAAoB,GAAG1B,sBAAsB,CAAC,UAAU2B,OAAO,EAAE;EACjE,IAAIC,QAAQ,GAAG,IAAIC,gBAAgB,CAAC,YAAY;IAAE,OAAOF,OAAO,EAAE;EAAE,CAAC,CAAC;EACtEC,QAAQ,CAACE,OAAO,CAACC,QAAQ,CAACC,IAAI,EAAE;IAAEC,UAAU,EAAE,IAAI;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC;EACpE,OAAO,YAAY;IAAE,OAAON,QAAQ,CAACO,UAAU,EAAE;EAAE,CAAC;AACxD,CAAC,CAAC;AACF,SAASd,mBAAmB,CAACH,UAAU,EAAEkB,QAAQ,EAAE;EAC/C,IAAIT,OAAO,GAAG1B,iBAAiB,CAAC,YAAY;IACxC,IAAIiB,UAAU,CAACmB,OAAO,EAAE;MACpBD,QAAQ,CAAClB,UAAU,CAACmB,OAAO,CAAC;IAChC;EACJ,CAAC,CAAC;EACFX,oBAAoB,CAACC,OAAO,CAAC;EAC7B9B,SAAS,CAAC,YAAY;IAClB8B,OAAO,EAAE;EACb,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;AACjB;AACA;AACA,IAAIW,kBAAkB,GAAGC,SAAS;AAClC;AACA,OAAO,SAASC,uBAAuB,GAAG;EACtCF,kBAAkB,GAAGC,SAAS;AAClC;AACA,SAASE,mBAAmB,GAAG;EAC3B,OAAO,OAAOV,QAAQ,KAAK,WAAW,IAAI,CAAC,CAACA,QAAQ,CAACW,aAAa,CAAC,uBAAuB,CAAC;AAC/F;AACA,OAAO,SAASC,uBAAuB,GAAG;EACtC,IAAInC,EAAE;EACN,IAAI8B,kBAAkB,KAAKC,SAAS,EAAE;IAClCD,kBAAkB,GAAGG,mBAAmB,EAAE;IAC1C,IAAI,CAACH,kBAAkB,IAAI,OAAOzB,MAAM,KAAK,WAAW,KAAK,CAACL,EAAE,GAAGK,MAAM,CAACT,sBAAsB,CAAC,MAAM,IAAI,IAAII,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACO,IAAI,CAACF,MAAM,CAAC,CAAC,EAAE;MACtJkB,QAAQ,CAACC,IAAI,CAACrB,SAAS,CAACiC,GAAG,CAAC,sBAAsB,CAAC;MACnDN,kBAAkB,GAAG,IAAI;IAC7B;EACJ;EACA,IAAIpC,aAAa,EAAE;IACf,IAAI2C,qBAAqB,GAAGJ,mBAAmB,EAAE;IACjD,IAAII,qBAAqB,KAAKP,kBAAkB,EAAE;MAC9CnC,QAAQ,CAAC,gBAAgB,EAAE,iEAAiE,GACxF,kGAAkG,CAAC;IAC3G;EACJ;EACA,OAAOmC,kBAAkB;AAC7B"},"metadata":{},"sourceType":"module"}