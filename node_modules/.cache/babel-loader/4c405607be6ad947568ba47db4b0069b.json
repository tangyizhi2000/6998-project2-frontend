{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport FocusLock from '../../../../internal/components/focus-lock';\nimport Header from '../header';\nimport { UtilityMenuItem } from '../menu-item';\nimport styles from '../../../styles.css.js';\nimport { useUniqueId } from '../../../../internal/hooks/use-unique-id';\nconst UtilitiesView = _ref => {\n  let {\n    headerText,\n    dismissIconAriaLabel,\n    onClose,\n    items = [],\n    focusIndex\n  } = _ref;\n  const headerId = useUniqueId('overflow-menu-header');\n  const ref = useRef(null);\n  useEffect(() => {\n    var _a;\n    // A focus index is used to set the focus back to the submenu trigger\n    // returning from a submenu.\n    if (typeof focusIndex === 'number') {\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  }, [focusIndex]);\n  return React.createElement(FocusLock, {\n    autoFocus: true\n  }, React.createElement(Header, {\n    dismissIconAriaLabel: dismissIconAriaLabel,\n    onClose: onClose\n  }, React.createElement(\"span\", {\n    id: headerId\n  }, headerText)), React.createElement(\"ul\", {\n    className: styles['overflow-menu-list'],\n    \"aria-labelledby\": headerId\n  }, items.map((utility, index) => React.createElement(UtilityMenuItem, Object.assign({\n    key: index,\n    index: index,\n    ref: index === focusIndex ? ref : undefined,\n    onClose: onClose\n  }, utility)))));\n};\nexport default UtilitiesView;","map":{"version":3,"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,SAAS,MAAM,4CAA4C;AAElE,OAAOC,MAAM,MAAM,WAAW;AAC9B,SAASC,eAAe,QAAQ,cAAc;AAK9C,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,SAASC,WAAW,QAAQ,0CAA0C;AAOtE,MAAMC,aAAa,GAAG,QAA8F;EAAA,IAA7F;IAAEC,UAAU;IAAEC,oBAAoB;IAAEC,OAAO;IAAEC,KAAK,GAAG,EAAE;IAAEC;EAAU,CAAsB;EAC9G,MAAMC,QAAQ,GAAGP,WAAW,CAAC,sBAAsB,CAAC;EACpD,MAAMQ,GAAG,GAAGb,MAAM,CAAwC,IAAI,CAAC;EAE/DD,SAAS,CAAC,MAAK;;IACb;IACA;IACA,IAAI,OAAOY,UAAU,KAAK,QAAQ,EAAE;MAClC,SAAG,CAACG,OAAO,0CAAEC,KAAK,EAAE;;EAExB,CAAC,EAAE,CAACJ,UAAU,CAAC,CAAC;EAEhB,OACEb,oBAACG,SAAS;IAACe,SAAS,EAAE;EAAI,GACxBlB,oBAACI,MAAM;IAACM,oBAAoB,EAAEA,oBAAoB;IAAEC,OAAO,EAAEA;EAAO,GAClEX;IAAMmB,EAAE,EAAEL;EAAQ,GAAGL,UAAU,CAAQ,CAChC,EACTT;IAAIoB,SAAS,EAAEd,MAAM,CAAC,oBAAoB,CAAC;IAAA,mBAAmBQ;EAAQ,GACnEF,KAAK,CAACS,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,KACxBvB,oBAACK,eAAe;IACdmB,GAAG,EAAED,KAAK;IACVA,KAAK,EAAEA,KAAK;IACZR,GAAG,EAAEQ,KAAK,KAAKV,UAAU,GAAGE,GAAG,GAAGU,SAAS;IAC3Cd,OAAO,EAAEA;EAAO,GACZW,OAAO,EAEd,CAAC,CACC,CACK;AAEhB,CAAC;AAED,eAAed,aAAa","names":["React","useEffect","useRef","FocusLock","Header","UtilityMenuItem","styles","useUniqueId","UtilitiesView","headerText","dismissIconAriaLabel","onClose","items","focusIndex","headerId","ref","current","focus","autoFocus","id","className","map","utility","index","key","undefined"],"sources":["/Users/tangyizhi/Desktop/Assignment 2/frontend/node_modules/@cloudscape-design/components/top-navigation/parts/overflow-menu/views/lib/default/top-navigation/parts/overflow-menu/views/utilities.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport FocusLock from '../../../../internal/components/focus-lock';\n\nimport Header from '../header';\nimport { UtilityMenuItem } from '../menu-item';\n\nimport { TopNavigationProps } from '../../../interfaces';\n\nimport { View } from '..';\nimport styles from '../../../styles.css.js';\nimport { useUniqueId } from '../../../../internal/hooks/use-unique-id';\n\ninterface UtilitiesViewProps extends View {\n  items: TopNavigationProps['utilities'];\n  focusIndex?: number;\n}\n\nconst UtilitiesView = ({ headerText, dismissIconAriaLabel, onClose, items = [], focusIndex }: UtilitiesViewProps) => {\n  const headerId = useUniqueId('overflow-menu-header');\n  const ref = useRef<HTMLAnchorElement & HTMLButtonElement>(null);\n\n  useEffect(() => {\n    // A focus index is used to set the focus back to the submenu trigger\n    // returning from a submenu.\n    if (typeof focusIndex === 'number') {\n      ref.current?.focus();\n    }\n  }, [focusIndex]);\n\n  return (\n    <FocusLock autoFocus={true}>\n      <Header dismissIconAriaLabel={dismissIconAriaLabel} onClose={onClose}>\n        <span id={headerId}>{headerText}</span>\n      </Header>\n      <ul className={styles['overflow-menu-list']} aria-labelledby={headerId}>\n        {items.map((utility, index) => (\n          <UtilityMenuItem\n            key={index}\n            index={index}\n            ref={index === focusIndex ? ref : undefined}\n            onClose={onClose}\n            {...utility}\n          />\n        ))}\n      </ul>\n    </FocusLock>\n  );\n};\n\nexport default UtilitiesView;\n"]},"metadata":{},"sourceType":"module"}