{"ast":null,"code":"var _jsxFileName = \"/Users/tangyizhi/Desktop/Assignment 2/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/*\n** React CORS friendly Single Page Application - https://github.com/aws-samples/react-cors-spa \nCopyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\ndocumentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\nthe rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\nand to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of\nthe Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE\nWARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport logo from './logo.svg';\nimport logoS3 from './logoS3.png';\nimport logoCF from './logoCloudFront.png';\nimport './App.css';\nimport { useFetch } from \"react-async\";\nimport * as React from \"react\";\nimport ContentLayout from \"@cloudscape-design/components/content-layout\";\nimport Container from \"@cloudscape-design/components/container\";\nimport Header from \"@cloudscape-design/components/header\";\nimport SpaceBetween from \"@cloudscape-design/components/space-between\";\nimport Link from \"@cloudscape-design/components/link\";\nimport Button from \"@cloudscape-design/components/button\";\nimport Alert from \"@cloudscape-design/components/alert\";\nimport FileUpload from \"@cloudscape-design/components/file-upload\";\nimport FormField from \"@cloudscape-design/components/form-field\";\nimport AttributeEditor from \"@cloudscape-design/components/attribute-editor\";\nimport Input from \"@cloudscape-design/components/input\";\n\n// To be replaced by the endpoint of the API deployed through the CloudFormation Template\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst APIEndPoint = 'to be replaced with your api endpoint here';\nfunction App() {\n  _s();\n  const [photo, setPhoto] = React.useState([]);\n  const [labels, setLabels] = React.useState([{\n    label: \"some-label-1\"\n  }]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [APIEndPoint.startsWith('http') && /*#__PURE__*/_jsxDEV(APIResult, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        className: \"App-MainLogo\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ContentLayout, {\n      header: /*#__PURE__*/_jsxDEV(SpaceBetween, {\n        size: \"m\",\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          variant: \"h1\",\n          description: \"A photo album web application that can be searched using natural language through both text and voice.\",\n          children: \"Photo Album Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(SpaceBetween, {\n          size: \"m\",\n          children: [/*#__PURE__*/_jsxDEV(FormField, {\n            label: \"Upload photos\",\n            description: \"Please upload photos, and don't forget to add one or more labels for this photo\",\n            children: /*#__PURE__*/_jsxDEV(FileUpload, {\n              onChange: _ref => {\n                let {\n                  detail\n                } = _ref;\n                return setPhoto(detail.value);\n              },\n              value: photo,\n              i18nStrings: {\n                uploadButtonText: e => e ? \"Choose files\" : \"Choose photo\",\n                dropzoneText: e => e ? \"Drop files to upload\" : \"Drop file to upload\",\n                removeFileAriaLabel: e => `Remove file ${e + 1}`,\n                limitShowFewer: \"Show fewer files\",\n                limitShowMore: \"Show more files\",\n                errorIconAriaLabel: \"Error\"\n              },\n              showFileLastModified: true,\n              showFileSize: true,\n              showFileThumbnail: true,\n              tokenLimit: 3,\n              constraintText: /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: \"Please upload photos only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AttributeEditor, {\n            onAddButtonClick: () => setLabels([...labels, {}]),\n            onRemoveButtonClick: _ref2 => {\n              let {\n                detail: {\n                  itemIndex\n                }\n              } = _ref2;\n              const tmpItems = [...labels];\n              tmpItems.splice(itemIndex, 1);\n              setLabels(tmpItems);\n            },\n            items: labels,\n            addButtonText: \"Add new item\",\n            definition: [{\n              label: \"Label\",\n              control: item => /*#__PURE__*/_jsxDEV(Input, {\n                value: labels.label,\n                placeholder: \"Enter Label\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 21\n              }, this)\n            }],\n            empty: \"No labels associated with this photo.\",\n            removeButtonText: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ncibvnUMbVYUngOXTdV4UEbB4WU=\");\n_c = App;\nconst APIResult = () => {\n  _s2();\n  const {\n    data,\n    error\n  } = useFetch(APIEndPoint, {\n    headers: {\n      accept: \"application/json\"\n    }\n  });\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: error.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 21\n  }, this);\n  if (data) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: data.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 20\n  }, this);\n  return null;\n};\n_s2(APIResult, \"nxGcM3ZnyDIOqE8/kWT+fd3s9HI=\", false, function () {\n  return [useFetch];\n});\n_c2 = APIResult;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"APIResult\");","map":{"version":3,"names":["logo","logoS3","logoCF","useFetch","React","ContentLayout","Container","Header","SpaceBetween","Link","Button","Alert","FileUpload","FormField","AttributeEditor","Input","APIEndPoint","App","photo","setPhoto","useState","labels","setLabels","label","startsWith","detail","value","uploadButtonText","e","dropzoneText","removeFileAriaLabel","limitShowFewer","limitShowMore","errorIconAriaLabel","itemIndex","tmpItems","splice","control","item","APIResult","data","error","headers","accept","message"],"sources":["/Users/tangyizhi/Desktop/Assignment 2/frontend/src/App.js"],"sourcesContent":["/*\n** React CORS friendly Single Page Application - https://github.com/aws-samples/react-cors-spa \nCopyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\ndocumentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\nthe rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\nand to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of\nthe Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE\nWARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport logo from './logo.svg';\nimport logoS3 from './logoS3.png';\nimport logoCF from './logoCloudFront.png';\nimport './App.css';\nimport { useFetch } from \"react-async\"\n\nimport * as React from \"react\";\nimport ContentLayout from \"@cloudscape-design/components/content-layout\";\nimport Container from \"@cloudscape-design/components/container\";\nimport Header from \"@cloudscape-design/components/header\";\nimport SpaceBetween from \"@cloudscape-design/components/space-between\";\nimport Link from \"@cloudscape-design/components/link\";\nimport Button from \"@cloudscape-design/components/button\";\nimport Alert from \"@cloudscape-design/components/alert\";\nimport FileUpload from \"@cloudscape-design/components/file-upload\";\nimport FormField from \"@cloudscape-design/components/form-field\";\nimport AttributeEditor from \"@cloudscape-design/components/attribute-editor\";\nimport Input from \"@cloudscape-design/components/input\";\n\n\n// To be replaced by the endpoint of the API deployed through the CloudFormation Template\nconst APIEndPoint = 'to be replaced with your api endpoint here'\n\nfunction App() {\n\n  const [photo, setPhoto] = React.useState([]);\n  const [labels, setLabels] = React.useState([\n    { label: \"some-label-1\",}\n  ]);\n\n  return (\n    <div className=\"App\">\n        <header className=\"App-header\">\n          {APIEndPoint.startsWith('http') &&\n            <APIResult />\n          }\n          <img src={logo} className=\"App-MainLogo\" alt=\"logo\" />\n        </header>\n\n        <ContentLayout\n        header={\n          <SpaceBetween size=\"m\">\n            <Header\n              variant=\"h1\"\n              description=\"A photo album web application that can be searched using natural language through both text and voice.\"\n            >\n              Photo Album Search\n            </Header>\n          </SpaceBetween>\n        }\n      >\n        <Container>\n          <SpaceBetween size='m'>\n            <FormField\n              label=\"Upload photos\"\n              description=\"Please upload photos, and don't forget to add one or more labels for this photo\"\n            >\n              <FileUpload\n                onChange={({ detail }) => setPhoto(detail.value)}\n                value={photo}\n                i18nStrings={{\n                  uploadButtonText: e =>\n                    e ? \"Choose files\" : \"Choose photo\",\n                  dropzoneText: e =>\n                    e\n                      ? \"Drop files to upload\"\n                      : \"Drop file to upload\",\n                  removeFileAriaLabel: e =>\n                    `Remove file ${e + 1}`,\n                  limitShowFewer: \"Show fewer files\",\n                  limitShowMore: \"Show more files\",\n                  errorIconAriaLabel: \"Error\"\n                }}\n                showFileLastModified\n                showFileSize\n                showFileThumbnail\n                tokenLimit={3}\n                constraintText={\n                  <React.Fragment>\n                    Please upload photos only\n                  </React.Fragment>\n                }\n              />\n            </FormField>\n            <AttributeEditor\n              onAddButtonClick={() => setLabels([...labels, {}])}\n              onRemoveButtonClick={({\n                detail: { itemIndex }\n              }) => {\n                const tmpItems = [...labels];\n                tmpItems.splice(itemIndex, 1);\n                setLabels(tmpItems);\n              }}\n              items={labels}\n              addButtonText=\"Add new item\"\n              definition={[\n                {\n                  label: \"Label\",\n                  control: item => (\n                    <Input\n                      value={labels.label}\n                      placeholder=\"Enter Label\"\n                    />\n                  )\n                },\n              ]}\n              empty=\"No labels associated with this photo.\"\n              removeButtonText=\"Remove\"\n            />\n          </SpaceBetween>\n        </Container>\n      </ContentLayout>\n    </div>\n  );\n}\n\nconst APIResult = () => {\n  const { data, error } = useFetch(APIEndPoint, {\n    headers: { accept: \"application/json\" },\n  })\n  if (error) return <p>{error.message}</p>\n  if (data) return <p>{data.message}</p>\n  return null\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}