{"ast":null,"code":"import _defineProperty from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useLayoutEffect } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { getBaseProps } from '../../base-component';\nvar SelectableItem = function SelectableItem(_a, ref) {\n  var _clsx;\n  var content = _a.children,\n    ariaSelected = _a.ariaSelected,\n    ariaChecked = _a.ariaChecked,\n    selected = _a.selected,\n    highlighted = _a.highlighted,\n    disabled = _a.disabled,\n    hasBackground = _a.hasBackground,\n    isParent = _a.isParent,\n    isChild = _a.isChild,\n    virtualPosition = _a.virtualPosition,\n    padBottom = _a.padBottom,\n    isNextSelected = _a.isNextSelected,\n    useInteractiveGroups = _a.useInteractiveGroups,\n    screenReaderContent = _a.screenReaderContent,\n    ariaPosinset = _a.ariaPosinset,\n    ariaSetsize = _a.ariaSetsize,\n    highlightType = _a.highlightType,\n    restProps = __rest(_a, [\"children\", \"ariaSelected\", \"ariaChecked\", \"selected\", \"highlighted\", \"disabled\", \"hasBackground\", \"isParent\", \"isChild\", \"virtualPosition\", \"padBottom\", \"isNextSelected\", \"useInteractiveGroups\", \"screenReaderContent\", \"ariaPosinset\", \"ariaSetsize\", \"highlightType\"]);\n  var _b = getBaseProps(restProps),\n    className = _b.className,\n    rest = __rest(_b, [\"className\"]);\n  var classNames = clsx(className, styles['selectable-item'], (_clsx = {}, _defineProperty(_clsx, styles.selected, selected), _defineProperty(_clsx, styles.highlighted, highlighted), _defineProperty(_clsx, styles['has-background'], hasBackground), _defineProperty(_clsx, styles.parent, isParent), _defineProperty(_clsx, styles.child, isChild), _defineProperty(_clsx, styles['is-keyboard'], highlightType === 'keyboard'), _defineProperty(_clsx, styles.disabled, disabled), _defineProperty(_clsx, styles.virtual, virtualPosition !== undefined), _defineProperty(_clsx, styles['pad-bottom'], padBottom), _defineProperty(_clsx, styles['next-item-selected'], isNextSelected), _defineProperty(_clsx, styles.interactiveGroups, useInteractiveGroups), _clsx));\n  var contentRef = useRef(null);\n  var screenReaderContentRef = useRef(null);\n  useLayoutEffect(function () {\n    // the state of aria-hidden and announcement is not set back because NVDA+Firefox would announce\n    // the item which lost highlight\n    // set aria-hidden true when there is announcement content, so that screen reader still announce\n    // meaningful content when navigate with screen reader cursor\n    // imperatively update to avoid announcement made multiple times when content updates\n    if (highlighted && screenReaderContent) {\n      if (contentRef.current) {\n        contentRef.current.setAttribute('aria-hidden', 'true');\n      }\n      if (screenReaderContentRef.current) {\n        screenReaderContentRef.current.textContent = screenReaderContent;\n      }\n    }\n  }, [highlighted, screenReaderContent, contentRef, screenReaderContentRef]);\n  var style = virtualPosition !== undefined ? {\n    transform: \"translateY(\".concat(virtualPosition, \"px)\")\n  } : undefined;\n  var a11yProperties = {\n    'aria-disabled': disabled\n  };\n  if (isParent && !useInteractiveGroups) {\n    a11yProperties['aria-hidden'] = true;\n  }\n  if (ariaSelected !== undefined) {\n    a11yProperties['aria-selected'] = ariaSelected;\n  }\n  // Safari+VO needs aria-checked for multi-selection. Otherwise it only announces selected option even though another option is highlighted.\n  if (ariaChecked !== undefined) {\n    a11yProperties['aria-checked'] = ariaChecked;\n  }\n  if (ariaPosinset && ariaSetsize) {\n    a11yProperties['aria-posinset'] = ariaPosinset;\n    a11yProperties['aria-setsize'] = ariaSetsize;\n  }\n  return React.createElement(\"li\", Object.assign({\n    role: \"option\",\n    className: classNames,\n    style: style\n  }, a11yProperties, rest), React.createElement(\"div\", {\n    className: styles['option-content'],\n    ref: contentRef\n  }, content), React.createElement(\"div\", {\n    className: styles['measure-strut'],\n    ref: ref\n  }), React.createElement(\"div\", {\n    className: styles['screenreader-content'],\n    ref: screenReaderContentRef\n  }));\n};\nexport default React.forwardRef(SelectableItem);","map":{"version":3,"mappings":";;AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,eAAe,QAAQ,OAAO;AACtD,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,MAAM,MAAM,iBAAiB;AACpC,SAA6BC,YAAY,QAAQ,sBAAsB;AAqBvE,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAClBC,EAmBsB,EACtBC,GAA8B,EAC5B;EAAA;MApBUC,OAAO,GAgBJF,EAEO,CAlBpBG,QAAQ;IACRC,YAAY,GAeCJ,EAEO,CAjBpBI,YAAY;IACZC,WAAW,GAcEL,EAEO,CAhBpBK,WAAW;IACXC,QAAQ,GAaKN,EAEO,CAfpBM,QAAQ;IACRC,WAAW,GAYEP,EAEO,CAdpBO,WAAW;IACXC,QAAQ,GAWKR,EAEO,CAbpBQ,QAAQ;IACRC,aAAa,GAUAT,EAEO,CAZpBS,aAAa;IACbC,QAAQ,GASKV,EAEO,CAXpBU,QAAQ;IACRC,OAAO,GAQMX,EAEO,CAVpBW,OAAO;IACPC,eAAe,GAOFZ,EAEO,CATpBY,eAAe;IACfC,SAAS,GAMIb,EAEO,CARpBa,SAAS;IACTC,cAAc,GAKDd,EAEO,CAPpBc,cAAc;IACdC,oBAAoB,GAIPf,EAEO,CANpBe,oBAAoB;IACpBC,mBAAmB,GAGNhB,EAEO,CALpBgB,mBAAmB;IACnBC,YAAY,GAECjB,EAEO,CAJpBiB,YAAY;IACZC,WAAW,GACElB,EAEO,CAHpBkB,WAAW;IACXC,aAAa,KAEO,CAFpBA,aAAa;IACVC,SAAS,cAlBd,2QAmBC,CADa;EAIR,SAAyBtB,YAAY,CAACsB,SAAS,CAAC;IAA9CC,SAAS,KAAqC,CAA9CA,SAAS;IAAKC,IAAI,cAApB,aAAsB,CAA0B;EACtD,IAAMC,UAAU,GAAG3B,IAAI,CAACyB,SAAS,EAAExB,MAAM,CAAC,iBAAiB,CAAC,sCACzDA,MAAM,CAACS,QAAQ,EAAGA,QAAQ,0BAC1BT,MAAM,CAACU,WAAW,EAAGA,WAAW,0BAChCV,MAAM,CAAC,gBAAgB,CAAC,EAAGY,aAAa,0BACxCZ,MAAM,CAAC2B,MAAM,EAAGd,QAAQ,0BACxBb,MAAM,CAAC4B,KAAK,EAAGd,OAAO,0BACtBd,MAAM,CAAC,aAAa,CAAC,EAAGsB,aAAa,KAAK,UAAU,0BACpDtB,MAAM,CAACW,QAAQ,EAAGA,QAAQ,0BAC1BX,MAAM,CAAC6B,OAAO,EAAGd,eAAe,KAAKe,SAAS,0BAC9C9B,MAAM,CAAC,YAAY,CAAC,EAAGgB,SAAS,0BAChChB,MAAM,CAAC,oBAAoB,CAAC,EAAGiB,cAAc,0BAC7CjB,MAAM,CAAC+B,iBAAiB,EAAGb,oBAAoB,UAChD;EAEF,IAAMc,UAAU,GAAGnC,MAAM,CAAiB,IAAI,CAAC;EAC/C,IAAMoC,sBAAsB,GAAGpC,MAAM,CAAiB,IAAI,CAAC;EAE3DC,eAAe,CAAC,YAAK;IACnB;IACA;IACA;IACA;IACA;IACA,IAAIY,WAAW,IAAIS,mBAAmB,EAAE;MACtC,IAAIa,UAAU,CAACE,OAAO,EAAE;QACtBF,UAAU,CAACE,OAAO,CAACC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;;MAExD,IAAIF,sBAAsB,CAACC,OAAO,EAAE;QAClCD,sBAAsB,CAACC,OAAO,CAACE,WAAW,GAAGjB,mBAAmB;;;EAGtE,CAAC,EAAE,CAACT,WAAW,EAAES,mBAAmB,EAAEa,UAAU,EAAEC,sBAAsB,CAAC,CAAC;EAE1E,IAAMI,KAAK,GACTtB,eAAe,KAAKe,SAAS,GACzB;IACEQ,SAAS,uBAAgBvB,eAAe;GACzC,GACDe,SAAS;EAEf,IAAMS,cAAc,GAA0D;IAC5E,eAAe,EAAE5B;GAClB;EAED,IAAIE,QAAQ,IAAI,CAACK,oBAAoB,EAAE;IACrCqB,cAAc,CAAC,aAAa,CAAC,GAAG,IAAI;;EAGtC,IAAIhC,YAAY,KAAKuB,SAAS,EAAE;IAC9BS,cAAc,CAAC,eAAe,CAAC,GAAGhC,YAAY;;EAGhD;EACA,IAAIC,WAAW,KAAKsB,SAAS,EAAE;IAC7BS,cAAc,CAAC,cAAc,CAAC,GAAG/B,WAAW;;EAG9C,IAAIY,YAAY,IAAIC,WAAW,EAAE;IAC/BkB,cAAc,CAAC,eAAe,CAAC,GAAGnB,YAAY;IAC9CmB,cAAc,CAAC,cAAc,CAAC,GAAGlB,WAAW;;EAG9C,OACEzB;IAAI4C,IAAI,EAAC,QAAQ;IAAChB,SAAS,EAAEE,UAAU;IAAEW,KAAK,EAAEA;EAAK,GAAME,cAAc,EAAMd,IAAI,GACjF7B;IAAK4B,SAAS,EAAExB,MAAM,CAAC,gBAAgB,CAAC;IAAEI,GAAG,EAAE4B;EAAU,GACtD3B,OAAO,CACJ,EACNT;IAAK4B,SAAS,EAAExB,MAAM,CAAC,eAAe,CAAC;IAAEI,GAAG,EAAEA;EAAG,EAAI,EACrDR;IAAK4B,SAAS,EAAExB,MAAM,CAAC,sBAAsB,CAAC;IAAEI,GAAG,EAAE6B;EAAsB,EAAQ,CAChF;AAET,CAAC;AAED,eAAerC,KAAK,CAAC6C,UAAU,CAACvC,cAAc,CAAC","names":["React","useRef","useLayoutEffect","clsx","styles","getBaseProps","SelectableItem","_a","ref","content","children","ariaSelected","ariaChecked","selected","highlighted","disabled","hasBackground","isParent","isChild","virtualPosition","padBottom","isNextSelected","useInteractiveGroups","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","restProps","className","rest","classNames","parent","child","virtual","undefined","interactiveGroups","contentRef","screenReaderContentRef","current","setAttribute","textContent","style","transform","a11yProperties","role","forwardRef"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/components/selectable-item/lib/default/internal/components/selectable-item/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useLayoutEffect } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { HighlightType } from '../options-list/utils/use-highlight-option.js';\n\nexport type SelectableItemProps = BaseComponentProps & {\n  children: React.ReactNode;\n  selected?: boolean;\n  highlighted?: boolean;\n  disabled?: boolean;\n  hasBackground?: boolean;\n  isParent?: boolean;\n  isChild?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType;\n} & ({ ariaSelected?: boolean; ariaChecked?: never } | { ariaSelected?: never; ariaChecked?: boolean | 'mixed' });\n\nconst SelectableItem = (\n  {\n    children: content,\n    ariaSelected,\n    ariaChecked,\n    selected,\n    highlighted,\n    disabled,\n    hasBackground,\n    isParent,\n    isChild,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    useInteractiveGroups,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: SelectableItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const { className, ...rest } = getBaseProps(restProps);\n  const classNames = clsx(className, styles['selectable-item'], {\n    [styles.selected]: selected,\n    [styles.highlighted]: highlighted,\n    [styles['has-background']]: hasBackground,\n    [styles.parent]: isParent,\n    [styles.child]: isChild,\n    [styles['is-keyboard']]: highlightType === 'keyboard',\n    [styles.disabled]: disabled,\n    [styles.virtual]: virtualPosition !== undefined,\n    [styles['pad-bottom']]: padBottom,\n    [styles['next-item-selected']]: isNextSelected,\n    [styles.interactiveGroups]: useInteractiveGroups,\n  });\n\n  const contentRef = useRef<HTMLDivElement>(null);\n  const screenReaderContentRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    // the state of aria-hidden and announcement is not set back because NVDA+Firefox would announce\n    // the item which lost highlight\n    // set aria-hidden true when there is announcement content, so that screen reader still announce\n    // meaningful content when navigate with screen reader cursor\n    // imperatively update to avoid announcement made multiple times when content updates\n    if (highlighted && screenReaderContent) {\n      if (contentRef.current) {\n        contentRef.current.setAttribute('aria-hidden', 'true');\n      }\n      if (screenReaderContentRef.current) {\n        screenReaderContentRef.current.textContent = screenReaderContent;\n      }\n    }\n  }, [highlighted, screenReaderContent, contentRef, screenReaderContentRef]);\n\n  const style =\n    virtualPosition !== undefined\n      ? {\n          transform: `translateY(${virtualPosition}px)`,\n        }\n      : undefined;\n\n  const a11yProperties: Record<string, string | number | boolean | undefined> = {\n    'aria-disabled': disabled,\n  };\n\n  if (isParent && !useInteractiveGroups) {\n    a11yProperties['aria-hidden'] = true;\n  }\n\n  if (ariaSelected !== undefined) {\n    a11yProperties['aria-selected'] = ariaSelected;\n  }\n\n  // Safari+VO needs aria-checked for multi-selection. Otherwise it only announces selected option even though another option is highlighted.\n  if (ariaChecked !== undefined) {\n    a11yProperties['aria-checked'] = ariaChecked;\n  }\n\n  if (ariaPosinset && ariaSetsize) {\n    a11yProperties['aria-posinset'] = ariaPosinset;\n    a11yProperties['aria-setsize'] = ariaSetsize;\n  }\n\n  return (\n    <li role=\"option\" className={classNames} style={style} {...a11yProperties} {...rest}>\n      <div className={styles['option-content']} ref={contentRef}>\n        {content}\n      </div>\n      <div className={styles['measure-strut']} ref={ref} />\n      <div className={styles['screenreader-content']} ref={screenReaderContentRef}></div>\n    </li>\n  );\n};\n\nexport default React.forwardRef(SelectableItem);\n"]},"metadata":{},"sourceType":"module"}