{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nexport const useAutosuggestLoadMore = _ref => {\n  let {\n    options = [],\n    statusType,\n    onLoadItems\n  } = _ref;\n  const lastFilteringText = useRef(null);\n  const fireLoadMore = _ref2 => {\n    let {\n      firstPage,\n      samePage,\n      filteringText\n    } = _ref2;\n    var _a;\n    if (filteringText === undefined || lastFilteringText.current !== filteringText) {\n      if (filteringText !== undefined) {\n        lastFilteringText.current = filteringText;\n      }\n      onLoadItems({\n        filteringText: (_a = lastFilteringText.current) !== null && _a !== void 0 ? _a : '',\n        firstPage,\n        samePage\n      });\n    }\n  };\n  const fireLoadMoreOnScroll = () => {\n    options.length > 0 && statusType === 'pending' && fireLoadMore({\n      firstPage: false,\n      samePage: false\n    });\n  };\n  const fireLoadMoreOnRecoveryClick = () => fireLoadMore({\n    firstPage: false,\n    samePage: true\n  });\n  const fireLoadMoreOnInputFocus = () => fireLoadMore({\n    firstPage: true,\n    samePage: false,\n    filteringText: ''\n  });\n  const fireLoadMoreOnInputChange = filteringText => fireLoadMore({\n    firstPage: true,\n    samePage: false,\n    filteringText\n  });\n  return {\n    fireLoadMoreOnScroll,\n    fireLoadMoreOnRecoveryClick,\n    fireLoadMoreOnInputFocus,\n    fireLoadMoreOnInputChange\n  };\n};","map":{"version":3,"mappings":"AAAA;AACA;AAEA,SAASA,MAAM,QAAQ,OAAO;AAkB9B,OAAO,MAAMC,sBAAsB,GAAG,QAIyB;EAAA,IAJxB;IACrCC,OAAO,GAAG,EAAE;IACZC,UAAU;IACVC;EAAW,CACiB;EAC5B,MAAMC,iBAAiB,GAAGL,MAAM,CAAgB,IAAI,CAAC;EAErD,MAAMM,YAAY,GAAG,SAQhB;IAAA,IARiB;MACpBC,SAAS;MACTC,QAAQ;MACRC;IAAa,CAKd;;IACC,IAAIA,aAAa,KAAKC,SAAS,IAAIL,iBAAiB,CAACM,OAAO,KAAKF,aAAa,EAAE;MAC9E,IAAIA,aAAa,KAAKC,SAAS,EAAE;QAC/BL,iBAAiB,CAACM,OAAO,GAAGF,aAAa;;MAE3CL,WAAW,CAAC;QAAEK,aAAa,EAAE,uBAAiB,CAACE,OAAO,mCAAI,EAAE;QAAEJ,SAAS;QAAEC;MAAQ,CAAE,CAAC;;EAExF,CAAC;EAED,MAAMI,oBAAoB,GAAG,MAAK;IAChCV,OAAO,CAACW,MAAM,GAAG,CAAC,IAAIV,UAAU,KAAK,SAAS,IAAIG,YAAY,CAAC;MAAEC,SAAS,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAAK,CAAE,CAAC;EACvG,CAAC;EAED,MAAMM,2BAA2B,GAAG,MAAMR,YAAY,CAAC;IAAEC,SAAS,EAAE,KAAK;IAAEC,QAAQ,EAAE;EAAI,CAAE,CAAC;EAE5F,MAAMO,wBAAwB,GAAG,MAAMT,YAAY,CAAC;IAAEC,SAAS,EAAE,IAAI;IAAEC,QAAQ,EAAE,KAAK;IAAEC,aAAa,EAAE;EAAE,CAAE,CAAC;EAE5G,MAAMO,yBAAyB,GAAIP,aAAqB,IACtDH,YAAY,CAAC;IAAEC,SAAS,EAAE,IAAI;IAAEC,QAAQ,EAAE,KAAK;IAAEC;EAAa,CAAE,CAAC;EAEnE,OAAO;IAAEG,oBAAoB;IAAEE,2BAA2B;IAAEC,wBAAwB;IAAEC;EAAyB,CAAE;AACnH,CAAC","names":["useRef","useAutosuggestLoadMore","options","statusType","onLoadItems","lastFilteringText","fireLoadMore","firstPage","samePage","filteringText","undefined","current","fireLoadMoreOnScroll","length","fireLoadMoreOnRecoveryClick","fireLoadMoreOnInputFocus","fireLoadMoreOnInputChange"],"sources":["/Users/tangyizhi/Desktop/Assignment 2/frontend/node_modules/@cloudscape-design/components/autosuggest/lib/default/autosuggest/load-more-controller.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useRef } from 'react';\nimport { AutosuggestProps } from './interfaces';\nimport { OptionsLoadItemsDetail } from '../internal/components/dropdown/interfaces';\nimport { DropdownStatusProps } from '../internal/components/dropdown-status/interfaces';\n\nexport interface UseAutosuggestLoadMoreProps {\n  options?: AutosuggestProps.Options;\n  statusType: DropdownStatusProps.StatusType;\n  onLoadItems: (detail: OptionsLoadItemsDetail) => void;\n}\n\nexport interface AutosuggestLoadMoreHandlers {\n  fireLoadMoreOnScroll(): void;\n  fireLoadMoreOnRecoveryClick(): void;\n  fireLoadMoreOnInputFocus(): void;\n  fireLoadMoreOnInputChange(filteringText: string): void;\n}\n\nexport const useAutosuggestLoadMore = ({\n  options = [],\n  statusType,\n  onLoadItems,\n}: UseAutosuggestLoadMoreProps): AutosuggestLoadMoreHandlers => {\n  const lastFilteringText = useRef<string | null>(null);\n\n  const fireLoadMore = ({\n    firstPage,\n    samePage,\n    filteringText,\n  }: {\n    firstPage: boolean;\n    samePage: boolean;\n    filteringText?: string;\n  }) => {\n    if (filteringText === undefined || lastFilteringText.current !== filteringText) {\n      if (filteringText !== undefined) {\n        lastFilteringText.current = filteringText;\n      }\n      onLoadItems({ filteringText: lastFilteringText.current ?? '', firstPage, samePage });\n    }\n  };\n\n  const fireLoadMoreOnScroll = () => {\n    options.length > 0 && statusType === 'pending' && fireLoadMore({ firstPage: false, samePage: false });\n  };\n\n  const fireLoadMoreOnRecoveryClick = () => fireLoadMore({ firstPage: false, samePage: true });\n\n  const fireLoadMoreOnInputFocus = () => fireLoadMore({ firstPage: true, samePage: false, filteringText: '' });\n\n  const fireLoadMoreOnInputChange = (filteringText: string) =>\n    fireLoadMore({ firstPage: true, samePage: false, filteringText });\n\n  return { fireLoadMoreOnScroll, fireLoadMoreOnRecoveryClick, fireLoadMoreOnInputFocus, fireLoadMoreOnInputChange };\n};\n"]},"metadata":{},"sourceType":"module"}