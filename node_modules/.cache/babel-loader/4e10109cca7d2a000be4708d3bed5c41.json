{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback } from 'react';\nimport styles from '../styles.css.js';\nexport var usePointerEvents = function usePointerEvents(_ref) {\n  var position = _ref.position,\n    panelRef = _ref.panelRef,\n    handleRef = _ref.handleRef,\n    onResize = _ref.onResize,\n    _ref$hasTransitions = _ref.hasTransitions,\n    hasTransitions = _ref$hasTransitions === void 0 ? false : _ref$hasTransitions;\n  var onDocumentPointerMove = useCallback(function (event) {\n    if (!panelRef || !panelRef.current || !handleRef || !handleRef.current) {\n      return;\n    }\n    panelRef.current.classList.remove(styles['with-motion']);\n    if (position === 'side') {\n      var mouseClientX = event.clientX || 0;\n      // The handle offset aligns the cursor with the middle of the resize handle.\n      var handleOffset = handleRef.current.getBoundingClientRect().width / 2;\n      var width = panelRef.current.getBoundingClientRect().right - mouseClientX + handleOffset;\n      onResize(width);\n    } else {\n      var mouseClientY = event.clientY || 0;\n      // The handle offset aligns the cursor with the middle of the resize handle.\n      var _handleOffset = handleRef.current.getBoundingClientRect().height / 2;\n      var height = panelRef.current.getBoundingClientRect().bottom - mouseClientY + _handleOffset;\n      onResize(height);\n    }\n  }, [position, panelRef, handleRef, onResize]);\n  var onDocumentPointerUp = useCallback(function () {\n    if (!panelRef || !panelRef.current) {\n      return;\n    }\n    if (hasTransitions) {\n      panelRef.current.classList.add(styles['with-motion']);\n    }\n    document.body.classList.remove(styles['resize-active']);\n    document.body.classList.remove(styles[\"resize-\".concat(position)]);\n    document.removeEventListener('pointerup', onDocumentPointerUp);\n    document.removeEventListener('pointermove', onDocumentPointerMove);\n  }, [panelRef, onDocumentPointerMove, position, hasTransitions]);\n  var onSliderPointerDown = useCallback(function () {\n    document.body.classList.add(styles['resize-active']);\n    document.body.classList.add(styles[\"resize-\".concat(position)]);\n    document.addEventListener('pointerup', onDocumentPointerUp);\n    document.addEventListener('pointermove', onDocumentPointerMove);\n  }, [onDocumentPointerMove, onDocumentPointerUp, position]);\n  return onSliderPointerDown;\n};","map":{"version":3,"mappings":"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","names":["useCallback","styles","usePointerEvents","position","panelRef","handleRef","onResize","hasTransitions","onDocumentPointerMove","event","current","classList","remove","mouseClientX","clientX","handleOffset","getBoundingClientRect","width","right","mouseClientY","clientY","height","bottom","onDocumentPointerUp","add","document","body","removeEventListener","onSliderPointerDown","addEventListener"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/app-layout/utils/lib/default/app-layout/utils/use-pointer-events.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback } from 'react';\nimport styles from '../styles.css.js';\nimport { SizeControlProps } from './interfaces';\n\nexport const usePointerEvents = ({\n  position,\n  panelRef,\n  handleRef,\n  onResize,\n  hasTransitions = false,\n}: SizeControlProps) => {\n  const onDocumentPointerMove = useCallback(\n    (event: PointerEvent) => {\n      if (!panelRef || !panelRef.current || !handleRef || !handleRef.current) {\n        return;\n      }\n\n      panelRef.current.classList.remove(styles['with-motion']);\n\n      if (position === 'side') {\n        const mouseClientX = event.clientX || 0;\n\n        // The handle offset aligns the cursor with the middle of the resize handle.\n        const handleOffset = handleRef.current.getBoundingClientRect().width / 2;\n        const width = panelRef.current.getBoundingClientRect().right - mouseClientX + handleOffset;\n\n        onResize(width);\n      } else {\n        const mouseClientY = event.clientY || 0;\n\n        // The handle offset aligns the cursor with the middle of the resize handle.\n        const handleOffset = handleRef.current.getBoundingClientRect().height / 2;\n        const height = panelRef.current.getBoundingClientRect().bottom - mouseClientY + handleOffset;\n\n        onResize(height);\n      }\n    },\n    [position, panelRef, handleRef, onResize]\n  );\n\n  const onDocumentPointerUp = useCallback(() => {\n    if (!panelRef || !panelRef.current) {\n      return;\n    }\n\n    if (hasTransitions) {\n      panelRef.current.classList.add(styles['with-motion']);\n    }\n    document.body.classList.remove(styles['resize-active']);\n    document.body.classList.remove(styles[`resize-${position}`]);\n    document.removeEventListener('pointerup', onDocumentPointerUp);\n    document.removeEventListener('pointermove', onDocumentPointerMove);\n  }, [panelRef, onDocumentPointerMove, position, hasTransitions]);\n\n  const onSliderPointerDown = useCallback(() => {\n    document.body.classList.add(styles['resize-active']);\n    document.body.classList.add(styles[`resize-${position}`]);\n    document.addEventListener('pointerup', onDocumentPointerUp);\n    document.addEventListener('pointermove', onDocumentPointerMove);\n  }, [onDocumentPointerMove, onDocumentPointerUp, position]);\n\n  return onSliderPointerDown;\n};\n"]},"metadata":{},"sourceType":"module"}