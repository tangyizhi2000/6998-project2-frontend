{"ast":null,"code":"import _classCallCheck from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport debounce from '../../debounce';\nexport var DrawersController = /*#__PURE__*/function () {\n  function DrawersController() {\n    var _this = this;\n    _classCallCheck(this, DrawersController);\n    this.drawers = [];\n    this.drawersRegistrationListener = null;\n    this.scheduleUpdate = debounce(function () {\n      var _a;\n      (_a = _this.drawersRegistrationListener) === null || _a === void 0 ? void 0 : _a.call(_this, _this.drawers);\n    }, 0);\n    this.registerDrawer = function (config) {\n      _this.drawers = _this.drawers.concat(config);\n      _this.scheduleUpdate();\n    };\n    this.onDrawersRegistered = function (listener) {\n      if (_this.drawersRegistrationListener !== null) {\n        console.warn('[AwsUi] [runtime drawers] multiple app layout instances detected');\n      }\n      _this.drawersRegistrationListener = listener;\n      _this.scheduleUpdate();\n      return function () {\n        _this.drawersRegistrationListener = null;\n      };\n    };\n    this.clearRegisteredDrawers = function () {\n      _this.drawers = [];\n    };\n  }\n  _createClass(DrawersController, [{\n    key: \"installPublic\",\n    value: function installPublic() {\n      var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _a;\n      (_a = api.registerDrawer) !== null && _a !== void 0 ? _a : api.registerDrawer = this.registerDrawer;\n      return api;\n    }\n  }, {\n    key: \"installInternal\",\n    value: function installInternal() {\n      var internalApi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _a, _b;\n      (_a = internalApi.clearRegisteredDrawers) !== null && _a !== void 0 ? _a : internalApi.clearRegisteredDrawers = this.clearRegisteredDrawers;\n      (_b = internalApi.onDrawersRegistered) !== null && _b !== void 0 ? _b : internalApi.onDrawersRegistered = this.onDrawersRegistered;\n      return internalApi;\n    }\n  }]);\n  return DrawersController;\n}();","map":{"version":3,"mappings":";;AAGA,OAAOA,QAAQ,MAAM,gBAAgB;AAsBrC,WAAaC,iBAAiB;EAA9B;IAAA;IAAA;IACU,YAAO,GAAwB,EAAE;IACjC,gCAA2B,GAAuC,IAAI;IAE9E,mBAAc,GAAGD,QAAQ,CAAC,YAAK;;MAC7B,WAAI,CAACE,2BAA2B,sDAAG,KAAI,CAACC,OAAO,CAAC;IAClD,CAAC,EAAE,CAAC,CAAC;IAEL,mBAAc,GAAG,UAACC,MAAoB,EAAI;MACxC,KAAI,CAACD,OAAO,GAAG,KAAI,CAACA,OAAO,CAACE,MAAM,CAACD,MAAM,CAAC;MAC1C,KAAI,CAACE,cAAc,EAAE;IACvB,CAAC;IAED,wBAAmB,GAAG,UAACC,QAAqC,EAAI;MAC9D,IAAI,KAAI,CAACL,2BAA2B,KAAK,IAAI,EAAE;QAC7CM,OAAO,CAACC,IAAI,CAAC,kEAAkE,CAAC;;MAElF,KAAI,CAACP,2BAA2B,GAAGK,QAAQ;MAC3C,KAAI,CAACD,cAAc,EAAE;MACrB,OAAO,YAAK;QACV,KAAI,CAACJ,2BAA2B,GAAG,IAAI;MACzC,CAAC;IACH,CAAC;IAED,2BAAsB,GAAG,YAAK;MAC5B,KAAI,CAACC,OAAO,GAAG,EAAE;IACnB,CAAC;EAYH;EAAC;IAAA;IAAA,OAVC,yBAAiD;MAAA,IAAnCO,0EAAiC,EAAE;;MAC/C,SAAG,CAACC,cAAc,mCAAlBD,GAAG,CAACC,cAAc,GAAK,IAAI,CAACA,cAAc;MAC1C,OAAOD,GAAuB;IAChC;EAAC;IAAA;IAAA,OAED,2BAA6D;MAAA,IAA7CE,kFAA2C,EAAE;;MAC3D,iBAAW,CAACC,sBAAsB,mCAAlCD,WAAW,CAACC,sBAAsB,GAAK,IAAI,CAACA,sBAAsB;MAClE,iBAAW,CAACC,mBAAmB,mCAA/BF,WAAW,CAACE,mBAAmB,GAAK,IAAI,CAACA,mBAAmB;MAC5D,OAAOF,WAAiC;IAC1C;EAAC;EAAA;AAAA","names":["debounce","DrawersController","drawersRegistrationListener","drawers","config","concat","scheduleUpdate","listener","console","warn","api","registerDrawer","internalApi","clearRegisteredDrawers","onDrawersRegistered"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/plugins/controllers/lib/default/internal/plugins/controllers/drawers.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DrawerItem } from '../../../app-layout/drawer/interfaces';\nimport debounce from '../../debounce';\n\nexport type DrawerConfig = Omit<DrawerItem, 'content' | 'trigger'> & {\n  orderPriority?: number;\n  defaultActive?: boolean;\n  trigger: {\n    iconSvg: string;\n  };\n  mountContent: (container: HTMLElement) => void;\n  unmountContent: (container: HTMLElement) => void;\n};\nexport type DrawersRegistrationListener = (drawers: Array<DrawerConfig>) => void;\n\nexport interface DrawersApiPublic {\n  registerDrawer(config: DrawerConfig): void;\n}\n\nexport interface DrawersApiInternal {\n  clearRegisteredDrawers(): void;\n  onDrawersRegistered(listener: DrawersRegistrationListener): () => void;\n}\n\nexport class DrawersController {\n  private drawers: Array<DrawerConfig> = [];\n  private drawersRegistrationListener: DrawersRegistrationListener | null = null;\n\n  scheduleUpdate = debounce(() => {\n    this.drawersRegistrationListener?.(this.drawers);\n  }, 0);\n\n  registerDrawer = (config: DrawerConfig) => {\n    this.drawers = this.drawers.concat(config);\n    this.scheduleUpdate();\n  };\n\n  onDrawersRegistered = (listener: DrawersRegistrationListener) => {\n    if (this.drawersRegistrationListener !== null) {\n      console.warn('[AwsUi] [runtime drawers] multiple app layout instances detected');\n    }\n    this.drawersRegistrationListener = listener;\n    this.scheduleUpdate();\n    return () => {\n      this.drawersRegistrationListener = null;\n    };\n  };\n\n  clearRegisteredDrawers = () => {\n    this.drawers = [];\n  };\n\n  installPublic(api: Partial<DrawersApiPublic> = {}): DrawersApiPublic {\n    api.registerDrawer ??= this.registerDrawer;\n    return api as DrawersApiPublic;\n  }\n\n  installInternal(internalApi: Partial<DrawersApiInternal> = {}): DrawersApiInternal {\n    internalApi.clearRegisteredDrawers ??= this.clearRegisteredDrawers;\n    internalApi.onDrawersRegistered ??= this.onDrawersRegistered;\n    return internalApi as DrawersApiInternal;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}