{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport InternalForm from './internal';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { AnalyticsFunnel, AnalyticsFunnelStep } from '../internal/analytics/components/analytics-funnel';\nimport { ButtonContext } from '../internal/context/button-context';\nimport { useFunnel, useFunnelNameSelector, useFunnelStep } from '../internal/analytics/hooks/use-funnel';\nimport formStyles from './styles.css.js';\nimport headerStyles from '../header/styles.css.js';\nvar FormWithAnalytics = function FormWithAnalytics(_a) {\n  var _a$variant = _a.variant,\n    variant = _a$variant === void 0 ? 'full-page' : _a$variant,\n    actions = _a.actions,\n    props = __rest(_a, [\"variant\", \"actions\"]);\n  var _useFunnel = useFunnel(),\n    funnelProps = _useFunnel.funnelProps,\n    funnelSubmit = _useFunnel.funnelSubmit,\n    funnelNextOrSubmitAttempt = _useFunnel.funnelNextOrSubmitAttempt;\n  var _useFunnelStep = useFunnelStep(),\n    funnelStepProps = _useFunnelStep.funnelStepProps;\n  var handleActionButtonClick = function handleActionButtonClick(_ref) {\n    var variant = _ref.variant;\n    if (variant === 'primary') {\n      funnelNextOrSubmitAttempt();\n      funnelSubmit();\n    }\n  };\n  return React.createElement(AnalyticsFunnelStep, {\n    stepNumber: 1\n  }, React.createElement(ButtonContext.Provider, {\n    value: {\n      onClick: handleActionButtonClick\n    }\n  }, React.createElement(InternalForm, Object.assign({\n    variant: variant,\n    actions: actions\n  }, props, funnelProps, funnelStepProps))));\n};\nexport default function Form(_a) {\n  var _a$variant2 = _a.variant,\n    variant = _a$variant2 === void 0 ? 'full-page' : _a$variant2,\n    props = __rest(_a, [\"variant\"]);\n  var baseComponentProps = useBaseComponent('Form');\n  var inheritedFunnelNameSelector = useFunnelNameSelector();\n  var funnelNameSelector = inheritedFunnelNameSelector || \".\".concat(headerStyles['heading-text']);\n  return React.createElement(AnalyticsFunnel, {\n    funnelType: \"single-page\",\n    optionalStepNumbers: [],\n    totalFunnelSteps: 1,\n    funnelNameSelectors: [funnelNameSelector, \".\".concat(formStyles.header)]\n  }, React.createElement(FormWithAnalytics, Object.assign({\n    variant: variant\n  }, props, baseComponentProps)));\n}\napplyDisplayName(Form, 'Form');","map":{"version":3,"mappings":";AAAA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,QAAQ,sCAAsC;AAEvE,OAAOC,YAAY,MAAM,YAAY;AACrC,OAAOC,gBAAgB,MAAM,sCAAsC;AAEnE,SAASC,eAAe,EAAEC,mBAAmB,QAAQ,mDAAmD;AACxG,SAASC,aAAa,QAA4B,oCAAoC;AACtF,SAASC,SAAS,EAAEC,qBAAqB,EAAEC,aAAa,QAAQ,wCAAwC;AAExG,OAAOC,UAAU,MAAM,iBAAiB;AACxC,OAAOC,YAAY,MAAM,yBAAyB;AAIlD,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,EAAuD,EAAI;mBAA3BA,EAAuB,CAArDC,OAAO;IAAPA,OAAO,2BAAG,WAAW;IAAEC,OAAO,KAAuB,CAA9BA,OAAO;IAAKC,KAAK,cAA1C,sBAA4C,CAAF;EACnE,iBAAiET,SAAS,EAAE;IAApEU,WAAW,cAAXA,WAAW;IAAEC,YAAY,cAAZA,YAAY;IAAEC,yBAAyB,cAAzBA,yBAAyB;EAC5D,qBAA4BV,aAAa,EAAE;IAAnCW,eAAe,kBAAfA,eAAe;EAEvB,IAAMC,uBAAuB,GAAkC,SAAzDA,uBAAuB,OAAkD;IAAA,IAAbP,OAAO,QAAPA,OAAO;IACvE,IAAIA,OAAO,KAAK,SAAS,EAAE;MACzBK,yBAAyB,EAAE;MAC3BD,YAAY,EAAE;;EAElB,CAAC;EAED,OACElB,oBAACK,mBAAmB;IAACiB,UAAU,EAAE;EAAC,GAChCtB,oBAACM,aAAa,CAACiB,QAAQ;IAACC,KAAK,EAAE;MAAEC,OAAO,EAAEJ;IAAuB;EAAE,GACjErB,oBAACE,YAAY;IAACY,OAAO,EAAEA,OAAO;IAAEC,OAAO,EAAEA;EAAO,GAAMC,KAAK,EAAMC,WAAW,EAAMG,eAAe,EAAI,CAC9E,CACL;AAE1B,CAAC;AAED,eAAc,SAAUM,IAAI,CAACb,EAA8C;oBAAvBA,EAAuB,CAA5CC,OAAO;IAAPA,OAAO,4BAAG,WAAW;IAAKE,KAAK,cAAjC,WAAmC,CAAF;EAC5D,IAAMW,kBAAkB,GAAGxB,gBAAgB,CAAC,MAAM,CAAC;EACnD,IAAMyB,2BAA2B,GAAGpB,qBAAqB,EAAE;EAC3D,IAAMqB,kBAAkB,GAAGD,2BAA2B,eAAQjB,YAAY,CAAC,cAAc,CAAC,CAAE;EAE5F,OACEX,oBAACI,eAAe;IACd0B,UAAU,EAAC,aAAa;IACxBC,mBAAmB,EAAE,EAAE;IACvBC,gBAAgB,EAAE,CAAC;IACnBC,mBAAmB,EAAE,CAACJ,kBAAkB,aAAMnB,UAAU,CAACwB,MAAM;EAAG,GAElElC,oBAACY,iBAAiB;IAACE,OAAO,EAAEA;EAAO,GAAME,KAAK,EAAMW,kBAAkB,EAAI,CAC1D;AAEtB;AAEA1B,gBAAgB,CAACyB,IAAI,EAAE,MAAM,CAAC","names":["React","applyDisplayName","InternalForm","useBaseComponent","AnalyticsFunnel","AnalyticsFunnelStep","ButtonContext","useFunnel","useFunnelNameSelector","useFunnelStep","formStyles","headerStyles","FormWithAnalytics","_a","variant","actions","props","funnelProps","funnelSubmit","funnelNextOrSubmitAttempt","funnelStepProps","handleActionButtonClick","stepNumber","Provider","value","onClick","Form","baseComponentProps","inheritedFunnelNameSelector","funnelNameSelector","funnelType","optionalStepNumbers","totalFunnelSteps","funnelNameSelectors","header"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/form/lib/default/form/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { FormProps } from './interfaces';\nimport InternalForm from './internal';\nimport useBaseComponent from '../internal/hooks/use-base-component';\n\nimport { AnalyticsFunnel, AnalyticsFunnelStep } from '../internal/analytics/components/analytics-funnel';\nimport { ButtonContext, ButtonContextProps } from '../internal/context/button-context';\nimport { useFunnel, useFunnelNameSelector, useFunnelStep } from '../internal/analytics/hooks/use-funnel';\n\nimport formStyles from './styles.css.js';\nimport headerStyles from '../header/styles.css.js';\n\nexport { FormProps };\n\nconst FormWithAnalytics = ({ variant = 'full-page', actions, ...props }: FormProps) => {\n  const { funnelProps, funnelSubmit, funnelNextOrSubmitAttempt } = useFunnel();\n  const { funnelStepProps } = useFunnelStep();\n\n  const handleActionButtonClick: ButtonContextProps['onClick'] = ({ variant }) => {\n    if (variant === 'primary') {\n      funnelNextOrSubmitAttempt();\n      funnelSubmit();\n    }\n  };\n\n  return (\n    <AnalyticsFunnelStep stepNumber={1}>\n      <ButtonContext.Provider value={{ onClick: handleActionButtonClick }}>\n        <InternalForm variant={variant} actions={actions} {...props} {...funnelProps} {...funnelStepProps} />\n      </ButtonContext.Provider>\n    </AnalyticsFunnelStep>\n  );\n};\n\nexport default function Form({ variant = 'full-page', ...props }: FormProps) {\n  const baseComponentProps = useBaseComponent('Form');\n  const inheritedFunnelNameSelector = useFunnelNameSelector();\n  const funnelNameSelector = inheritedFunnelNameSelector || `.${headerStyles['heading-text']}`;\n\n  return (\n    <AnalyticsFunnel\n      funnelType=\"single-page\"\n      optionalStepNumbers={[]}\n      totalFunnelSteps={1}\n      funnelNameSelectors={[funnelNameSelector, `.${formStyles.header}`]}\n    >\n      <FormWithAnalytics variant={variant} {...props} {...baseComponentProps} />\n    </AnalyticsFunnel>\n  );\n}\n\napplyDisplayName(Form, 'Form');\n"]},"metadata":{},"sourceType":"module"}