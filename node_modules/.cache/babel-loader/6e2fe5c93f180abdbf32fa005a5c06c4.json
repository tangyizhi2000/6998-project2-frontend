{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect } from 'react';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable';\n// Provides controlled or uncontrolled props to filter chart series.\nexport default function useFilterProps(series, controlledVisibleSeries, controlledOnVisibleChange) {\n  const [visibleSeries = [], setVisibleSeriesState] = useControllable(controlledVisibleSeries, controlledOnVisibleChange, series, {\n    componentName: 'AreaChart',\n    controlledProp: 'visibleSeries',\n    changeHandler: 'onFilterChange'\n  });\n  const setVisibleSeries = useCallback(selectedSeries => {\n    setVisibleSeriesState(selectedSeries);\n    fireNonCancelableEvent(controlledOnVisibleChange, {\n      visibleSeries: selectedSeries\n    });\n  }, [controlledOnVisibleChange, setVisibleSeriesState]);\n  // Reset filter if series change.\n  useEffect(() => {\n    const newVisibleSeries = visibleSeries.filter(s => series.indexOf(s) !== -1);\n    if (newVisibleSeries.length !== visibleSeries.length) {\n      setVisibleSeries(newVisibleSeries);\n    }\n  }, [series, visibleSeries, setVisibleSeries]);\n  return [visibleSeries, setVisibleSeries];\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAASA,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAC9C,SAASC,sBAAsB,QAAmC,uBAAuB;AACzF,SAASC,eAAe,QAAQ,uCAAuC;AAKvE;AACA,eAAc,SAAUC,cAAc,CACpCC,MAA2C,EAC3CC,uBAA6D,EAC7DC,yBAA2F;EAE3F,MAAM,CAACC,aAAa,GAAG,EAAE,EAAEC,qBAAqB,CAAC,GAAGN,eAAe,CACjEG,uBAAuB,EACvBC,yBAAyB,EACzBF,MAAM,EACN;IACEK,aAAa,EAAE,WAAW;IAC1BC,cAAc,EAAE,eAAe;IAC/BC,aAAa,EAAE;GAChB,CACF;EAED,MAAMC,gBAAgB,GAAGb,WAAW,CACjCc,cAAmD,IAAI;IACtDL,qBAAqB,CAACK,cAAc,CAAC;IACrCZ,sBAAsB,CAACK,yBAAyB,EAAE;MAAEC,aAAa,EAAEM;IAAc,CAAE,CAAC;EACtF,CAAC,EACD,CAACP,yBAAyB,EAAEE,qBAAqB,CAAC,CACnD;EAED;EACAR,SAAS,CAAC,MAAK;IACb,MAAMc,gBAAgB,GAAGP,aAAa,CAACQ,MAAM,CAACC,CAAC,IAAIZ,MAAM,CAACa,OAAO,CAACD,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IAE5E,IAAIF,gBAAgB,CAACI,MAAM,KAAKX,aAAa,CAACW,MAAM,EAAE;MACpDN,gBAAgB,CAACE,gBAAgB,CAAC;;EAEtC,CAAC,EAAE,CAACV,MAAM,EAAEG,aAAa,EAAEK,gBAAgB,CAAC,CAAC;EAE7C,OAAO,CAACL,aAAa,EAAEK,gBAAgB,CAAC;AAC1C","names":["useCallback","useEffect","fireNonCancelableEvent","useControllable","useFilterProps","series","controlledVisibleSeries","controlledOnVisibleChange","visibleSeries","setVisibleSeriesState","componentName","controlledProp","changeHandler","setVisibleSeries","selectedSeries","newVisibleSeries","filter","s","indexOf","length"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/area-chart/model/lib/default/area-chart/model/use-filter-props.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect } from 'react';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable';\nimport { AreaChartProps } from '../interfaces';\n\ntype FilterProps<T> = [readonly AreaChartProps.Series<T>[], (series: readonly AreaChartProps.Series<T>[]) => void];\n\n// Provides controlled or uncontrolled props to filter chart series.\nexport default function useFilterProps<T>(\n  series: readonly AreaChartProps.Series<T>[],\n  controlledVisibleSeries?: readonly AreaChartProps.Series<T>[],\n  controlledOnVisibleChange?: NonCancelableEventHandler<AreaChartProps.FilterChangeDetail<T>>\n): FilterProps<T> {\n  const [visibleSeries = [], setVisibleSeriesState] = useControllable(\n    controlledVisibleSeries,\n    controlledOnVisibleChange,\n    series,\n    {\n      componentName: 'AreaChart',\n      controlledProp: 'visibleSeries',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  const setVisibleSeries = useCallback(\n    (selectedSeries: readonly AreaChartProps.Series<T>[]) => {\n      setVisibleSeriesState(selectedSeries);\n      fireNonCancelableEvent(controlledOnVisibleChange, { visibleSeries: selectedSeries });\n    },\n    [controlledOnVisibleChange, setVisibleSeriesState]\n  );\n\n  // Reset filter if series change.\n  useEffect(() => {\n    const newVisibleSeries = visibleSeries.filter(s => series.indexOf(s) !== -1);\n\n    if (newVisibleSeries.length !== visibleSeries.length) {\n      setVisibleSeries(newVisibleSeries);\n    }\n  }, [series, visibleSeries, setVisibleSeries]);\n\n  return [visibleSeries, setVisibleSeries];\n}\n"]},"metadata":{},"sourceType":"module"}