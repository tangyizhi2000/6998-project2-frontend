{"ast":null,"code":"import _defineProperty from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { isLinkItem } from '../utils/utils';\nimport styles from './styles.css.js';\nimport Tooltip from '../tooltip';\nimport { getItemTarget } from '../utils/utils';\nimport useHiddenDescription from '../utils/use-hidden-description';\nimport InternalIcon from '../../icon/internal';\nimport { useDropdownContext } from '../../internal/components/dropdown/context';\nimport { getMenuItemProps } from '../utils/menu-item';\nvar ItemElement = function ItemElement(_ref) {\n  var _clsx;\n  var item = _ref.item,\n    disabled = _ref.disabled,\n    onItemActivate = _ref.onItemActivate,\n    highlighted = _ref.highlighted,\n    highlightItem = _ref.highlightItem,\n    _ref$first = _ref.first,\n    first = _ref$first === void 0 ? false : _ref$first,\n    last = _ref.last,\n    hasCategoryHeader = _ref.hasCategoryHeader,\n    _ref$isKeyboardHighli = _ref.isKeyboardHighlighted,\n    isKeyboardHighlighted = _ref$isKeyboardHighli === void 0 ? false : _ref$isKeyboardHighli,\n    _ref$variant = _ref.variant,\n    variant = _ref$variant === void 0 ? 'normal' : _ref$variant;\n  var isLink = isLinkItem(item);\n  var onClick = function onClick(event) {\n    // Stop propagation to parent node and handle event exclusively in here. This ensures\n    // that no group will interfere with the default behavior of links\n    event.stopPropagation();\n    if (!isLink) {\n      event.preventDefault();\n    }\n    if (!disabled) {\n      onItemActivate(item, event);\n    }\n  };\n  var onHover = function onHover() {\n    highlightItem(item);\n  };\n  return React.createElement(\"li\", {\n    className: clsx(styles['item-element'], styles[\"variant-\".concat(variant)], (_clsx = {}, _defineProperty(_clsx, styles.highlighted, highlighted), _defineProperty(_clsx, styles.disabled, disabled), _defineProperty(_clsx, styles.first, first), _defineProperty(_clsx, styles.last, last), _defineProperty(_clsx, styles['has-category-header'], hasCategoryHeader), _defineProperty(_clsx, styles['is-focused'], isKeyboardHighlighted), _clsx)),\n    role: \"presentation\",\n    \"data-testid\": item.id,\n    \"data-description\": item.description,\n    onClick: onClick,\n    onMouseEnter: onHover,\n    onTouchStart: onHover\n  }, React.createElement(MenuItem, {\n    item: item,\n    disabled: disabled,\n    highlighted: highlighted\n  }));\n};\nfunction MenuItem(_ref2) {\n  var item = _ref2.item,\n    disabled = _ref2.disabled,\n    highlighted = _ref2.highlighted;\n  var menuItemRef = useRef(null);\n  useEffect(function () {\n    if (highlighted && menuItemRef.current) {\n      menuItemRef.current.focus();\n    }\n  }, [highlighted]);\n  var isDisabledWithReason = disabled && item.disabledReason;\n  var _useHiddenDescription = useHiddenDescription(item.disabledReason),\n    targetProps = _useHiddenDescription.targetProps,\n    descriptionEl = _useHiddenDescription.descriptionEl;\n  var menuItemProps = Object.assign(Object.assign({\n    className: styles['menu-item'],\n    lang: item.lang,\n    ref: menuItemRef,\n    // We are using the roving tabindex technique to manage the focus state of the dropdown.\n    // The current element will always have tabindex=0 which means that it can be tabbed to,\n    // while all other items have tabindex=-1 so we can focus them when necessary.\n    tabIndex: highlighted ? 0 : -1\n  }, getMenuItemProps({\n    disabled: disabled\n  })), isDisabledWithReason ? targetProps : {});\n  var menuItem = isLinkItem(item) ? React.createElement(\"a\", Object.assign({}, menuItemProps, {\n    href: !disabled ? item.href : undefined,\n    target: getItemTarget(item),\n    rel: item.external ? 'noopener noreferrer' : undefined\n  }), React.createElement(MenuItemContent, {\n    item: item,\n    disabled: disabled\n  })) : React.createElement(\"span\", Object.assign({}, menuItemProps), React.createElement(MenuItemContent, {\n    item: item,\n    disabled: disabled\n  }));\n  var _useDropdownContext = useDropdownContext(),\n    position = _useDropdownContext.position;\n  var tooltipPosition = position === 'bottom-left' || position === 'top-left' ? 'left' : 'right';\n  return isDisabledWithReason ? React.createElement(Tooltip, {\n    content: item.disabledReason,\n    position: tooltipPosition\n  }, menuItem, descriptionEl) : menuItem;\n}\nvar MenuItemContent = function MenuItemContent(_ref3) {\n  var item = _ref3.item,\n    disabled = _ref3.disabled;\n  var hasIcon = !!(item.iconName || item.iconUrl || item.iconSvg);\n  var hasExternal = isLinkItem(item) && item.external;\n  return React.createElement(React.Fragment, null, hasIcon && React.createElement(MenuItemIcon, {\n    name: item.iconName,\n    url: item.iconUrl,\n    svg: item.iconSvg,\n    alt: item.iconAlt,\n    badge: item.badge\n  }), ' ', item.text, \" \", hasExternal && React.createElement(ExternalIcon, {\n    disabled: disabled,\n    ariaLabel: item.externalIconAriaLabel\n  }));\n};\nvar MenuItemIcon = function MenuItemIcon(props) {\n  return React.createElement(\"span\", {\n    className: styles.icon\n  }, React.createElement(InternalIcon, Object.assign({}, props)));\n};\nvar ExternalIcon = function ExternalIcon(_ref4) {\n  var disabled = _ref4.disabled,\n    ariaLabel = _ref4.ariaLabel;\n  var icon = React.createElement(InternalIcon, {\n    variant: disabled ? 'disabled' : 'normal',\n    name: \"external\"\n  });\n  return React.createElement(\"span\", {\n    className: styles['external-icon'],\n    role: ariaLabel ? 'img' : undefined,\n    \"aria-label\": ariaLabel\n  }, icon);\n};\nexport default ItemElement;","map":{"version":3,"mappings":"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","names":["React","useEffect","useRef","clsx","isLinkItem","styles","Tooltip","getItemTarget","useHiddenDescription","InternalIcon","useDropdownContext","getMenuItemProps","ItemElement","item","disabled","onItemActivate","highlighted","highlightItem","first","last","hasCategoryHeader","isKeyboardHighlighted","variant","isLink","onClick","event","stopPropagation","preventDefault","onHover","className","role","id","description","onMouseEnter","onTouchStart","MenuItem","menuItemRef","current","focus","isDisabledWithReason","disabledReason","targetProps","descriptionEl","menuItemProps","lang","ref","tabIndex","menuItem","href","undefined","target","rel","external","MenuItemContent","position","tooltipPosition","content","hasIcon","iconName","iconUrl","iconSvg","hasExternal","MenuItemIcon","name","url","svg","alt","iconAlt","badge","text","ExternalIcon","ariaLabel","externalIconAriaLabel","props","icon"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/button-dropdown/item-element/lib/default/button-dropdown/item-element/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { ItemProps } from '../interfaces';\nimport { isLinkItem } from '../utils/utils';\nimport styles from './styles.css.js';\nimport Tooltip from '../tooltip';\n\nimport { ButtonDropdownProps } from '../interfaces';\nimport { getItemTarget } from '../utils/utils';\nimport useHiddenDescription from '../utils/use-hidden-description';\nimport InternalIcon, { InternalIconProps } from '../../icon/internal';\nimport { useDropdownContext } from '../../internal/components/dropdown/context';\nimport { getMenuItemProps } from '../utils/menu-item';\n\nconst ItemElement = ({\n  item,\n  disabled,\n  onItemActivate,\n  highlighted,\n  highlightItem,\n  first = false,\n  last,\n  hasCategoryHeader,\n  isKeyboardHighlighted = false,\n  variant = 'normal',\n}: ItemProps) => {\n  const isLink = isLinkItem(item);\n  const onClick = (event: React.MouseEvent) => {\n    // Stop propagation to parent node and handle event exclusively in here. This ensures\n    // that no group will interfere with the default behavior of links\n    event.stopPropagation();\n    if (!isLink) {\n      event.preventDefault();\n    }\n    if (!disabled) {\n      onItemActivate(item, event);\n    }\n  };\n\n  const onHover = () => {\n    highlightItem(item);\n  };\n\n  return (\n    <li\n      className={clsx(styles['item-element'], styles[`variant-${variant}`], {\n        [styles.highlighted]: highlighted,\n        [styles.disabled]: disabled,\n        [styles.first]: first,\n        [styles.last]: last,\n        [styles['has-category-header']]: hasCategoryHeader,\n        [styles['is-focused']]: isKeyboardHighlighted,\n      })}\n      role=\"presentation\"\n      data-testid={item.id}\n      data-description={item.description}\n      onClick={onClick}\n      onMouseEnter={onHover}\n      onTouchStart={onHover}\n    >\n      <MenuItem item={item} disabled={disabled} highlighted={highlighted} />\n    </li>\n  );\n};\n\nexport type InternalItemProps = ButtonDropdownProps.Item & {\n  badge?: boolean;\n};\n\ninterface MenuItemProps {\n  item: InternalItemProps;\n  disabled: boolean;\n  highlighted: boolean;\n}\n\nfunction MenuItem({ item, disabled, highlighted }: MenuItemProps) {\n  const menuItemRef = useRef<(HTMLSpanElement & HTMLAnchorElement) | null>(null);\n\n  useEffect(() => {\n    if (highlighted && menuItemRef.current) {\n      menuItemRef.current.focus();\n    }\n  }, [highlighted]);\n\n  const isDisabledWithReason = disabled && item.disabledReason;\n  const { targetProps, descriptionEl } = useHiddenDescription(item.disabledReason);\n  const menuItemProps: React.HTMLAttributes<HTMLSpanElement & HTMLAnchorElement> = {\n    className: styles['menu-item'],\n    lang: item.lang,\n    ref: menuItemRef,\n    // We are using the roving tabindex technique to manage the focus state of the dropdown.\n    // The current element will always have tabindex=0 which means that it can be tabbed to,\n    // while all other items have tabindex=-1 so we can focus them when necessary.\n    tabIndex: highlighted ? 0 : -1,\n    ...getMenuItemProps({ disabled }),\n    ...(isDisabledWithReason ? targetProps : {}),\n  };\n\n  const menuItem = isLinkItem(item) ? (\n    <a\n      {...menuItemProps}\n      href={!disabled ? item.href : undefined}\n      target={getItemTarget(item)}\n      rel={item.external ? 'noopener noreferrer' : undefined}\n    >\n      <MenuItemContent item={item} disabled={disabled} />\n    </a>\n  ) : (\n    <span {...menuItemProps}>\n      <MenuItemContent item={item} disabled={disabled} />\n    </span>\n  );\n\n  const { position } = useDropdownContext();\n  const tooltipPosition = position === 'bottom-left' || position === 'top-left' ? 'left' : 'right';\n  return isDisabledWithReason ? (\n    <Tooltip content={item.disabledReason} position={tooltipPosition}>\n      {menuItem}\n      {descriptionEl}\n    </Tooltip>\n  ) : (\n    menuItem\n  );\n}\n\nconst MenuItemContent = ({ item, disabled }: { item: InternalItemProps; disabled: boolean }) => {\n  const hasIcon = !!(item.iconName || item.iconUrl || item.iconSvg);\n  const hasExternal = isLinkItem(item) && item.external;\n  return (\n    <>\n      {hasIcon && (\n        <MenuItemIcon\n          name={item.iconName}\n          url={item.iconUrl}\n          svg={item.iconSvg}\n          alt={item.iconAlt}\n          badge={item.badge}\n        />\n      )}{' '}\n      {item.text} {hasExternal && <ExternalIcon disabled={disabled} ariaLabel={item.externalIconAriaLabel} />}\n    </>\n  );\n};\n\nconst MenuItemIcon = (props: InternalIconProps) => (\n  <span className={styles.icon}>\n    <InternalIcon {...props} />\n  </span>\n);\n\nconst ExternalIcon = ({ disabled, ariaLabel }: { disabled: boolean; ariaLabel?: string }) => {\n  const icon = <InternalIcon variant={disabled ? 'disabled' : 'normal'} name=\"external\" />;\n  return (\n    <span className={styles['external-icon']} role={ariaLabel ? 'img' : undefined} aria-label={ariaLabel}>\n      {icon}\n    </span>\n  );\n};\n\nexport default ItemElement;\n"]},"metadata":{},"sourceType":"module"}