{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useDebounceCallback } from '../internal/hooks/use-debounce-callback';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nexport function useChangeEffect(editor, onChange, onDelayedChange) {\n  var debouncedChangeHandler = useDebounceCallback(function (detail) {\n    fireNonCancelableEvent(onDelayedChange, detail);\n  }, 0);\n  var handleChange = useStableCallback(function () {\n    var changeDetail = {\n      value: (editor === null || editor === void 0 ? void 0 : editor.getValue()) || ''\n    };\n    fireNonCancelableEvent(onChange, changeDetail);\n    debouncedChangeHandler(changeDetail);\n  });\n  useEffect(function () {\n    if (!editor) {\n      return;\n    }\n    editor.on('change', handleChange);\n    return function () {\n      return editor.off('change', handleChange);\n    };\n  }, [editor, handleChange]);\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAASA,SAAS,QAAQ,OAAO;AAGjC,SAASC,sBAAsB,QAAmC,oBAAoB;AACtF,SAASC,mBAAmB,QAAQ,yCAAyC;AAC7E,SAASC,iBAAiB,QAAQ,+CAA+C;AAEjF,OAAM,SAAUC,eAAe,CAC7BC,MAAyB,EACzBC,QAAkE,EAClEC,eAAyE;EAEzE,IAAMC,sBAAsB,GAAGN,mBAAmB,CAAC,UAACO,MAAoC,EAAI;IAC1FR,sBAAsB,CAACM,eAAe,EAAEE,MAAM,CAAC;EACjD,CAAC,EAAE,CAAC,CAAC;EACL,IAAMC,YAAY,GAAGP,iBAAiB,CAAC,YAAK;IAC1C,IAAMQ,YAAY,GAAG;MAAEC,KAAK,EAAE,OAAM,aAANP,MAAM,uBAANA,MAAM,CAAEQ,QAAQ,EAAE,KAAI;IAAE,CAAE;IACxDZ,sBAAsB,CAACK,QAAQ,EAAEK,YAAY,CAAC;IAC9CH,sBAAsB,CAACG,YAAY,CAAC;EACtC,CAAC,CAAC;EACFX,SAAS,CAAC,YAAK;IACb,IAAI,CAACK,MAAM,EAAE;MACX;;IAGFA,MAAM,CAACS,EAAE,CAAC,QAAQ,EAAEJ,YAAY,CAAC;IACjC,OAAO;MAAA,OAAML,MAAM,CAACU,GAAG,CAAC,QAAQ,EAAEL,YAAY,CAAC;IAAA;EACjD,CAAC,EAAE,CAACL,MAAM,EAAEK,YAAY,CAAC,CAAC;AAC5B","names":["useEffect","fireNonCancelableEvent","useDebounceCallback","useStableCallback","useChangeEffect","editor","onChange","onDelayedChange","debouncedChangeHandler","detail","handleChange","changeDetail","value","getValue","on","off"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/code-editor/lib/default/code-editor/listeners.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\nimport { Ace } from 'ace-builds';\nimport { CodeEditorProps } from './interfaces';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../internal/events';\nimport { useDebounceCallback } from '../internal/hooks/use-debounce-callback';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nexport function useChangeEffect(\n  editor: null | Ace.Editor,\n  onChange?: NonCancelableEventHandler<CodeEditorProps.ChangeDetail>,\n  onDelayedChange?: NonCancelableEventHandler<CodeEditorProps.ChangeDetail>\n) {\n  const debouncedChangeHandler = useDebounceCallback((detail: CodeEditorProps.ChangeDetail) => {\n    fireNonCancelableEvent(onDelayedChange, detail);\n  }, 0);\n  const handleChange = useStableCallback(() => {\n    const changeDetail = { value: editor?.getValue() || '' };\n    fireNonCancelableEvent(onChange, changeDetail);\n    debouncedChangeHandler(changeDetail);\n  });\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    editor.on('change', handleChange);\n    return () => editor.off('change', handleChange);\n  }, [editor, handleChange]);\n}\n"]},"metadata":{},"sourceType":"module"}