{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { fireNonCancelableEvent } from '../../internal/events';\nexport var useLoadItems = function useLoadItems(_ref) {\n  var onLoadItems = _ref.onLoadItems,\n    options = _ref.options,\n    statusType = _ref.statusType;\n  var prevFilteringText = useRef(undefined);\n  var fireLoadItems = function fireLoadItems(filteringText) {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, {\n      filteringText: filteringText,\n      firstPage: true,\n      samePage: false\n    });\n  };\n  var handleLoadMore = function handleLoadMore() {\n    var firstPage = options.length === 0;\n    statusType === 'pending' && fireNonCancelableEvent(onLoadItems, {\n      firstPage: firstPage,\n      samePage: false,\n      filteringText: prevFilteringText.current || ''\n    });\n  };\n  var handleRecoveryClick = function handleRecoveryClick() {\n    return fireNonCancelableEvent(onLoadItems, {\n      firstPage: false,\n      samePage: true,\n      filteringText: prevFilteringText.current || ''\n    });\n  };\n  return {\n    fireLoadItems: fireLoadItems,\n    handleLoadMore: handleLoadMore,\n    handleRecoveryClick: handleRecoveryClick\n  };\n};","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAASA,MAAM,QAAQ,OAAO;AAC9B,SAASC,sBAAsB,QAAQ,uBAAuB;AAW9D,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAY,OAA+D;EAAA,IAAzDC,WAAW,QAAXA,WAAW;IAAEC,OAAO,QAAPA,OAAO;IAAEC,UAAU,QAAVA,UAAU;EAC7D,IAAMC,iBAAiB,GAAGN,MAAM,CAAqBO,SAAS,CAAC;EAE/D,IAAMC,aAAa,GAAG,SAAhBA,aAAa,CAAIC,aAAqB,EAAI;IAC9C,IAAIH,iBAAiB,CAACI,OAAO,KAAKD,aAAa,EAAE;MAC/C;;IAEFH,iBAAiB,CAACI,OAAO,GAAGD,aAAa;IACzCR,sBAAsB,CAACE,WAAW,EAAE;MAAEM,aAAa,EAAbA,aAAa;MAAEE,SAAS,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAK,CAAE,CAAC;EAC1F,CAAC;EAED,IAAMC,cAAc,GAAG,SAAjBA,cAAc,GAAQ;IAC1B,IAAMF,SAAS,GAAGP,OAAO,CAACU,MAAM,KAAK,CAAC;IACtCT,UAAU,KAAK,SAAS,IACtBJ,sBAAsB,CAACE,WAAW,EAAE;MAClCQ,SAAS,EAATA,SAAS;MACTC,QAAQ,EAAE,KAAK;MACfH,aAAa,EAAEH,iBAAiB,CAACI,OAAO,IAAI;KAC7C,CAAC;EACN,CAAC;EAED,IAAMK,mBAAmB,GAAG,SAAtBA,mBAAmB;IAAA,OACvBd,sBAAsB,CAACE,WAAW,EAAE;MAClCQ,SAAS,EAAE,KAAK;MAChBC,QAAQ,EAAE,IAAI;MACdH,aAAa,EAAEH,iBAAiB,CAACI,OAAO,IAAI;KAC7C,CAAC;EAAA;EAEJ,OAAO;IACLF,aAAa,EAAbA,aAAa;IACbK,cAAc,EAAdA,cAAc;IACdE,mBAAmB,EAAnBA;GACD;AACH,CAAC","names":["useRef","fireNonCancelableEvent","useLoadItems","onLoadItems","options","statusType","prevFilteringText","undefined","fireLoadItems","filteringText","current","firstPage","samePage","handleLoadMore","length","handleRecoveryClick"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/select/utils/lib/default/select/utils/use-load-items.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { SelectProps } from '../interfaces';\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\n\ninterface UseLoadItemsProps {\n  onLoadItems: SelectProps['onLoadItems'];\n  options: ReadonlyArray<OptionDefinition | OptionGroup>;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport const useLoadItems = ({ onLoadItems, options, statusType }: UseLoadItemsProps) => {\n  const prevFilteringText = useRef<string | undefined>(undefined);\n\n  const fireLoadItems = (filteringText: string) => {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, { filteringText, firstPage: true, samePage: false });\n  };\n\n  const handleLoadMore = () => {\n    const firstPage = options.length === 0;\n    statusType === 'pending' &&\n      fireNonCancelableEvent(onLoadItems, {\n        firstPage,\n        samePage: false,\n        filteringText: prevFilteringText.current || '',\n      });\n  };\n\n  const handleRecoveryClick = () =>\n    fireNonCancelableEvent(onLoadItems, {\n      firstPage: false,\n      samePage: true,\n      filteringText: prevFilteringText.current || '',\n    });\n\n  return {\n    fireLoadItems,\n    handleLoadMore,\n    handleRecoveryClick,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}