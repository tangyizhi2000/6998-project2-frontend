{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useState } from 'react';\nimport { getLimitedValue } from '../../split-panel/utils/size-utils';\nimport { SplitPanelContextProvider } from '../../internal/context/split-panel-context';\nconst MIN_HEIGHT = 160;\nconst MIN_WIDTH = 280;\nexport function SplitPanelProvider(_a) {\n  var {\n      children,\n      size,\n      getMaxHeight,\n      getMaxWidth,\n      onResize\n    } = _a,\n    rest = __rest(_a, [\"children\", \"size\", \"getMaxHeight\", \"getMaxWidth\", \"onResize\"]);\n  const {\n    position,\n    reportSize,\n    isOpen\n  } = rest;\n  const minSize = position === 'bottom' ? MIN_HEIGHT : MIN_WIDTH;\n  const [relativeSize, setRelativeSize] = useState(0);\n  const [maxSize, setMaxSize] = useState(size);\n  const cappedSize = getLimitedValue(minSize, size, maxSize);\n  const onResizeWithValidation = newSize => {\n    const maxSize = position === 'side' ? getMaxWidth() : getMaxHeight();\n    const isResizeValid = position === 'side' ? maxSize >= MIN_WIDTH : maxSize >= MIN_HEIGHT;\n    if (isOpen && isResizeValid) {\n      onResize(getLimitedValue(minSize, newSize, maxSize));\n    }\n  };\n  useEffect(() => {\n    // effects are called inside out in the components tree\n    // wait one frame to allow app-layout to complete its calculations\n    const handle = requestAnimationFrame(() => {\n      const maxSize = position === 'bottom' ? getMaxHeight() : getMaxWidth();\n      setRelativeSize((size - minSize) / (maxSize - minSize) * 100);\n      setMaxSize(maxSize);\n    });\n    return () => cancelAnimationFrame(handle);\n  }, [size, minSize, position, getMaxHeight, getMaxWidth]);\n  useEffect(() => {\n    reportSize(cappedSize);\n  }, [reportSize, cappedSize]);\n  useEffect(() => {\n    const handler = () => setMaxSize(position === 'bottom' ? getMaxHeight() : getMaxWidth());\n    window.addEventListener('resize', handler);\n    return () => window.removeEventListener('resize', handler);\n  }, [position, getMaxWidth, getMaxHeight]);\n  return React.createElement(SplitPanelContextProvider, {\n    value: Object.assign(Object.assign({}, rest), {\n      size: cappedSize,\n      relativeSize,\n      onResize: onResizeWithValidation\n    })\n  }, children);\n}","map":{"version":3,"mappings":";AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,eAAe,QAAQ,oCAAoC;AACpE,SAAqCC,yBAAyB,QAAQ,4CAA4C;AAQlH,MAAMC,UAAU,GAAG,GAAG;AACtB,MAAMC,SAAS,GAAG,GAAG;AAErB,OAAM,SAAUC,kBAAkB,CAACC,EAOT;MAPS;MACjCC,QAAQ;MACRC,IAAI;MACJC,YAAY;MACZC,WAAW;MACXC;IAAQ,MAEgB;IADrBC,IAAI,cAN0B,+DAOlC,CADQ;EAEP,MAAM;IAAEC,QAAQ;IAAEC,UAAU;IAAEC;EAAM,CAAE,GAAGH,IAAI;EAC7C,MAAMI,OAAO,GAAGH,QAAQ,KAAK,QAAQ,GAAGV,UAAU,GAAGC,SAAS;EAC9D,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAACQ,IAAI,CAAC;EAC5C,MAAMa,UAAU,GAAGpB,eAAe,CAACe,OAAO,EAAER,IAAI,EAAEW,OAAO,CAAC;EAE1D,MAAMG,sBAAsB,GAAIC,OAAe,IAAI;IACjD,MAAMJ,OAAO,GAAGN,QAAQ,KAAK,MAAM,GAAGH,WAAW,EAAE,GAAGD,YAAY,EAAE;IACpE,MAAMe,aAAa,GAAGX,QAAQ,KAAK,MAAM,GAAGM,OAAO,IAAIf,SAAS,GAAGe,OAAO,IAAIhB,UAAU;IACxF,IAAIY,MAAM,IAAIS,aAAa,EAAE;MAC3Bb,QAAQ,CAACV,eAAe,CAACe,OAAO,EAAEO,OAAO,EAAEJ,OAAO,CAAC,CAAC;;EAExD,CAAC;EAEDpB,SAAS,CAAC,MAAK;IACb;IACA;IACA,MAAM0B,MAAM,GAAGC,qBAAqB,CAAC,MAAK;MACxC,MAAMP,OAAO,GAAGN,QAAQ,KAAK,QAAQ,GAAGJ,YAAY,EAAE,GAAGC,WAAW,EAAE;MACtEQ,eAAe,CAAE,CAACV,IAAI,GAAGQ,OAAO,KAAKG,OAAO,GAAGH,OAAO,CAAC,GAAI,GAAG,CAAC;MAC/DI,UAAU,CAACD,OAAO,CAAC;IACrB,CAAC,CAAC;IACF,OAAO,MAAMQ,oBAAoB,CAACF,MAAM,CAAC;EAC3C,CAAC,EAAE,CAACjB,IAAI,EAAEQ,OAAO,EAAEH,QAAQ,EAAEJ,YAAY,EAAEC,WAAW,CAAC,CAAC;EAExDX,SAAS,CAAC,MAAK;IACbe,UAAU,CAACO,UAAU,CAAC;EACxB,CAAC,EAAE,CAACP,UAAU,EAAEO,UAAU,CAAC,CAAC;EAE5BtB,SAAS,CAAC,MAAK;IACb,MAAM6B,OAAO,GAAG,MAAMR,UAAU,CAACP,QAAQ,KAAK,QAAQ,GAAGJ,YAAY,EAAE,GAAGC,WAAW,EAAE,CAAC;IACxFmB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEF,OAAO,CAAC;IAC1C,OAAO,MAAMC,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEH,OAAO,CAAC;EAC5D,CAAC,EAAE,CAACf,QAAQ,EAAEH,WAAW,EAAED,YAAY,CAAC,CAAC;EAEzC,OACEX,oBAACI,yBAAyB;IAAC8B,KAAK,kCAAOpB,IAAI;MAAEJ,IAAI,EAAEa,UAAU;MAAEJ,YAAY;MAAEN,QAAQ,EAAEW;IAAsB;EAAA,GAC1Gf,QAAQ,CACiB;AAEhC","names":["React","useEffect","useState","getLimitedValue","SplitPanelContextProvider","MIN_HEIGHT","MIN_WIDTH","SplitPanelProvider","_a","children","size","getMaxHeight","getMaxWidth","onResize","rest","position","reportSize","isOpen","minSize","relativeSize","setRelativeSize","maxSize","setMaxSize","cappedSize","onResizeWithValidation","newSize","isResizeValid","handle","requestAnimationFrame","cancelAnimationFrame","handler","window","addEventListener","removeEventListener","value"],"sources":["/Users/tangyizhi/Desktop/Assignment 2/frontend/node_modules/@cloudscape-design/components/app-layout/split-panel/lib/default/app-layout/split-panel/provider.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useState } from 'react';\nimport { getLimitedValue } from '../../split-panel/utils/size-utils';\nimport { SplitPanelContextBaseProps, SplitPanelContextProvider } from '../../internal/context/split-panel-context';\n\nexport interface SplitPanelProviderProps extends SplitPanelContextBaseProps {\n  getMaxWidth: () => number;\n  getMaxHeight: () => number;\n  children?: React.ReactNode;\n}\n\nconst MIN_HEIGHT = 160;\nconst MIN_WIDTH = 280;\n\nexport function SplitPanelProvider({\n  children,\n  size,\n  getMaxHeight,\n  getMaxWidth,\n  onResize,\n  ...rest\n}: SplitPanelProviderProps) {\n  const { position, reportSize, isOpen } = rest;\n  const minSize = position === 'bottom' ? MIN_HEIGHT : MIN_WIDTH;\n  const [relativeSize, setRelativeSize] = useState(0);\n  const [maxSize, setMaxSize] = useState(size);\n  const cappedSize = getLimitedValue(minSize, size, maxSize);\n\n  const onResizeWithValidation = (newSize: number) => {\n    const maxSize = position === 'side' ? getMaxWidth() : getMaxHeight();\n    const isResizeValid = position === 'side' ? maxSize >= MIN_WIDTH : maxSize >= MIN_HEIGHT;\n    if (isOpen && isResizeValid) {\n      onResize(getLimitedValue(minSize, newSize, maxSize));\n    }\n  };\n\n  useEffect(() => {\n    // effects are called inside out in the components tree\n    // wait one frame to allow app-layout to complete its calculations\n    const handle = requestAnimationFrame(() => {\n      const maxSize = position === 'bottom' ? getMaxHeight() : getMaxWidth();\n      setRelativeSize(((size - minSize) / (maxSize - minSize)) * 100);\n      setMaxSize(maxSize);\n    });\n    return () => cancelAnimationFrame(handle);\n  }, [size, minSize, position, getMaxHeight, getMaxWidth]);\n\n  useEffect(() => {\n    reportSize(cappedSize);\n  }, [reportSize, cappedSize]);\n\n  useEffect(() => {\n    const handler = () => setMaxSize(position === 'bottom' ? getMaxHeight() : getMaxWidth());\n    window.addEventListener('resize', handler);\n    return () => window.removeEventListener('resize', handler);\n  }, [position, getMaxWidth, getMaxHeight]);\n\n  return (\n    <SplitPanelContextProvider value={{ ...rest, size: cappedSize, relativeSize, onResize: onResizeWithValidation }}>\n      {children}\n    </SplitPanelContextProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}