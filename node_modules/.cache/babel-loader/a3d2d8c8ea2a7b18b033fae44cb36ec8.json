{"ast":null,"code":"import _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _defineProperty from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useState, useEffect, useMemo } from 'react';\nimport clsx from 'clsx';\nimport InternalExpandableSection from '../expandable-section/internal';\nimport InternalIcon from '../icon/internal';\nimport InternalBox from '../box/internal';\nimport styles from './styles.css.js';\nimport { isPlainLeftClick } from '../internal/events';\nimport { hasActiveLink } from './util';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nexport function Header(_ref) {\n  var definition = _ref.definition,\n    activeHref = _ref.activeHref,\n    fireFollow = _ref.fireFollow;\n  checkSafeUrl('SideNavigation', definition.href);\n  var onClick = useCallback(function (event) {\n    if (isPlainLeftClick(event)) {\n      fireFollow(definition, event);\n    }\n  }, [fireFollow, definition]);\n  return React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n    className: styles.header\n  }, React.createElement(\"a\", {\n    href: definition.href,\n    className: clsx(styles['header-link'], _defineProperty({}, styles['header-link--has-logo'], !!definition.logo)),\n    \"aria-current\": definition.href === activeHref ? 'page' : undefined,\n    onClick: onClick\n  }, definition.logo && React.createElement(\"img\", Object.assign({\n    className: clsx(styles['header-logo'], _defineProperty({}, styles['header-logo--stretched'], !definition.text))\n  }, definition.logo)), React.createElement(\"span\", {\n    className: styles['header-link-text']\n  }, definition.text))), React.createElement(Divider, {\n    isPresentational: true,\n    variant: \"header\"\n  }));\n}\nexport function NavigationItemsList(_ref2) {\n  var items = _ref2.items,\n    variant = _ref2.variant,\n    activeHref = _ref2.activeHref,\n    fireChange = _ref2.fireChange,\n    fireFollow = _ref2.fireFollow;\n  var lists = [];\n  var currentListIndex = 0;\n  lists[currentListIndex] = {\n    listVariant: variant,\n    items: []\n  };\n  items.forEach(function (item, index) {\n    var _a, _b, _c, _d, _e;\n    var itemid = index + 1;\n    switch (item.type) {\n      case 'divider':\n        {\n          var dividerIndex = lists.length;\n          lists[dividerIndex] = {\n            element: React.createElement(\"div\", {\n              \"data-itemid\": \"item-\".concat(itemid)\n            }, React.createElement(Divider, {\n              variant: \"default\"\n            }))\n          };\n          currentListIndex = lists.length;\n          lists[currentListIndex] = {\n            listVariant: variant,\n            items: []\n          };\n          return;\n        }\n      case 'link':\n        {\n          (_a = lists[currentListIndex].items) === null || _a === void 0 ? void 0 : _a.push({\n            element: React.createElement(\"li\", {\n              key: index,\n              \"data-itemid\": \"item-\".concat(itemid),\n              className: styles['list-item']\n            }, React.createElement(Link, {\n              definition: item,\n              activeHref: activeHref,\n              fireChange: fireChange,\n              fireFollow: fireFollow\n            }))\n          });\n          return;\n        }\n      case 'section':\n        {\n          (_b = lists[currentListIndex].items) === null || _b === void 0 ? void 0 : _b.push({\n            element: React.createElement(\"li\", {\n              key: index,\n              \"data-itemid\": \"item-\".concat(itemid),\n              className: styles['list-item']\n            }, React.createElement(Section, {\n              definition: item,\n              activeHref: activeHref,\n              variant: variant,\n              fireChange: fireChange,\n              fireFollow: fireFollow\n            }))\n          });\n          return;\n        }\n      case 'section-group':\n        {\n          (_c = lists[currentListIndex].items) === null || _c === void 0 ? void 0 : _c.push({\n            element: React.createElement(\"li\", {\n              key: index,\n              \"data-itemid\": \"item-\".concat(itemid),\n              className: styles['list-item']\n            }, React.createElement(SectionGroup, {\n              definition: item,\n              activeHref: activeHref,\n              fireChange: fireChange,\n              fireFollow: fireFollow\n            }))\n          });\n          return;\n        }\n      case 'link-group':\n        {\n          (_d = lists[currentListIndex].items) === null || _d === void 0 ? void 0 : _d.push({\n            element: React.createElement(\"li\", {\n              key: index,\n              \"data-itemid\": \"item-\".concat(itemid),\n              className: styles['list-item']\n            }, React.createElement(LinkGroup, {\n              definition: item,\n              activeHref: activeHref,\n              fireChange: fireChange,\n              fireFollow: fireFollow\n            }))\n          });\n          return;\n        }\n      case 'expandable-link-group':\n        {\n          (_e = lists[currentListIndex].items) === null || _e === void 0 ? void 0 : _e.push({\n            element: React.createElement(\"li\", {\n              key: index,\n              \"data-itemid\": \"item-\".concat(itemid),\n              className: styles['list-item']\n            }, React.createElement(ExpandableLinkGroup, {\n              definition: item,\n              activeHref: activeHref,\n              fireChange: fireChange,\n              fireFollow: fireFollow,\n              variant: variant\n            }))\n          });\n          return;\n        }\n    }\n  });\n  var lastListIndex = lists.length - 1;\n  return React.createElement(React.Fragment, null, lists.map(function (list, index) {\n    if (!list.items || list.items.length === 0) {\n      return React.createElement(\"div\", {\n        key: \"hr-\".concat(index),\n        className: clsx(styles.list, styles[\"list-variant-\".concat(variant)], _defineProperty({}, styles['list-variant-root--last'], list.listVariant === 'root' && index === lastListIndex))\n      }, list.element);\n    } else {\n      return React.createElement(\"ul\", {\n        key: \"list-\".concat(index),\n        className: clsx(styles.list, styles[\"list-variant-\".concat(list.listVariant)], _defineProperty({}, styles['list-variant-root--last'], list.listVariant === 'root' && index === lastListIndex))\n      }, list.items.map(function (item) {\n        return item.element;\n      }));\n    }\n  }));\n}\nfunction Divider(_ref3) {\n  var _ref3$variant = _ref3.variant,\n    variant = _ref3$variant === void 0 ? 'default' : _ref3$variant,\n    _ref3$isPresentationa = _ref3.isPresentational,\n    isPresentational = _ref3$isPresentationa === void 0 ? false : _ref3$isPresentationa;\n  return React.createElement(\"hr\", {\n    className: clsx(styles.divider, styles[\"divider-\".concat(variant)]),\n    role: isPresentational ? 'presentation' : undefined\n  });\n}\nfunction Link(_ref4) {\n  var definition = _ref4.definition,\n    expanded = _ref4.expanded,\n    activeHref = _ref4.activeHref,\n    fireFollow = _ref4.fireFollow;\n  checkSafeUrl('SideNavigation', definition.href);\n  var isActive = definition.href === activeHref;\n  var onClick = useCallback(function (event) {\n    if (isPlainLeftClick(event)) {\n      fireFollow(definition, event);\n    }\n  }, [fireFollow, definition]);\n  return React.createElement(React.Fragment, null, React.createElement(\"a\", {\n    href: definition.href,\n    className: clsx(styles.link, _defineProperty({}, styles['link-active'], isActive)),\n    target: definition.external ? '_blank' : undefined,\n    rel: definition.external ? 'noopener noreferrer' : undefined,\n    \"aria-expanded\": expanded,\n    \"aria-current\": definition.href === activeHref ? 'page' : undefined,\n    onClick: onClick\n  }, definition.text, definition.external && React.createElement(\"span\", {\n    \"aria-label\": definition.externalIconAriaLabel,\n    role: definition.externalIconAriaLabel ? 'img' : undefined\n  }, React.createElement(InternalIcon, {\n    name: \"external\",\n    className: styles['external-icon']\n  }))), definition.info && React.createElement(\"span\", {\n    className: styles.info\n  }, definition.info));\n}\nfunction Section(_ref5) {\n  var definition = _ref5.definition,\n    activeHref = _ref5.activeHref,\n    fireFollow = _ref5.fireFollow,\n    fireChange = _ref5.fireChange,\n    variant = _ref5.variant;\n  var _a;\n  var _useState = useState((_a = definition.defaultExpanded) !== null && _a !== void 0 ? _a : true),\n    _useState2 = _slicedToArray(_useState, 2),\n    expanded = _useState2[0],\n    setExpanded = _useState2[1];\n  var isVisualRefresh = useVisualRefresh();\n  var onExpandedChange = useCallback(function (e) {\n    fireChange(definition, e.detail.expanded);\n    setExpanded(e.detail.expanded);\n  }, [definition, fireChange]);\n  useEffect(function () {\n    var _a;\n    setExpanded((_a = definition.defaultExpanded) !== null && _a !== void 0 ? _a : true);\n  }, [definition]);\n  return React.createElement(InternalExpandableSection, {\n    variant: \"footer\",\n    expanded: expanded,\n    onChange: onExpandedChange,\n    className: clsx(styles.section, variant === 'section-group' && styles['section--no-ident'], isVisualRefresh && styles.refresh),\n    headerText: definition.text\n  }, React.createElement(NavigationItemsList, {\n    variant: \"section\",\n    items: definition.items,\n    fireFollow: fireFollow,\n    fireChange: fireChange,\n    activeHref: activeHref\n  }));\n}\nfunction SectionGroup(_ref6) {\n  var definition = _ref6.definition,\n    activeHref = _ref6.activeHref,\n    fireFollow = _ref6.fireFollow,\n    fireChange = _ref6.fireChange;\n  return React.createElement(\"div\", {\n    className: styles['section-group']\n  }, React.createElement(InternalBox, {\n    className: styles['section-group-title'],\n    variant: \"h3\"\n  }, definition.title), React.createElement(NavigationItemsList, {\n    variant: \"section-group\",\n    items: definition.items,\n    fireFollow: fireFollow,\n    fireChange: fireChange,\n    activeHref: activeHref\n  }));\n}\nfunction LinkGroup(_ref7) {\n  var definition = _ref7.definition,\n    activeHref = _ref7.activeHref,\n    _fireFollow = _ref7.fireFollow,\n    fireChange = _ref7.fireChange;\n  checkSafeUrl('SideNavigation', definition.href);\n  return React.createElement(React.Fragment, null, React.createElement(Link, {\n    definition: {\n      type: 'link',\n      href: definition.href,\n      text: definition.text,\n      info: definition.info\n    },\n    fireFollow: function fireFollow(_, event) {\n      return _fireFollow(definition, event);\n    },\n    fireChange: fireChange,\n    activeHref: activeHref\n  }), React.createElement(NavigationItemsList, {\n    variant: \"link-group\",\n    items: definition.items,\n    fireFollow: _fireFollow,\n    fireChange: fireChange,\n    activeHref: activeHref\n  }));\n}\nfunction ExpandableLinkGroup(_ref8) {\n  var definition = _ref8.definition,\n    fireFollow = _ref8.fireFollow,\n    fireChange = _ref8.fireChange,\n    activeHref = _ref8.activeHref,\n    variant = _ref8.variant;\n  // Check whether the definition contains an active link and memoize it to avoid\n  // rechecking every time.\n  var containsActiveLink = useMemo(function () {\n    return activeHref ? hasActiveLink(definition.items, activeHref) : false;\n  }, [activeHref, definition.items]);\n  var _useState3 = useState(function () {\n      var _a;\n      return (_a = definition.defaultExpanded) !== null && _a !== void 0 ? _a : definition.href === activeHref || containsActiveLink;\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    expanded = _useState4[0],\n    setExpanded = _useState4[1];\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    userExpanded = _useState6[0],\n    setUserExpanded = _useState6[1];\n  // Reset user expansion status when the items property is updated.\n  useEffect(function () {\n    return setUserExpanded(undefined);\n  }, [definition]);\n  // By default, the expandable section is open when there's an active link inside.\n  useEffect(function () {\n    setExpanded(definition.href === activeHref || containsActiveLink);\n  }, [definition.href, containsActiveLink, activeHref]);\n  // If the definition object itself is updated, reset the expansion state to default.\n  useEffect(function () {\n    if (definition.defaultExpanded !== undefined) {\n      setExpanded(definition.defaultExpanded);\n    }\n  }, [definition]);\n  var onExpandedChange = useCallback(function (e) {\n    fireChange(definition, e.detail.expanded);\n    setUserExpanded(e.detail.expanded);\n  }, [definition, fireChange]);\n  var onHeaderFollow = function onHeaderFollow(_, event) {\n    fireFollow(definition, event);\n    setUserExpanded(true);\n    if (!expanded) {\n      fireChange(definition, true);\n    }\n  };\n  return React.createElement(InternalExpandableSection, {\n    className: clsx(styles['expandable-link-group'], variant === 'section-group' && styles['expandable-link-group--no-ident']),\n    variant: \"navigation\",\n    expanded: userExpanded !== null && userExpanded !== void 0 ? userExpanded : expanded,\n    onChange: onExpandedChange,\n    headerText: React.createElement(Link, {\n      definition: {\n        type: 'link',\n        href: definition.href,\n        text: definition.text\n      },\n      expanded: userExpanded !== null && userExpanded !== void 0 ? userExpanded : expanded,\n      fireFollow: onHeaderFollow,\n      fireChange: fireChange,\n      activeHref: activeHref\n    })\n  }, React.createElement(NavigationItemsList, {\n    variant: \"expandable-link-group\",\n    items: definition.items,\n    fireFollow: fireFollow,\n    fireChange: fireChange,\n    activeHref: activeHref\n  }));\n}","map":{"version":3,"mappings":"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","names":["React","useCallback","useState","useEffect","useMemo","clsx","InternalExpandableSection","InternalIcon","InternalBox","styles","isPlainLeftClick","hasActiveLink","checkSafeUrl","useVisualRefresh","Header","definition","activeHref","fireFollow","href","onClick","event","className","header","logo","undefined","text","Divider","isPresentational","variant","NavigationItemsList","items","fireChange","lists","currentListIndex","listVariant","forEach","item","index","itemid","type","dividerIndex","length","element","push","key","Link","Section","SectionGroup","LinkGroup","ExpandableLinkGroup","lastListIndex","map","list","divider","role","expanded","isActive","link","target","external","rel","externalIconAriaLabel","name","info","defaultExpanded","setExpanded","isVisualRefresh","onExpandedChange","e","detail","onChange","section","refresh","headerText","title","_","containsActiveLink","userExpanded","setUserExpanded","onHeaderFollow"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/side-navigation/lib/default/side-navigation/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useState, useEffect, useMemo, ReactNode } from 'react';\nimport clsx from 'clsx';\nimport { ExpandableSectionProps } from '../expandable-section/interfaces';\nimport InternalExpandableSection from '../expandable-section/internal';\nimport InternalIcon from '../icon/internal';\nimport InternalBox from '../box/internal';\nimport { SideNavigationProps } from './interfaces';\nimport styles from './styles.css.js';\nimport { NonCancelableCustomEvent, isPlainLeftClick } from '../internal/events';\nimport { hasActiveLink } from './util';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\n\ninterface BaseItemComponentProps {\n  activeHref?: string;\n  fireChange: (item: SideNavigationProps.Section | SideNavigationProps.ExpandableLinkGroup, expanded: boolean) => void;\n  fireFollow: (\n    item:\n      | SideNavigationProps.Link\n      | SideNavigationProps.Header\n      | SideNavigationProps.LinkGroup\n      | SideNavigationProps.ExpandableLinkGroup,\n    event: React.SyntheticEvent | Event\n  ) => void;\n}\n\nexport interface HeaderProps extends BaseItemComponentProps {\n  definition: SideNavigationProps.Header;\n}\n\nexport function Header({ definition, activeHref, fireFollow }: HeaderProps) {\n  checkSafeUrl('SideNavigation', definition.href);\n  const onClick = useCallback(\n    (event: React.MouseEvent) => {\n      if (isPlainLeftClick(event)) {\n        fireFollow(definition, event);\n      }\n    },\n    [fireFollow, definition]\n  );\n\n  return (\n    <>\n      <h2 className={styles.header}>\n        <a\n          href={definition.href}\n          className={clsx(styles['header-link'], { [styles['header-link--has-logo']]: !!definition.logo })}\n          aria-current={definition.href === activeHref ? 'page' : undefined}\n          onClick={onClick}\n        >\n          {definition.logo && (\n            <img\n              className={clsx(styles['header-logo'], {\n                [styles['header-logo--stretched']]: !definition.text,\n              })}\n              {...definition.logo}\n            />\n          )}\n          <span className={styles['header-link-text']}>{definition.text}</span>\n        </a>\n      </h2>\n      <Divider isPresentational={true} variant=\"header\" />\n    </>\n  );\n}\n\nexport interface NavigationItemsListProps extends BaseItemComponentProps {\n  items: ReadonlyArray<SideNavigationProps.Item>;\n  variant: 'section' | 'section-group' | 'link-group' | 'expandable-link-group' | 'root';\n}\n\ninterface Item {\n  element?: ReactNode;\n  listVariant?: 'section' | 'section-group' | 'link-group' | 'expandable-link-group' | 'root';\n  items?: Array<Item>;\n}\n\nexport function NavigationItemsList({ items, variant, activeHref, fireChange, fireFollow }: NavigationItemsListProps) {\n  const lists: Array<Item> = [];\n  let currentListIndex = 0;\n  lists[currentListIndex] = {\n    listVariant: variant,\n    items: [],\n  };\n\n  items.forEach((item, index) => {\n    const itemid = index + 1;\n    switch (item.type) {\n      case 'divider': {\n        const dividerIndex = lists.length;\n        lists[dividerIndex] = {\n          element: (\n            <div data-itemid={`item-${itemid}`}>\n              <Divider variant=\"default\" />\n            </div>\n          ),\n        };\n        currentListIndex = lists.length;\n        lists[currentListIndex] = {\n          listVariant: variant,\n          items: [],\n        };\n        return;\n      }\n      case 'link': {\n        lists[currentListIndex].items?.push({\n          element: (\n            <li key={index} data-itemid={`item-${itemid}`} className={styles['list-item']}>\n              <Link definition={item} activeHref={activeHref} fireChange={fireChange} fireFollow={fireFollow} />\n            </li>\n          ),\n        });\n        return;\n      }\n      case 'section': {\n        lists[currentListIndex].items?.push({\n          element: (\n            <li key={index} data-itemid={`item-${itemid}`} className={styles['list-item']}>\n              <Section\n                definition={item}\n                activeHref={activeHref}\n                variant={variant}\n                fireChange={fireChange}\n                fireFollow={fireFollow}\n              />\n            </li>\n          ),\n        });\n        return;\n      }\n      case 'section-group': {\n        lists[currentListIndex].items?.push({\n          element: (\n            <li key={index} data-itemid={`item-${itemid}`} className={styles['list-item']}>\n              <SectionGroup definition={item} activeHref={activeHref} fireChange={fireChange} fireFollow={fireFollow} />\n            </li>\n          ),\n        });\n        return;\n      }\n      case 'link-group': {\n        lists[currentListIndex].items?.push({\n          element: (\n            <li key={index} data-itemid={`item-${itemid}`} className={styles['list-item']}>\n              <LinkGroup definition={item} activeHref={activeHref} fireChange={fireChange} fireFollow={fireFollow} />\n            </li>\n          ),\n        });\n        return;\n      }\n      case 'expandable-link-group': {\n        lists[currentListIndex].items?.push({\n          element: (\n            <li key={index} data-itemid={`item-${itemid}`} className={styles['list-item']}>\n              <ExpandableLinkGroup\n                definition={item}\n                activeHref={activeHref}\n                fireChange={fireChange}\n                fireFollow={fireFollow}\n                variant={variant}\n              />\n            </li>\n          ),\n        });\n        return;\n      }\n    }\n  });\n\n  const lastListIndex = lists.length - 1;\n\n  return (\n    <>\n      {lists.map((list, index) => {\n        if (!list.items || list.items.length === 0) {\n          return (\n            <div\n              key={`hr-${index}`}\n              className={clsx(styles.list, styles[`list-variant-${variant}`], {\n                [styles['list-variant-root--last']]: list.listVariant === 'root' && index === lastListIndex,\n              })}\n            >\n              {list.element}\n            </div>\n          );\n        } else {\n          return (\n            <ul\n              key={`list-${index}`}\n              className={clsx(styles.list, styles[`list-variant-${list.listVariant}`], {\n                [styles['list-variant-root--last']]: list.listVariant === 'root' && index === lastListIndex,\n              })}\n            >\n              {list.items.map(item => item.element)}\n            </ul>\n          );\n        }\n      })}\n    </>\n  );\n}\n\ninterface DividerProps {\n  variant: 'default' | 'header';\n  isPresentational?: boolean;\n}\n\nfunction Divider({ variant = 'default', isPresentational = false }: DividerProps) {\n  return (\n    <hr\n      className={clsx(styles.divider, styles[`divider-${variant}`])}\n      role={isPresentational ? 'presentation' : undefined}\n    />\n  );\n}\n\ninterface LinkProps extends BaseItemComponentProps {\n  definition: SideNavigationProps.Link;\n  expanded?: boolean;\n}\n\nfunction Link({ definition, expanded, activeHref, fireFollow }: LinkProps) {\n  checkSafeUrl('SideNavigation', definition.href);\n  const isActive = definition.href === activeHref;\n\n  const onClick = useCallback(\n    (event: React.MouseEvent) => {\n      if (isPlainLeftClick(event)) {\n        fireFollow(definition, event);\n      }\n    },\n    [fireFollow, definition]\n  );\n\n  return (\n    <>\n      <a\n        href={definition.href}\n        className={clsx(styles.link, { [styles['link-active']]: isActive })}\n        target={definition.external ? '_blank' : undefined}\n        rel={definition.external ? 'noopener noreferrer' : undefined}\n        aria-expanded={expanded}\n        aria-current={definition.href === activeHref ? 'page' : undefined}\n        onClick={onClick}\n      >\n        {definition.text}\n        {definition.external && (\n          <span\n            aria-label={definition.externalIconAriaLabel}\n            role={definition.externalIconAriaLabel ? 'img' : undefined}\n          >\n            <InternalIcon name=\"external\" className={styles['external-icon']} />\n          </span>\n        )}\n      </a>\n      {definition.info && <span className={styles.info}>{definition.info}</span>}\n    </>\n  );\n}\n\ninterface SectionProps extends BaseItemComponentProps {\n  definition: SideNavigationProps.Section;\n  variant: 'section' | 'section-group' | 'link-group' | 'expandable-link-group' | 'root';\n}\n\nfunction Section({ definition, activeHref, fireFollow, fireChange, variant }: SectionProps) {\n  const [expanded, setExpanded] = useState<boolean>(definition.defaultExpanded ?? true);\n  const isVisualRefresh = useVisualRefresh();\n\n  const onExpandedChange = useCallback(\n    (e: NonCancelableCustomEvent<ExpandableSectionProps.ChangeDetail>) => {\n      fireChange(definition, e.detail.expanded);\n      setExpanded(e.detail.expanded);\n    },\n    [definition, fireChange]\n  );\n\n  useEffect(() => {\n    setExpanded(definition.defaultExpanded ?? true);\n  }, [definition]);\n\n  return (\n    <InternalExpandableSection\n      variant=\"footer\"\n      expanded={expanded}\n      onChange={onExpandedChange}\n      className={clsx(\n        styles.section,\n        variant === 'section-group' && styles['section--no-ident'],\n        isVisualRefresh && styles.refresh\n      )}\n      headerText={definition.text}\n    >\n      <NavigationItemsList\n        variant=\"section\"\n        items={definition.items}\n        fireFollow={fireFollow}\n        fireChange={fireChange}\n        activeHref={activeHref}\n      />\n    </InternalExpandableSection>\n  );\n}\n\ninterface SectionGroupProps extends BaseItemComponentProps {\n  definition: SideNavigationProps.SectionGroup;\n}\n\nfunction SectionGroup({ definition, activeHref, fireFollow, fireChange }: SectionGroupProps) {\n  return (\n    <div className={styles['section-group']}>\n      <InternalBox className={styles['section-group-title']} variant=\"h3\">\n        {definition.title}\n      </InternalBox>\n      <NavigationItemsList\n        variant=\"section-group\"\n        items={definition.items}\n        fireFollow={fireFollow}\n        fireChange={fireChange}\n        activeHref={activeHref}\n      />\n    </div>\n  );\n}\n\ninterface LinkGroupProps extends BaseItemComponentProps {\n  definition: SideNavigationProps.LinkGroup;\n}\n\nfunction LinkGroup({ definition, activeHref, fireFollow, fireChange }: LinkGroupProps) {\n  checkSafeUrl('SideNavigation', definition.href);\n\n  return (\n    <>\n      <Link\n        definition={{ type: 'link', href: definition.href, text: definition.text, info: definition.info }}\n        fireFollow={(_, event) => fireFollow(definition, event)}\n        fireChange={fireChange}\n        activeHref={activeHref}\n      />\n      <NavigationItemsList\n        variant=\"link-group\"\n        items={definition.items}\n        fireFollow={fireFollow}\n        fireChange={fireChange}\n        activeHref={activeHref}\n      />\n    </>\n  );\n}\n\ninterface ExpandableLinkGroupProps extends BaseItemComponentProps {\n  definition: SideNavigationProps.ExpandableLinkGroup;\n  variant: 'section' | 'section-group' | 'link-group' | 'expandable-link-group' | 'root';\n}\n\nfunction ExpandableLinkGroup({ definition, fireFollow, fireChange, activeHref, variant }: ExpandableLinkGroupProps) {\n  // Check whether the definition contains an active link and memoize it to avoid\n  // rechecking every time.\n  const containsActiveLink = useMemo(() => {\n    return activeHref ? hasActiveLink(definition.items, activeHref) : false;\n  }, [activeHref, definition.items]);\n\n  const [expanded, setExpanded] = useState<boolean>(() => {\n    return definition.defaultExpanded ?? (definition.href === activeHref || containsActiveLink);\n  });\n\n  const [userExpanded, setUserExpanded] = useState<boolean | undefined>();\n\n  // Reset user expansion status when the items property is updated.\n  useEffect(() => setUserExpanded(undefined), [definition]);\n\n  // By default, the expandable section is open when there's an active link inside.\n  useEffect(() => {\n    setExpanded(definition.href === activeHref || containsActiveLink);\n  }, [definition.href, containsActiveLink, activeHref]);\n\n  // If the definition object itself is updated, reset the expansion state to default.\n  useEffect(() => {\n    if (definition.defaultExpanded !== undefined) {\n      setExpanded(definition.defaultExpanded);\n    }\n  }, [definition]);\n\n  const onExpandedChange = useCallback(\n    (e: NonCancelableCustomEvent<ExpandableSectionProps.ChangeDetail>) => {\n      fireChange(definition, e.detail.expanded);\n      setUserExpanded(e.detail.expanded);\n    },\n    [definition, fireChange]\n  );\n\n  const onHeaderFollow: LinkProps['fireFollow'] = (_, event) => {\n    fireFollow(definition, event);\n    setUserExpanded(true);\n    if (!expanded) {\n      fireChange(definition, true);\n    }\n  };\n\n  return (\n    <InternalExpandableSection\n      className={clsx(\n        styles['expandable-link-group'],\n        variant === 'section-group' && styles['expandable-link-group--no-ident']\n      )}\n      variant=\"navigation\"\n      expanded={userExpanded ?? expanded}\n      onChange={onExpandedChange}\n      headerText={\n        <Link\n          definition={{ type: 'link', href: definition.href, text: definition.text }}\n          expanded={userExpanded ?? expanded}\n          fireFollow={onHeaderFollow}\n          fireChange={fireChange}\n          activeHref={activeHref}\n        />\n      }\n    >\n      <NavigationItemsList\n        variant=\"expandable-link-group\"\n        items={definition.items}\n        fireFollow={fireFollow}\n        fireChange={fireChange}\n        activeHref={activeHref}\n      />\n    </InternalExpandableSection>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}