{"ast":null,"code":"import _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport { RuntimeContentWrapper } from './runtime-content-wrapper';\nfunction convertRuntimeAction(action, context) {\n  if (!action) {\n    return null;\n  }\n  return React.createElement(RuntimeContentWrapper, {\n    key: action.id + '-' + context.type,\n    mountContent: function mountContent(container) {\n      return action.mountContent(container, context);\n    },\n    unmountContent: function unmountContent(container) {\n      return action.unmountContent(container);\n    }\n  });\n}\nexport function createUseDiscoveredAction(onActionRegistered) {\n  return function useDiscoveredAction(type) {\n    var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      discoveredActions = _useState2[0],\n      setDiscoveredActions = _useState2[1];\n    var headerRef = useRef(null);\n    var contentRef = useRef(null);\n    useEffect(function () {\n      return onActionRegistered(function (actions) {\n        setDiscoveredActions(actions.map(function (action) {\n          return convertRuntimeAction(action, {\n            type: type,\n            headerRef: headerRef,\n            contentRef: contentRef\n          });\n        }));\n      });\n    }, [type]);\n    return {\n      discoveredActions: discoveredActions,\n      headerRef: headerRef,\n      contentRef: contentRef\n    };\n  };\n}","map":{"version":3,"mappings":";AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAE1D,SAASC,qBAAqB,QAAQ,2BAA2B;AAEjE,SAASC,oBAAoB,CAACC,MAA2B,EAAEC,OAAsB;EAC/E,IAAI,CAACD,MAAM,EAAE;IACX,OAAO,IAAI;;EAEb,OACEN,oBAACI,qBAAqB;IACpBI,GAAG,EAAEF,MAAM,CAACG,EAAE,GAAG,GAAG,GAAGF,OAAO,CAACG,IAAI;IACnCC,YAAY,EAAE,+BAAS;MAAA,OAAIL,MAAM,CAACK,YAAY,CAACC,SAAS,EAAEL,OAAO,CAAC;IAAA;IAClEM,cAAc,EAAE,iCAAS;MAAA,OAAIP,MAAM,CAACO,cAAc,CAACD,SAAS,CAAC;IAAA;EAAA,EAC7D;AAEN;AAEA,OAAM,SAAUE,yBAAyB,CAACC,kBAAiE;EACzG,OAAO,SAASC,mBAAmB,CAACN,IAAY;IAC9C,gBAAkDP,QAAQ,CAAyB,EAAE,CAAC;MAAA;MAA/Ec,iBAAiB;MAAEC,oBAAoB;IAC9C,IAAMC,SAAS,GAAGjB,MAAM,CAAiB,IAAI,CAAC;IAC9C,IAAMkB,UAAU,GAAGlB,MAAM,CAAiB,IAAI,CAAC;IAE/CD,SAAS,CAAC,YAAK;MACb,OAAOc,kBAAkB,CAAC,iBAAO,EAAG;QAClCG,oBAAoB,CAACG,OAAO,CAACC,GAAG,CAAC,gBAAM;UAAA,OAAIjB,oBAAoB,CAACC,MAAM,EAAE;YAAEI,IAAI,EAAJA,IAAI;YAAES,SAAS,EAATA,SAAS;YAAEC,UAAU,EAAVA;UAAU,CAAE,CAAC;QAAA,EAAC,CAAC;MAC5G,CAAC,CAAC;IACJ,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;IAEV,OAAO;MAAEO,iBAAiB,EAAjBA,iBAAiB;MAAEE,SAAS,EAATA,SAAS;MAAEC,UAAU,EAAVA;IAAU,CAAE;EACrD,CAAC;AACH","names":["React","useEffect","useRef","useState","RuntimeContentWrapper","convertRuntimeAction","action","context","key","id","type","mountContent","container","unmountContent","createUseDiscoveredAction","onActionRegistered","useDiscoveredAction","discoveredActions","setDiscoveredActions","headerRef","contentRef","actions","map"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/plugins/helpers/lib/default/internal/plugins/helpers/use-discovered-action.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport { ActionButtonsController, ActionConfig, ActionContext } from '../controllers/action-buttons';\nimport { RuntimeContentWrapper } from './runtime-content-wrapper';\n\nfunction convertRuntimeAction(action: ActionConfig | null, context: ActionContext) {\n  if (!action) {\n    return null;\n  }\n  return (\n    <RuntimeContentWrapper\n      key={action.id + '-' + context.type}\n      mountContent={container => action.mountContent(container, context)}\n      unmountContent={container => action.unmountContent(container)}\n    />\n  );\n}\n\nexport function createUseDiscoveredAction(onActionRegistered: ActionButtonsController['onActionRegistered']) {\n  return function useDiscoveredAction(type: string) {\n    const [discoveredActions, setDiscoveredActions] = useState<Array<React.ReactNode>>([]);\n    const headerRef = useRef<HTMLDivElement>(null);\n    const contentRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n      return onActionRegistered(actions => {\n        setDiscoveredActions(actions.map(action => convertRuntimeAction(action, { type, headerRef, contentRef })));\n      });\n    }, [type]);\n\n    return { discoveredActions, headerRef, contentRef };\n  };\n}\n"]},"metadata":{},"sourceType":"module"}