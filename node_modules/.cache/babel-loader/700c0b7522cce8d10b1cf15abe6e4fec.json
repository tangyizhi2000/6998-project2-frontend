{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport VirtualList from './virtual-list';\nimport PlainList from './plain-list';\nimport { useAnnouncement } from '../select/utils/use-announcement';\nvar createMouseEventHandler = function createMouseEventHandler(handler) {\n  return function (itemIndex) {\n    // prevent mouse events to avoid losing focus from the input\n    if (itemIndex > -1) {\n      handler(itemIndex);\n    }\n  };\n};\nexport default function AutosuggestOptionsList(_ref) {\n  var statusType = _ref.statusType,\n    autosuggestItemsState = _ref.autosuggestItemsState,\n    autosuggestItemsHandlers = _ref.autosuggestItemsHandlers,\n    highlightedOptionId = _ref.highlightedOptionId,\n    highlightText = _ref.highlightText,\n    listId = _ref.listId,\n    controlId = _ref.controlId,\n    enteredTextLabel = _ref.enteredTextLabel,\n    handleLoadMore = _ref.handleLoadMore,\n    hasDropdownStatus = _ref.hasDropdownStatus,\n    virtualScroll = _ref.virtualScroll,\n    selectedAriaLabel = _ref.selectedAriaLabel,\n    renderHighlightedAriaLive = _ref.renderHighlightedAriaLive,\n    listBottom = _ref.listBottom,\n    ariaDescribedby = _ref.ariaDescribedby;\n  var _a;\n  var handleMouseUp = createMouseEventHandler(autosuggestItemsHandlers.selectVisibleOptionWithMouse);\n  var handleMouseMove = createMouseEventHandler(autosuggestItemsHandlers.highlightVisibleOptionWithMouse);\n  var ListComponent = virtualScroll ? VirtualList : PlainList;\n  var announcement = useAnnouncement({\n    announceSelected: ((_a = autosuggestItemsState.highlightedOption) === null || _a === void 0 ? void 0 : _a.value) === highlightText,\n    highlightedOption: autosuggestItemsState.highlightedOption,\n    getParent: function getParent(option) {\n      return autosuggestItemsState.getItemGroup(option);\n    },\n    selectedAriaLabel: selectedAriaLabel,\n    renderHighlightedAriaLive: renderHighlightedAriaLive\n  });\n  return React.createElement(ListComponent, {\n    listBottom: listBottom,\n    handleLoadMore: handleLoadMore,\n    autosuggestItemsState: autosuggestItemsState,\n    highlightText: highlightText,\n    enteredTextLabel: enteredTextLabel,\n    highlightedA11yProps: highlightedOptionId ? {\n      id: highlightedOptionId\n    } : {},\n    hasDropdownStatus: hasDropdownStatus,\n    menuProps: {\n      id: listId,\n      ariaLabelledby: controlId,\n      onMouseUp: handleMouseUp,\n      onMouseMove: handleMouseMove,\n      ariaDescribedby: ariaDescribedby,\n      statusType: statusType\n    },\n    screenReaderContent: announcement\n  });\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AAIzB,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,SAAS,MAAM,cAAc;AAEpC,SAASC,eAAe,QAAQ,kCAAkC;AAoBlE,IAAMC,uBAAuB,GAAG,SAA1BA,uBAAuB,CAAIC,OAAgC;EAAA,OAAK,UAACC,SAAiB,EAAI;IAC1F;IACA,IAAIA,SAAS,GAAG,CAAC,CAAC,EAAE;MAClBD,OAAO,CAACC,SAAS,CAAC;;EAEtB,CAAC;AAAA;AAED,eAAc,SAAUC,sBAAsB,OAgBhB;EAAA,IAf5BC,UAAU,QAAVA,UAAU;IACVC,qBAAqB,QAArBA,qBAAqB;IACrBC,wBAAwB,QAAxBA,wBAAwB;IACxBC,mBAAmB,QAAnBA,mBAAmB;IACnBC,aAAa,QAAbA,aAAa;IACbC,MAAM,QAANA,MAAM;IACNC,SAAS,QAATA,SAAS;IACTC,gBAAgB,QAAhBA,gBAAgB;IAChBC,cAAc,QAAdA,cAAc;IACdC,iBAAiB,QAAjBA,iBAAiB;IACjBC,aAAa,QAAbA,aAAa;IACbC,iBAAiB,QAAjBA,iBAAiB;IACjBC,yBAAyB,QAAzBA,yBAAyB;IACzBC,UAAU,QAAVA,UAAU;IACVC,eAAe,QAAfA,eAAe;;EAEf,IAAMC,aAAa,GAAGnB,uBAAuB,CAACM,wBAAwB,CAACc,4BAA4B,CAAC;EACpG,IAAMC,eAAe,GAAGrB,uBAAuB,CAACM,wBAAwB,CAACgB,+BAA+B,CAAC;EAEzG,IAAMC,aAAa,GAAGT,aAAa,GAAGjB,WAAW,GAAGC,SAAS;EAE7D,IAAM0B,YAAY,GAAGzB,eAAe,CAAC;IACnC0B,gBAAgB,EAAE,4BAAqB,CAACC,iBAAiB,0CAAEC,KAAK,MAAKnB,aAAa;IAClFkB,iBAAiB,EAAErB,qBAAqB,CAACqB,iBAAiB;IAC1DE,SAAS,EAAE,yBAAM;MAAA,OAAIvB,qBAAqB,CAACwB,YAAY,CAACC,MAAM,CAAC;IAAA;IAC/Df,iBAAiB,EAAjBA,iBAAiB;IACjBC,yBAAyB,EAAzBA;GACD,CAAC;EAEF,OACEpB,oBAAC2B,aAAa;IACZN,UAAU,EAAEA,UAAU;IACtBL,cAAc,EAAEA,cAAc;IAC9BP,qBAAqB,EAAEA,qBAAqB;IAC5CG,aAAa,EAAEA,aAAa;IAC5BG,gBAAgB,EAAEA,gBAAgB;IAClCoB,oBAAoB,EAAExB,mBAAmB,GAAG;MAAEyB,EAAE,EAAEzB;IAAmB,CAAE,GAAG,EAAE;IAC5EM,iBAAiB,EAAEA,iBAAiB;IACpCoB,SAAS,EAAE;MACTD,EAAE,EAAEvB,MAAM;MACVyB,cAAc,EAAExB,SAAS;MACzByB,SAAS,EAAEhB,aAAa;MACxBiB,WAAW,EAAEf,eAAe;MAC5BH,eAAe,EAAfA,eAAe;MACfd,UAAU,EAAVA;KACD;IACDiC,mBAAmB,EAAEb;EAAY,EACjC;AAEN","names":["React","VirtualList","PlainList","useAnnouncement","createMouseEventHandler","handler","itemIndex","AutosuggestOptionsList","statusType","autosuggestItemsState","autosuggestItemsHandlers","highlightedOptionId","highlightText","listId","controlId","enteredTextLabel","handleLoadMore","hasDropdownStatus","virtualScroll","selectedAriaLabel","renderHighlightedAriaLive","listBottom","ariaDescribedby","handleMouseUp","selectVisibleOptionWithMouse","handleMouseMove","highlightVisibleOptionWithMouse","ListComponent","announcement","announceSelected","highlightedOption","value","getParent","getItemGroup","option","highlightedA11yProps","id","menuProps","ariaLabelledby","onMouseUp","onMouseMove","screenReaderContent"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/autosuggest/lib/default/autosuggest/options-list.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { AutosuggestItemsHandlers, AutosuggestItemsState } from './options-controller';\nimport { AutosuggestProps } from './interfaces';\nimport VirtualList from './virtual-list';\nimport PlainList from './plain-list';\n\nimport { useAnnouncement } from '../select/utils/use-announcement';\n\nexport interface AutosuggestOptionsListProps\n  extends Pick<\n    AutosuggestProps,\n    'enteredTextLabel' | 'virtualScroll' | 'selectedAriaLabel' | 'renderHighlightedAriaLive'\n  > {\n  statusType: AutosuggestProps.StatusType;\n  autosuggestItemsState: AutosuggestItemsState;\n  autosuggestItemsHandlers: AutosuggestItemsHandlers;\n  highlightedOptionId?: string;\n  highlightText: string;\n  listId: string;\n  controlId: string;\n  handleLoadMore: () => void;\n  hasDropdownStatus?: boolean;\n  listBottom?: React.ReactNode;\n  ariaDescribedby?: string;\n}\n\nconst createMouseEventHandler = (handler: (index: number) => void) => (itemIndex: number) => {\n  // prevent mouse events to avoid losing focus from the input\n  if (itemIndex > -1) {\n    handler(itemIndex);\n  }\n};\n\nexport default function AutosuggestOptionsList({\n  statusType,\n  autosuggestItemsState,\n  autosuggestItemsHandlers,\n  highlightedOptionId,\n  highlightText,\n  listId,\n  controlId,\n  enteredTextLabel,\n  handleLoadMore,\n  hasDropdownStatus,\n  virtualScroll,\n  selectedAriaLabel,\n  renderHighlightedAriaLive,\n  listBottom,\n  ariaDescribedby,\n}: AutosuggestOptionsListProps) {\n  const handleMouseUp = createMouseEventHandler(autosuggestItemsHandlers.selectVisibleOptionWithMouse);\n  const handleMouseMove = createMouseEventHandler(autosuggestItemsHandlers.highlightVisibleOptionWithMouse);\n\n  const ListComponent = virtualScroll ? VirtualList : PlainList;\n\n  const announcement = useAnnouncement({\n    announceSelected: autosuggestItemsState.highlightedOption?.value === highlightText,\n    highlightedOption: autosuggestItemsState.highlightedOption,\n    getParent: option => autosuggestItemsState.getItemGroup(option),\n    selectedAriaLabel,\n    renderHighlightedAriaLive,\n  });\n\n  return (\n    <ListComponent\n      listBottom={listBottom}\n      handleLoadMore={handleLoadMore}\n      autosuggestItemsState={autosuggestItemsState}\n      highlightText={highlightText}\n      enteredTextLabel={enteredTextLabel}\n      highlightedA11yProps={highlightedOptionId ? { id: highlightedOptionId } : {}}\n      hasDropdownStatus={hasDropdownStatus}\n      menuProps={{\n        id: listId,\n        ariaLabelledby: controlId,\n        onMouseUp: handleMouseUp,\n        onMouseMove: handleMouseMove,\n        ariaDescribedby,\n        statusType,\n      }}\n      screenReaderContent={announcement}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}