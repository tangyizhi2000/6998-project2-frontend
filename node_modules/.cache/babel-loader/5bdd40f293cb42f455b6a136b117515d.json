{"ast":null,"code":"import _classCallCheck from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport debounce from '../../debounce';\nimport { sortByPriority } from '../helpers/utils';\nexport var ActionButtonsController = /*#__PURE__*/function () {\n  function ActionButtonsController() {\n    var _this = this;\n    _classCallCheck(this, ActionButtonsController);\n    this.listeners = [];\n    this.actions = [];\n    this.scheduleUpdate = debounce(function () {\n      _this.listeners.forEach(function (listener) {\n        return listener(_this.actions);\n      });\n    }, 0);\n    this.registerAction = function (action) {\n      _this.actions.push(action);\n      _this.actions = sortByPriority(_this.actions);\n      _this.scheduleUpdate();\n    };\n    this.clearRegisteredActions = function () {\n      _this.actions = [];\n    };\n    this.onActionRegistered = function (listener) {\n      _this.listeners.push(listener);\n      _this.scheduleUpdate();\n      return function () {\n        _this.listeners = _this.listeners.filter(function (item) {\n          return item !== listener;\n        });\n      };\n    };\n  }\n  _createClass(ActionButtonsController, [{\n    key: \"installPublic\",\n    value: function installPublic() {\n      var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _a;\n      (_a = api.registerAction) !== null && _a !== void 0 ? _a : api.registerAction = this.registerAction;\n      return api;\n    }\n  }, {\n    key: \"installInternal\",\n    value: function installInternal() {\n      var internalApi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _a, _b;\n      (_a = internalApi.clearRegisteredActions) !== null && _a !== void 0 ? _a : internalApi.clearRegisteredActions = this.clearRegisteredActions;\n      (_b = internalApi.onActionRegistered) !== null && _b !== void 0 ? _b : internalApi.onActionRegistered = this.onActionRegistered;\n      return internalApi;\n    }\n  }]);\n  return ActionButtonsController;\n}();","map":{"version":3,"mappings":";;AAAA;AACA;AACA,OAAOA,QAAQ,MAAM,gBAAgB;AACrC,SAASC,cAAc,QAAQ,kBAAkB;AA+BjD,WAAaC,uBAAuB;EAApC;IAAA;IAAA;IACU,cAAS,GAAsC,EAAE;IACjD,YAAO,GAAwB,EAAE;IAEjC,mBAAc,GAAGF,QAAQ,CAAC,YAAK;MACrC,KAAI,CAACG,SAAS,CAACC,OAAO,CAAC,kBAAQ;QAAA,OAAIC,QAAQ,CAAC,KAAI,CAACC,OAAO,CAAC;MAAA,EAAC;IAC5D,CAAC,EAAE,CAAC,CAAC;IAEL,mBAAc,GAAG,UAACC,MAAoB,EAAI;MACxC,KAAI,CAACD,OAAO,CAACE,IAAI,CAACD,MAAM,CAAC;MACzB,KAAI,CAACD,OAAO,GAAGL,cAAc,CAAC,KAAI,CAACK,OAAO,CAAC;MAC3C,KAAI,CAACG,cAAc,EAAE;IACvB,CAAC;IAED,2BAAsB,GAAG,YAAK;MAC5B,KAAI,CAACH,OAAO,GAAG,EAAE;IACnB,CAAC;IAED,uBAAkB,GAAG,UAACD,QAAoC,EAAI;MAC5D,KAAI,CAACF,SAAS,CAACK,IAAI,CAACH,QAAQ,CAAC;MAC7B,KAAI,CAACI,cAAc,EAAE;MACrB,OAAO,YAAK;QACV,KAAI,CAACN,SAAS,GAAG,KAAI,CAACA,SAAS,CAACO,MAAM,CAAC,cAAI;UAAA,OAAIC,IAAI,KAAKN,QAAQ;QAAA,EAAC;MACnE,CAAC;IACH,CAAC;EAYH;EAAC;IAAA;IAAA,OAVC,yBAAiD;MAAA,IAAnCO,0EAAiC,EAAE;;MAC/C,SAAG,CAACC,cAAc,mCAAlBD,GAAG,CAACC,cAAc,GAAK,IAAI,CAACA,cAAc;MAC1C,OAAOD,GAAuB;IAChC;EAAC;IAAA;IAAA,OAED,2BAA6D;MAAA,IAA7CE,kFAA2C,EAAE;;MAC3D,iBAAW,CAACC,sBAAsB,mCAAlCD,WAAW,CAACC,sBAAsB,GAAK,IAAI,CAACA,sBAAsB;MAClE,iBAAW,CAACC,kBAAkB,mCAA9BF,WAAW,CAACE,kBAAkB,GAAK,IAAI,CAACA,kBAAkB;MAC1D,OAAOF,WAAiC;IAC1C;EAAC;EAAA;AAAA","names":["debounce","sortByPriority","ActionButtonsController","listeners","forEach","listener","actions","action","push","scheduleUpdate","filter","item","api","registerAction","internalApi","clearRegisteredActions","onActionRegistered"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/plugins/controllers/lib/default/internal/plugins/controllers/action-buttons.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport debounce from '../../debounce';\nimport { sortByPriority } from '../helpers/utils';\n\n// this code should not depend on React typings, because it is portable between major versions\ninterface RefShim<T> {\n  current: T | null;\n}\n\nexport interface ActionContext {\n  type: string;\n  headerRef: RefShim<HTMLElement>;\n  contentRef: RefShim<HTMLElement>;\n}\n\nexport interface ActionConfig {\n  id: string;\n  orderPriority?: number;\n  mountContent: (container: HTMLElement, context: ActionContext) => void;\n  unmountContent: (container: HTMLElement) => void;\n}\n\nexport type ActionRegistrationListener = (action: Array<ActionConfig>) => void;\n\nexport interface ActionsApiPublic {\n  registerAction(config: ActionConfig): void;\n}\n\nexport interface ActionsApiInternal {\n  clearRegisteredActions(): void;\n  onActionRegistered(listener: ActionRegistrationListener): () => void;\n}\n\nexport class ActionButtonsController {\n  private listeners: Array<ActionRegistrationListener> = [];\n  private actions: Array<ActionConfig> = [];\n\n  private scheduleUpdate = debounce(() => {\n    this.listeners.forEach(listener => listener(this.actions));\n  }, 0);\n\n  registerAction = (action: ActionConfig) => {\n    this.actions.push(action);\n    this.actions = sortByPriority(this.actions);\n    this.scheduleUpdate();\n  };\n\n  clearRegisteredActions = () => {\n    this.actions = [];\n  };\n\n  onActionRegistered = (listener: ActionRegistrationListener) => {\n    this.listeners.push(listener);\n    this.scheduleUpdate();\n    return () => {\n      this.listeners = this.listeners.filter(item => item !== listener);\n    };\n  };\n\n  installPublic(api: Partial<ActionsApiPublic> = {}): ActionsApiPublic {\n    api.registerAction ??= this.registerAction;\n    return api as ActionsApiPublic;\n  }\n\n  installInternal(internalApi: Partial<ActionsApiInternal> = {}): ActionsApiInternal {\n    internalApi.clearRegisteredActions ??= this.clearRegisteredActions;\n    internalApi.onActionRegistered ??= this.onActionRegistered;\n    return internalApi as ActionsApiInternal;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}