{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useRef } from 'react';\nexport function useSplitPanelFocusControl(dependencies) {\n  const refs = {\n    toggle: useRef(null),\n    slider: useRef(null),\n    preferences: useRef(null)\n  };\n  const lastInteraction = useRef(null);\n  useEffect(() => {\n    var _a, _b, _c, _d;\n    switch ((_a = lastInteraction.current) === null || _a === void 0 ? void 0 : _a.type) {\n      case 'open':\n        (_b = refs.slider.current) === null || _b === void 0 ? void 0 : _b.focus();\n        break;\n      case 'close':\n        (_c = refs.toggle.current) === null || _c === void 0 ? void 0 : _c.focus();\n        break;\n      case 'position':\n        (_d = refs.preferences.current) === null || _d === void 0 ? void 0 : _d.focus();\n        break;\n    }\n    lastInteraction.current = null;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n  return {\n    refs,\n    setLastInteraction: interaction => lastInteraction.current = interaction\n  };\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAAoCA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAepE,OAAM,SAAUC,yBAAyB,CAACC,YAA4B;EACpE,MAAMC,IAAI,GAAG;IACXC,MAAM,EAAEJ,MAAM,CAAkB,IAAI,CAAC;IACrCK,MAAM,EAAEL,MAAM,CAAiB,IAAI,CAAC;IACpCM,WAAW,EAAEN,MAAM,CAAkB,IAAI;GAC1C;EACD,MAAMO,eAAe,GAAGP,MAAM,CAAmC,IAAI,CAAC;EAEtED,SAAS,CAAC,MAAK;;IACb,QAAQ,qBAAe,CAACS,OAAO,0CAAEC,IAAI;MACnC,KAAK,MAAM;QACT,UAAI,CAACJ,MAAM,CAACG,OAAO,0CAAEE,KAAK,EAAE;QAC5B;MACF,KAAK,OAAO;QACV,UAAI,CAACN,MAAM,CAACI,OAAO,0CAAEE,KAAK,EAAE;QAC5B;MACF,KAAK,UAAU;QACb,UAAI,CAACJ,WAAW,CAACE,OAAO,0CAAEE,KAAK,EAAE;QACjC;IAAM;IAEVH,eAAe,CAACC,OAAO,GAAG,IAAI;IAC9B;EACF,CAAC,EAAEN,YAAY,CAAC;EAEhB,OAAO;IACLC,IAAI;IACJQ,kBAAkB,EAAGC,WAAsC,IAAML,eAAe,CAACC,OAAO,GAAGI;GAC5F;AACH","names":["useEffect","useRef","useSplitPanelFocusControl","dependencies","refs","toggle","slider","preferences","lastInteraction","current","type","focus","setLastInteraction","interaction"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/app-layout/utils/lib/default/app-layout/utils/use-split-panel-focus-control.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DependencyList, RefObject, useEffect, useRef } from 'react';\nimport { ButtonProps } from '../../button/interfaces';\n\nexport type SplitPanelLastInteraction = { type: 'open' } | { type: 'close' } | { type: 'position' };\n\nexport interface SplitPanelFocusControlRefs {\n  toggle: RefObject<ButtonProps.Ref>;\n  slider: RefObject<HTMLDivElement>;\n  preferences: RefObject<ButtonProps.Ref>;\n}\ninterface SplitPanelFocusControlState {\n  refs: SplitPanelFocusControlRefs;\n  setLastInteraction: (interaction: SplitPanelLastInteraction) => void;\n}\n\nexport function useSplitPanelFocusControl(dependencies: DependencyList): SplitPanelFocusControlState {\n  const refs = {\n    toggle: useRef<ButtonProps.Ref>(null),\n    slider: useRef<HTMLDivElement>(null),\n    preferences: useRef<ButtonProps.Ref>(null),\n  };\n  const lastInteraction = useRef<SplitPanelLastInteraction | null>(null);\n\n  useEffect(() => {\n    switch (lastInteraction.current?.type) {\n      case 'open':\n        refs.slider.current?.focus();\n        break;\n      case 'close':\n        refs.toggle.current?.focus();\n        break;\n      case 'position':\n        refs.preferences.current?.focus();\n        break;\n    }\n    lastInteraction.current = null;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n\n  return {\n    refs,\n    setLastInteraction: (interaction: SplitPanelLastInteraction) => (lastInteraction.current = interaction),\n  };\n}\n"]},"metadata":{},"sourceType":"module"}