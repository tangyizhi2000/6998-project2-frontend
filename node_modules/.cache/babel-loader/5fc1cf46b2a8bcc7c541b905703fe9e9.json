{"ast":null,"code":"import _defineProperty from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { InternalButton } from '../button/internal';\nimport { KeyCode } from '../internal/keycode';\nimport { onPaginationClick, hasHorizontalOverflow, hasLeftOverflow, hasRightOverflow, scrollIntoView } from './scroll-utils';\nimport { hasModifierKeys, isPlainLeftClick } from '../internal/events';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { useInternalI18n } from '../i18n/context';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nexport function TabHeaderBar(_ref) {\n  var _clsx, _clsx2, _clsx3;\n  var onChange = _ref.onChange,\n    activeTabId = _ref.activeTabId,\n    tabs = _ref.tabs,\n    variant = _ref.variant,\n    idNamespace = _ref.idNamespace,\n    ariaLabel = _ref.ariaLabel,\n    ariaLabelledby = _ref.ariaLabelledby,\n    i18nStrings = _ref.i18nStrings;\n  var headerBarRef = useRef(null);\n  var activeTabHeaderRef = useRef(null);\n  var leftOverflowButton = useRef(null);\n  var i18n = useInternalI18n('tabs');\n  var isVisualRefresh = useVisualRefresh();\n  var _useContainerQuery = useContainerQuery(function (rect) {\n      return rect.contentBoxWidth;\n    }),\n    _useContainerQuery2 = _slicedToArray(_useContainerQuery, 2),\n    widthChange = _useContainerQuery2[0],\n    containerRef = _useContainerQuery2[1];\n  var tabRefs = useRef(new Map());\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    horizontalOverflow = _useState2[0],\n    setHorizontalOverflow = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    leftOverflow = _useState4[0],\n    setLeftOverflow = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    rightOverflow = _useState6[0],\n    setRightOverflow = _useState6[1];\n  useEffect(function () {\n    if (headerBarRef.current) {\n      setHorizontalOverflow(hasHorizontalOverflow(headerBarRef.current, leftOverflowButton));\n      setLeftOverflow(hasLeftOverflow(headerBarRef.current));\n      setRightOverflow(hasRightOverflow(headerBarRef.current));\n    }\n  }, [widthChange, tabs]);\n  var scrollIntoViewIfPossible = function scrollIntoViewIfPossible(smooth) {\n    if (!activeTabId) {\n      return;\n    }\n    var activeTabRef = tabRefs.current.get(activeTabId);\n    if (activeTabRef && headerBarRef.current) {\n      scrollIntoView(activeTabRef, headerBarRef.current, smooth);\n    }\n  };\n  useEffect(function () {\n    // Delay scrollIntoView as the position is depending on parent elements\n    // (effects are called inside-out in the component tree).\n    // Wait one frame to allow parents to complete it's calculation.\n    requestAnimationFrame(function () {\n      scrollIntoViewIfPossible(false);\n    });\n    // Non-smooth scrolling should not be called upon activeId change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [horizontalOverflow, widthChange, tabs.length]);\n  useEffect(function () {\n    scrollIntoViewIfPossible(true);\n    // Smooth scrolling should only be called upon activeId change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeTabId]);\n  useEffect(function () {\n    var _a, _b;\n    /*\n     When the selected tab changes and we are currently already focused on a tab,\n     move the focus to the newly selected tab.\n    */\n    if ((_a = headerBarRef.current) === null || _a === void 0 ? void 0 : _a.contains(document.activeElement)) {\n      if (document.activeElement !== activeTabHeaderRef.current) {\n        (_b = activeTabHeaderRef.current) === null || _b === void 0 ? void 0 : _b.focus({\n          preventScroll: true\n        });\n      }\n    }\n  }, [activeTabId]);\n  var onScroll = function onScroll() {\n    if (headerBarRef.current) {\n      setLeftOverflow(hasLeftOverflow(headerBarRef.current));\n      setRightOverflow(hasRightOverflow(headerBarRef.current));\n    }\n  };\n  var classes = clsx((_clsx = {}, _defineProperty(_clsx, styles['tabs-header'], true), _defineProperty(_clsx, styles['tabs-header-with-divider'], variant === 'default' || isVisualRefresh), _clsx));\n  var leftButtonClasses = clsx((_clsx2 = {}, _defineProperty(_clsx2, styles['pagination-button'], true), _defineProperty(_clsx2, styles['pagination-button-left'], true), _defineProperty(_clsx2, styles['pagination-button-left-scrollable'], leftOverflow), _clsx2));\n  var rightButtonClasses = clsx((_clsx3 = {}, _defineProperty(_clsx3, styles['pagination-button'], true), _defineProperty(_clsx3, styles['pagination-button-right'], true), _defineProperty(_clsx3, styles['pagination-button-right-scrollable'], rightOverflow), _clsx3));\n  return (\n    //converted span to div as list should not be a child of span for HTML validation\n    React.createElement(\"div\", {\n      className: classes,\n      ref: containerRef\n    }, horizontalOverflow && React.createElement(\"span\", {\n      ref: leftOverflowButton,\n      className: leftButtonClasses\n    }, React.createElement(InternalButton, {\n      formAction: \"none\",\n      variant: \"icon\",\n      iconName: \"angle-left\",\n      disabled: !leftOverflow,\n      onClick: function onClick() {\n        return onPaginationClick(headerBarRef, -1);\n      },\n      ariaLabel: i18n('i18nStrings.scrollLeftAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.scrollLeftAriaLabel)\n    })), React.createElement(\"ul\", {\n      role: \"tablist\",\n      className: styles['tabs-header-list'],\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": ariaLabelledby,\n      ref: headerBarRef,\n      onScroll: onScroll\n    }, tabs.map(renderTabHeader)), horizontalOverflow && React.createElement(\"span\", {\n      className: rightButtonClasses\n    }, React.createElement(InternalButton, {\n      formAction: \"none\",\n      variant: \"icon\",\n      iconName: \"angle-right\",\n      disabled: !rightOverflow,\n      onClick: function onClick() {\n        return onPaginationClick(headerBarRef, 1);\n      },\n      ariaLabel: i18n('i18nStrings.scrollRightAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.scrollRightAriaLabel)\n    })))\n  );\n  function renderTabHeader(tab) {\n    var _clsx4;\n    var enabledTabsWithCurrentTab = tabs.filter(function (tab) {\n      return !tab.disabled || tab.id === activeTabId;\n    });\n    var highlightTab = function highlightTab(enabledTabIndex) {\n      var tab = enabledTabsWithCurrentTab[enabledTabIndex];\n      if (tab.id === activeTabId) {\n        return;\n      }\n      onChange({\n        activeTabId: tab.id,\n        activeTabHref: tab.href\n      });\n    };\n    var handleKeyDown = function handleKeyDown(event) {\n      var keyCode = event.keyCode;\n      var specialKeys = [KeyCode.right, KeyCode.left, KeyCode.end, KeyCode.home, KeyCode.pageUp, KeyCode.pageDown];\n      if (hasModifierKeys(event) || specialKeys.indexOf(keyCode) === -1) {\n        return;\n      }\n      event.preventDefault();\n      var activeIndex = enabledTabsWithCurrentTab.indexOf(tab);\n      switch (keyCode) {\n        case KeyCode.right:\n          if (activeIndex + 1 === enabledTabsWithCurrentTab.length) {\n            highlightTab(0);\n          } else {\n            highlightTab(activeIndex + 1);\n          }\n          return;\n        case KeyCode.left:\n          if (activeIndex === 0) {\n            highlightTab(enabledTabsWithCurrentTab.length - 1);\n          } else {\n            highlightTab(activeIndex - 1);\n          }\n          return;\n        case KeyCode.end:\n          highlightTab(enabledTabsWithCurrentTab.length - 1);\n          return;\n        case KeyCode.home:\n          highlightTab(0);\n          return;\n        case KeyCode.pageDown:\n          if (rightOverflow) {\n            onPaginationClick(headerBarRef, 1);\n          }\n          return;\n        case KeyCode.pageUp:\n          if (leftOverflow) {\n            onPaginationClick(headerBarRef, -1);\n          }\n          return;\n      }\n    };\n    var clickTab = function clickTab(event) {\n      if (tab.disabled) {\n        event.preventDefault();\n        return;\n      }\n      // if the primary mouse button is clicked with a modifier key, the browser will handle opening a new tab\n      var specialKey = !isPlainLeftClick(event);\n      if (specialKey && tab.href) {\n        return;\n      }\n      event.preventDefault();\n      // for browsers that do not focus buttons on button click\n      if (!tab.href) {\n        var clickedTabRef = tabRefs.current.get(tab.id);\n        if (clickedTabRef) {\n          var childElement = clickedTabRef.firstChild;\n          if (childElement && childElement !== document.activeElement) {\n            childElement.focus({\n              preventScroll: true\n            });\n          }\n        }\n      }\n      if (tab.id === activeTabId) {\n        return;\n      }\n      onChange({\n        activeTabId: tab.id,\n        activeTabHref: tab.href\n      });\n    };\n    var classes = clsx((_clsx4 = {}, _defineProperty(_clsx4, styles['tabs-tab-link'], true), _defineProperty(_clsx4, styles.refresh, isVisualRefresh), _defineProperty(_clsx4, styles['tabs-tab-active'], activeTabId === tab.id && !tab.disabled), _defineProperty(_clsx4, styles['tabs-tab-disabled'], tab.disabled), _clsx4));\n    var commonProps = {\n      className: classes,\n      role: 'tab',\n      'aria-selected': tab.id === activeTabId,\n      'aria-controls': \"\".concat(idNamespace, \"-\").concat(tab.id, \"-panel\"),\n      'data-testid': tab.id,\n      id: getTabElementId({\n        namespace: idNamespace,\n        tabId: tab.id\n      }),\n      children: React.createElement(\"span\", {\n        className: styles['tabs-tab-label']\n      }, tab.label)\n    };\n    if (tab.disabled) {\n      commonProps['aria-disabled'] = 'true';\n    } else {\n      commonProps.onClick = clickTab;\n    }\n    if (tab.id === activeTabId) {\n      commonProps.ref = activeTabHeaderRef;\n      commonProps.tabIndex = 0;\n      commonProps.onKeyDown = function (event) {\n        return handleKeyDown(event);\n      };\n    } else {\n      commonProps.tabIndex = -1;\n    }\n    var trigger = null;\n    if (tab.href) {\n      var anchorProps = commonProps;\n      anchorProps.href = tab.href;\n      trigger = React.createElement(\"a\", Object.assign({}, anchorProps));\n    } else {\n      var buttonProps = commonProps;\n      buttonProps.type = 'button';\n      if (tab.disabled) {\n        buttonProps.disabled = true;\n      }\n      trigger = React.createElement(\"button\", Object.assign({}, buttonProps));\n    }\n    return React.createElement(\"li\", {\n      ref: function ref(element) {\n        return tabRefs.current.set(tab.id, element);\n      },\n      className: styles['tabs-tab'],\n      role: \"presentation\",\n      key: tab.id\n    }, trigger);\n  }\n}\nexport function getTabElementId(_ref2) {\n  var namespace = _ref2.namespace,\n    tabId = _ref2.tabId;\n  return namespace + '-' + tabId;\n}","map":{"version":3,"mappings":"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","names":["React","useRef","useState","useEffect","clsx","styles","InternalButton","KeyCode","onPaginationClick","hasHorizontalOverflow","hasLeftOverflow","hasRightOverflow","scrollIntoView","hasModifierKeys","isPlainLeftClick","useVisualRefresh","useInternalI18n","useContainerQuery","TabHeaderBar","onChange","activeTabId","tabs","variant","idNamespace","ariaLabel","ariaLabelledby","i18nStrings","headerBarRef","activeTabHeaderRef","leftOverflowButton","i18n","isVisualRefresh","rect","contentBoxWidth","widthChange","containerRef","tabRefs","Map","horizontalOverflow","setHorizontalOverflow","leftOverflow","setLeftOverflow","rightOverflow","setRightOverflow","current","scrollIntoViewIfPossible","smooth","activeTabRef","get","requestAnimationFrame","length","contains","document","activeElement","focus","preventScroll","onScroll","classes","leftButtonClasses","rightButtonClasses","className","ref","formAction","iconName","disabled","onClick","scrollLeftAriaLabel","role","map","renderTabHeader","scrollRightAriaLabel","tab","enabledTabsWithCurrentTab","filter","id","highlightTab","enabledTabIndex","activeTabHref","href","handleKeyDown","event","keyCode","specialKeys","right","left","end","home","pageUp","pageDown","indexOf","preventDefault","activeIndex","clickTab","specialKey","clickedTabRef","childElement","firstChild","refresh","commonProps","getTabElementId","namespace","tabId","children","label","tabIndex","onKeyDown","trigger","anchorProps","buttonProps","type","set","element","key"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/tabs/lib/default/tabs/tab-header-bar.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState, useEffect } from 'react';\nimport { TabsProps } from './interfaces';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { InternalButton } from '../button/internal';\nimport { KeyCode } from '../internal/keycode';\nimport {\n  onPaginationClick,\n  hasHorizontalOverflow,\n  hasLeftOverflow,\n  hasRightOverflow,\n  scrollIntoView,\n} from './scroll-utils';\nimport { hasModifierKeys, isPlainLeftClick } from '../internal/events';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { useInternalI18n } from '../i18n/context';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nexport interface TabHeaderBarProps {\n  onChange: (changeDetail: TabsProps.ChangeDetail) => void;\n  activeTabId: TabsProps['activeTabId'];\n  tabs: TabsProps['tabs'];\n  variant: TabsProps['variant'];\n  idNamespace: string;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  i18nStrings?: TabsProps.I18nStrings;\n}\n\nexport function TabHeaderBar({\n  onChange,\n  activeTabId,\n  tabs,\n  variant,\n  idNamespace,\n  ariaLabel,\n  ariaLabelledby,\n  i18nStrings,\n}: TabHeaderBarProps) {\n  const headerBarRef = useRef<HTMLUListElement>(null);\n  const activeTabHeaderRef = useRef<HTMLAnchorElement>(null);\n  const leftOverflowButton = useRef<HTMLElement>(null);\n  const i18n = useInternalI18n('tabs');\n\n  const isVisualRefresh = useVisualRefresh();\n\n  const [widthChange, containerRef] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n  const tabRefs = useRef<Map<string, HTMLElement>>(new Map());\n  const [horizontalOverflow, setHorizontalOverflow] = useState(false);\n  const [leftOverflow, setLeftOverflow] = useState(false);\n  const [rightOverflow, setRightOverflow] = useState(false);\n\n  useEffect(() => {\n    if (headerBarRef.current) {\n      setHorizontalOverflow(hasHorizontalOverflow(headerBarRef.current, leftOverflowButton));\n      setLeftOverflow(hasLeftOverflow(headerBarRef.current));\n      setRightOverflow(hasRightOverflow(headerBarRef.current));\n    }\n  }, [widthChange, tabs]);\n\n  const scrollIntoViewIfPossible = (smooth: boolean) => {\n    if (!activeTabId) {\n      return;\n    }\n    const activeTabRef = tabRefs.current.get(activeTabId);\n    if (activeTabRef && headerBarRef.current) {\n      scrollIntoView(activeTabRef, headerBarRef.current, smooth);\n    }\n  };\n\n  useEffect(() => {\n    // Delay scrollIntoView as the position is depending on parent elements\n    // (effects are called inside-out in the component tree).\n    // Wait one frame to allow parents to complete it's calculation.\n    requestAnimationFrame(() => {\n      scrollIntoViewIfPossible(false);\n    });\n    // Non-smooth scrolling should not be called upon activeId change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [horizontalOverflow, widthChange, tabs.length]);\n\n  useEffect(() => {\n    scrollIntoViewIfPossible(true);\n    // Smooth scrolling should only be called upon activeId change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeTabId]);\n\n  useEffect(() => {\n    /*\n     When the selected tab changes and we are currently already focused on a tab,\n     move the focus to the newly selected tab.\n    */\n    if (headerBarRef.current?.contains(document.activeElement)) {\n      if (document.activeElement !== activeTabHeaderRef.current) {\n        activeTabHeaderRef.current?.focus({ preventScroll: true });\n      }\n    }\n  }, [activeTabId]);\n\n  const onScroll = () => {\n    if (headerBarRef.current) {\n      setLeftOverflow(hasLeftOverflow(headerBarRef.current));\n      setRightOverflow(hasRightOverflow(headerBarRef.current));\n    }\n  };\n\n  const classes = clsx({\n    [styles['tabs-header']]: true,\n    [styles['tabs-header-with-divider']]: variant === 'default' || isVisualRefresh,\n  });\n\n  const leftButtonClasses = clsx({\n    [styles['pagination-button']]: true,\n    [styles['pagination-button-left']]: true,\n    [styles['pagination-button-left-scrollable']]: leftOverflow,\n  });\n\n  const rightButtonClasses = clsx({\n    [styles['pagination-button']]: true,\n    [styles['pagination-button-right']]: true,\n    [styles['pagination-button-right-scrollable']]: rightOverflow,\n  });\n\n  return (\n    //converted span to div as list should not be a child of span for HTML validation\n    <div className={classes} ref={containerRef}>\n      {horizontalOverflow && (\n        <span ref={leftOverflowButton} className={leftButtonClasses}>\n          <InternalButton\n            formAction=\"none\"\n            variant=\"icon\"\n            iconName=\"angle-left\"\n            disabled={!leftOverflow}\n            onClick={() => onPaginationClick(headerBarRef, -1)}\n            ariaLabel={i18n('i18nStrings.scrollLeftAriaLabel', i18nStrings?.scrollLeftAriaLabel)}\n          />\n        </span>\n      )}\n      <ul\n        role=\"tablist\"\n        className={styles['tabs-header-list']}\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledby}\n        ref={headerBarRef}\n        onScroll={onScroll}\n      >\n        {tabs.map(renderTabHeader)}\n      </ul>\n      {horizontalOverflow && (\n        <span className={rightButtonClasses}>\n          <InternalButton\n            formAction=\"none\"\n            variant=\"icon\"\n            iconName=\"angle-right\"\n            disabled={!rightOverflow}\n            onClick={() => onPaginationClick(headerBarRef, 1)}\n            ariaLabel={i18n('i18nStrings.scrollRightAriaLabel', i18nStrings?.scrollRightAriaLabel)}\n          />\n        </span>\n      )}\n    </div>\n  );\n\n  function renderTabHeader(tab: TabsProps.Tab) {\n    const enabledTabsWithCurrentTab = tabs.filter(tab => !tab.disabled || tab.id === activeTabId);\n\n    const highlightTab = function (enabledTabIndex: number) {\n      const tab = enabledTabsWithCurrentTab[enabledTabIndex];\n      if (tab.id === activeTabId) {\n        return;\n      }\n\n      onChange({ activeTabId: tab.id, activeTabHref: tab.href });\n    };\n\n    const handleKeyDown = function (\n      event: React.KeyboardEvent<HTMLAnchorElement> | React.KeyboardEvent<HTMLButtonElement>\n    ) {\n      const { keyCode } = event;\n      const specialKeys = [KeyCode.right, KeyCode.left, KeyCode.end, KeyCode.home, KeyCode.pageUp, KeyCode.pageDown];\n      if (hasModifierKeys(event) || specialKeys.indexOf(keyCode) === -1) {\n        return;\n      }\n      event.preventDefault();\n      const activeIndex = enabledTabsWithCurrentTab.indexOf(tab);\n      switch (keyCode) {\n        case KeyCode.right:\n          if (activeIndex + 1 === enabledTabsWithCurrentTab.length) {\n            highlightTab(0);\n          } else {\n            highlightTab(activeIndex + 1);\n          }\n          return;\n        case KeyCode.left:\n          if (activeIndex === 0) {\n            highlightTab(enabledTabsWithCurrentTab.length - 1);\n          } else {\n            highlightTab(activeIndex - 1);\n          }\n          return;\n        case KeyCode.end:\n          highlightTab(enabledTabsWithCurrentTab.length - 1);\n          return;\n        case KeyCode.home:\n          highlightTab(0);\n          return;\n        case KeyCode.pageDown:\n          if (rightOverflow) {\n            onPaginationClick(headerBarRef, 1);\n          }\n          return;\n        case KeyCode.pageUp:\n          if (leftOverflow) {\n            onPaginationClick(headerBarRef, -1);\n          }\n          return;\n      }\n    };\n\n    const clickTab = (event: React.MouseEvent) => {\n      if (tab.disabled) {\n        event.preventDefault();\n        return;\n      }\n\n      // if the primary mouse button is clicked with a modifier key, the browser will handle opening a new tab\n      const specialKey = !isPlainLeftClick(event);\n      if (specialKey && tab.href) {\n        return;\n      }\n\n      event.preventDefault();\n      // for browsers that do not focus buttons on button click\n      if (!tab.href) {\n        const clickedTabRef = tabRefs.current.get(tab.id);\n        if (clickedTabRef) {\n          const childElement = clickedTabRef.firstChild as HTMLButtonElement;\n          if (childElement && childElement !== document.activeElement) {\n            childElement.focus({ preventScroll: true });\n          }\n        }\n      }\n\n      if (tab.id === activeTabId) {\n        return;\n      }\n\n      onChange({ activeTabId: tab.id, activeTabHref: tab.href });\n    };\n\n    const classes = clsx({\n      [styles['tabs-tab-link']]: true,\n      [styles.refresh]: isVisualRefresh,\n      [styles['tabs-tab-active']]: activeTabId === tab.id && !tab.disabled,\n      [styles['tabs-tab-disabled']]: tab.disabled,\n    });\n\n    const commonProps: (JSX.IntrinsicElements['a'] | JSX.IntrinsicElements['button']) & { 'data-testid': string } = {\n      className: classes,\n      role: 'tab',\n      'aria-selected': tab.id === activeTabId,\n      'aria-controls': `${idNamespace}-${tab.id}-panel`,\n      'data-testid': tab.id,\n      id: getTabElementId({ namespace: idNamespace, tabId: tab.id }),\n      children: <span className={styles['tabs-tab-label']}>{tab.label}</span>,\n    };\n\n    if (tab.disabled) {\n      commonProps['aria-disabled'] = 'true';\n    } else {\n      commonProps.onClick = clickTab;\n    }\n\n    if (tab.id === activeTabId) {\n      commonProps.ref = activeTabHeaderRef;\n      commonProps.tabIndex = 0;\n      commonProps.onKeyDown = (\n        event: React.KeyboardEvent<HTMLAnchorElement> | React.KeyboardEvent<HTMLButtonElement>\n      ) => handleKeyDown(event);\n    } else {\n      commonProps.tabIndex = -1;\n    }\n\n    let trigger = null;\n    if (tab.href) {\n      const anchorProps = commonProps as JSX.IntrinsicElements['a'];\n      anchorProps.href = tab.href;\n      trigger = <a {...anchorProps} />;\n    } else {\n      const buttonProps = commonProps as JSX.IntrinsicElements['button'];\n      buttonProps.type = 'button';\n      if (tab.disabled) {\n        buttonProps.disabled = true;\n      }\n      trigger = <button {...buttonProps} />;\n    }\n\n    return (\n      <li\n        ref={element => tabRefs.current.set(tab.id, element as HTMLElement)}\n        className={styles['tabs-tab']}\n        role=\"presentation\"\n        key={tab.id}\n      >\n        {trigger}\n      </li>\n    );\n  }\n}\n\nexport function getTabElementId({ namespace, tabId }: { namespace: string; tabId: string }) {\n  return namespace + '-' + tabId;\n}\n"]},"metadata":{},"sourceType":"module"}