{"ast":null,"code":"import _defineProperty from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\nimport { InternalButton } from '../button/internal';\nimport InternalIcon from '../icon/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport VisualContext from '../internal/components/visual-context';\nimport styles from './styles.css.js';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useContainerBreakpoints } from '../internal/hooks/container-queries';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useInternalI18n } from '../i18n/context';\nimport { DATA_ATTR_ANALYTICS_ALERT } from '../internal/analytics/selectors';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport { createUseDiscoveredAction } from '../internal/plugins/helpers';\nimport { awsuiPluginsInternal } from '../internal/plugins/api';\nimport { ActionsWrapper } from './actions-wrapper';\nvar typeToIcon = {\n  error: 'status-negative',\n  warning: 'status-warning',\n  success: 'status-positive',\n  info: 'status-info'\n};\nvar useDiscoveredAction = createUseDiscoveredAction(awsuiPluginsInternal.alert.onActionRegistered);\nvar InternalAlert = React.forwardRef(function (_a, ref) {\n  var type = _a.type,\n    statusIconAriaLabel = _a.statusIconAriaLabel,\n    _a$visible = _a.visible,\n    visible = _a$visible === void 0 ? true : _a$visible,\n    dismissible = _a.dismissible,\n    dismissAriaLabel = _a.dismissAriaLabel,\n    children = _a.children,\n    header = _a.header,\n    buttonText = _a.buttonText,\n    action = _a.action,\n    onDismiss = _a.onDismiss,\n    _onButtonClick = _a.onButtonClick,\n    _a$__internalRootRef = _a.__internalRootRef,\n    __internalRootRef = _a$__internalRootRef === void 0 ? null : _a$__internalRootRef,\n    rest = __rest(_a, [\"type\", \"statusIconAriaLabel\", \"visible\", \"dismissible\", \"dismissAriaLabel\", \"children\", \"header\", \"buttonText\", \"action\", \"onDismiss\", \"onButtonClick\", \"__internalRootRef\"]);\n  var baseProps = getBaseProps(rest);\n  var i18n = useInternalI18n('alert');\n  var focusRef = useRef(null);\n  useForwardFocus(ref, focusRef);\n  var _useContainerBreakpoi = useContainerBreakpoints(['xs']),\n    _useContainerBreakpoi2 = _slicedToArray(_useContainerBreakpoi, 2),\n    breakpoint = _useContainerBreakpoi2[0],\n    breakpointRef = _useContainerBreakpoi2[1];\n  var mergedRef = useMergeRefs(breakpointRef, __internalRootRef);\n  var isRefresh = useVisualRefresh();\n  var size = isRefresh ? 'normal' : header && children ? 'big' : 'normal';\n  var _useDiscoveredAction = useDiscoveredAction(type),\n    discoveredActions = _useDiscoveredAction.discoveredActions,\n    headerRef = _useDiscoveredAction.headerRef,\n    contentRef = _useDiscoveredAction.contentRef;\n  var hasAction = Boolean(action || buttonText || discoveredActions.length);\n  var analyticsAttributes = _defineProperty({}, DATA_ATTR_ANALYTICS_ALERT, type);\n  return React.createElement(\"div\", Object.assign({}, baseProps, analyticsAttributes, {\n    \"aria-hidden\": !visible,\n    className: clsx(styles.root, _defineProperty({}, styles.hidden, !visible), baseProps.className),\n    ref: mergedRef\n  }), React.createElement(LinkDefaultVariantContext.Provider, {\n    value: {\n      defaultVariant: 'primary'\n    }\n  }, React.createElement(VisualContext, {\n    contextName: \"alert\"\n  }, React.createElement(\"div\", {\n    className: clsx(styles.alert, styles[\"type-\".concat(type)], styles[\"icon-size-\".concat(size)], hasAction && styles['with-action'], dismissible && styles['with-dismiss'], styles[\"breakpoint-\".concat(breakpoint)])\n  }, React.createElement(\"div\", {\n    className: styles['alert-focus-wrapper'],\n    tabIndex: -1,\n    ref: focusRef\n  }, React.createElement(\"div\", {\n    className: clsx(styles.icon, styles.text),\n    role: \"img\",\n    \"aria-label\": statusIconAriaLabel\n  }, React.createElement(InternalIcon, {\n    name: typeToIcon[type],\n    size: size\n  })), React.createElement(\"div\", {\n    className: clsx(styles.message, styles.text)\n  }, header && React.createElement(\"div\", {\n    className: styles.header,\n    ref: headerRef\n  }, header), React.createElement(\"div\", {\n    className: styles.content,\n    ref: contentRef\n  }, children))), React.createElement(ActionsWrapper, {\n    className: styles.action,\n    testUtilClasses: {\n      actionSlot: styles['action-slot'],\n      actionButton: styles['action-button']\n    },\n    action: action,\n    discoveredActions: discoveredActions,\n    buttonText: buttonText,\n    onButtonClick: function onButtonClick() {\n      return fireNonCancelableEvent(_onButtonClick);\n    }\n  }), dismissible && React.createElement(\"div\", {\n    className: styles.dismiss\n  }, React.createElement(InternalButton, {\n    className: styles['dismiss-button'],\n    variant: \"icon\",\n    iconName: \"close\",\n    formAction: \"none\",\n    ariaLabel: i18n('dismissAriaLabel', dismissAriaLabel),\n    onClick: function onClick() {\n      return fireNonCancelableEvent(onDismiss);\n    }\n  }))))));\n});\nexport default InternalAlert;","map":{"version":3,"mappings":"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","names":["React","useRef","clsx","InternalButton","InternalIcon","getBaseProps","VisualContext","styles","fireNonCancelableEvent","useContainerBreakpoints","useVisualRefresh","useForwardFocus","useMergeRefs","useInternalI18n","DATA_ATTR_ANALYTICS_ALERT","LinkDefaultVariantContext","createUseDiscoveredAction","awsuiPluginsInternal","ActionsWrapper","typeToIcon","error","warning","success","info","useDiscoveredAction","alert","onActionRegistered","InternalAlert","forwardRef","_a","ref","type","statusIconAriaLabel","visible","dismissible","dismissAriaLabel","children","header","buttonText","action","onDismiss","onButtonClick","__internalRootRef","rest","baseProps","i18n","focusRef","breakpoint","breakpointRef","mergedRef","isRefresh","size","discoveredActions","headerRef","contentRef","hasAction","Boolean","length","analyticsAttributes","className","root","hidden","Provider","value","defaultVariant","contextName","tabIndex","icon","text","role","name","message","content","testUtilClasses","actionSlot","actionButton","dismiss","variant","iconName","formAction","ariaLabel","onClick"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/alert/lib/default/alert/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\nimport { InternalButton } from '../button/internal';\nimport { IconProps } from '../icon/interfaces';\nimport InternalIcon from '../icon/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport VisualContext from '../internal/components/visual-context';\nimport styles from './styles.css.js';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useContainerBreakpoints } from '../internal/hooks/container-queries';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport { AlertProps } from './interfaces';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { SomeRequired } from '../internal/types';\nimport { useInternalI18n } from '../i18n/context';\nimport { DATA_ATTR_ANALYTICS_ALERT } from '../internal/analytics/selectors';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport { createUseDiscoveredAction } from '../internal/plugins/helpers';\nimport { awsuiPluginsInternal } from '../internal/plugins/api';\nimport { ActionsWrapper } from './actions-wrapper';\n\nconst typeToIcon: Record<AlertProps.Type, IconProps['name']> = {\n  error: 'status-negative',\n  warning: 'status-warning',\n  success: 'status-positive',\n  info: 'status-info',\n};\n\ntype InternalAlertProps = SomeRequired<AlertProps, 'type'> & InternalBaseComponentProps;\n\nconst useDiscoveredAction = createUseDiscoveredAction(awsuiPluginsInternal.alert.onActionRegistered);\n\nconst InternalAlert = React.forwardRef(\n  (\n    {\n      type,\n      statusIconAriaLabel,\n      visible = true,\n      dismissible,\n      dismissAriaLabel,\n      children,\n      header,\n      buttonText,\n      action,\n      onDismiss,\n      onButtonClick,\n      __internalRootRef = null,\n      ...rest\n    }: InternalAlertProps,\n    ref: React.Ref<AlertProps.Ref>\n  ) => {\n    const baseProps = getBaseProps(rest);\n    const i18n = useInternalI18n('alert');\n\n    const focusRef = useRef<HTMLDivElement>(null);\n    useForwardFocus(ref, focusRef);\n\n    const [breakpoint, breakpointRef] = useContainerBreakpoints(['xs']);\n    const mergedRef = useMergeRefs(breakpointRef, __internalRootRef);\n\n    const isRefresh = useVisualRefresh();\n    const size = isRefresh ? 'normal' : header && children ? 'big' : 'normal';\n\n    const { discoveredActions, headerRef, contentRef } = useDiscoveredAction(type);\n\n    const hasAction = Boolean(action || buttonText || discoveredActions.length);\n\n    const analyticsAttributes = {\n      [DATA_ATTR_ANALYTICS_ALERT]: type,\n    };\n\n    return (\n      <div\n        {...baseProps}\n        {...analyticsAttributes}\n        aria-hidden={!visible}\n        className={clsx(styles.root, { [styles.hidden]: !visible }, baseProps.className)}\n        ref={mergedRef}\n      >\n        <LinkDefaultVariantContext.Provider value={{ defaultVariant: 'primary' }}>\n          <VisualContext contextName=\"alert\">\n            <div\n              className={clsx(\n                styles.alert,\n                styles[`type-${type}`],\n                styles[`icon-size-${size}`],\n                hasAction && styles['with-action'],\n                dismissible && styles['with-dismiss'],\n                styles[`breakpoint-${breakpoint}`]\n              )}\n            >\n              <div className={styles['alert-focus-wrapper']} tabIndex={-1} ref={focusRef}>\n                <div className={clsx(styles.icon, styles.text)} role=\"img\" aria-label={statusIconAriaLabel}>\n                  <InternalIcon name={typeToIcon[type]} size={size} />\n                </div>\n                <div className={clsx(styles.message, styles.text)}>\n                  {header && (\n                    <div className={styles.header} ref={headerRef}>\n                      {header}\n                    </div>\n                  )}\n                  <div className={styles.content} ref={contentRef}>\n                    {children}\n                  </div>\n                </div>\n              </div>\n              <ActionsWrapper\n                className={styles.action}\n                testUtilClasses={{\n                  actionSlot: styles['action-slot'],\n                  actionButton: styles['action-button'],\n                }}\n                action={action}\n                discoveredActions={discoveredActions}\n                buttonText={buttonText}\n                onButtonClick={() => fireNonCancelableEvent(onButtonClick)}\n              />\n              {dismissible && (\n                <div className={styles.dismiss}>\n                  <InternalButton\n                    className={styles['dismiss-button']}\n                    variant=\"icon\"\n                    iconName=\"close\"\n                    formAction=\"none\"\n                    ariaLabel={i18n('dismissAriaLabel', dismissAriaLabel)}\n                    onClick={() => fireNonCancelableEvent(onDismiss)}\n                  />\n                </div>\n              )}\n            </div>\n          </VisualContext>\n        </LinkDefaultVariantContext.Provider>\n      </div>\n    );\n  }\n);\n\nexport default InternalAlert;\n"]},"metadata":{},"sourceType":"module"}