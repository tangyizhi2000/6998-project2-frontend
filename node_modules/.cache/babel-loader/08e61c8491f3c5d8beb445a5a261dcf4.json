{"ast":null,"code":"import _defineProperty from\"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useState,useCallback,useMemo}from'react';import{AttributeEditor,Input,Link}from'@cloudscape-design/components';import{jsx as _jsx}from\"react/jsx-runtime\";var i18nStrings={addButtonText:'Add new label',removeButtonText:'Remove',empty:'No labels added yet'};var Control=/*#__PURE__*/React.memo(function(_ref){var value=_ref.value,index=_ref.index,placeholder=_ref.placeholder,setItems=_ref.setItems,prop=_ref.prop;return/*#__PURE__*/_jsx(Input,{value:value,placeholder:placeholder,onChange:function onChange(_ref2){var detail=_ref2.detail;setItems(function(items){var updatedItems=_toConsumableArray(items);updatedItems[index]=_objectSpread(_objectSpread({},updatedItems[index]),{},_defineProperty({},prop,detail.value));return updatedItems;});}});});// TODO: label cannot be empty upon submission, check this: https://cloudscape.design/components/attribute-editor/?tabId=api\nexport default function AttributeEditorExample(_ref3){var items=_ref3.items,setItems=_ref3.setItems;var definition=useMemo(function(){return[{label:'Label',control:function control(_ref4,itemIndex){var _ref4$key=_ref4.key,key=_ref4$key===void 0?'':_ref4$key;return/*#__PURE__*/_jsx(Control,{prop:\"key\",value:key,index:itemIndex,placeholder:\"Enter Label\",setItems:setItems});}}];},[]);var onAddButtonClick=useCallback(function(){setItems(function(items){return[].concat(_toConsumableArray(items),[{}]);});},[]);var onRemoveButtonClick=useCallback(function(_ref5){var itemIndex=_ref5.detail.itemIndex;setItems(function(items){var newItems=items.slice();newItems.splice(itemIndex,1);return newItems;});},[]);return/*#__PURE__*/_jsx(AttributeEditor,_objectSpread(_objectSpread({},i18nStrings),{},{items:items,definition:definition,onAddButtonClick:onAddButtonClick,onRemoveButtonClick:onRemoveButtonClick}));}","map":{"version":3,"names":["React","useState","useCallback","useMemo","AttributeEditor","Input","Link","i18nStrings","addButtonText","removeButtonText","empty","Control","memo","value","index","placeholder","setItems","prop","detail","items","updatedItems","AttributeEditorExample","definition","label","control","itemIndex","key","onAddButtonClick","onRemoveButtonClick","newItems","slice","splice"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/src/ChangableAttributeEditor.js"],"sourcesContent":["import React, { useState, useCallback, useMemo } from 'react';\nimport { AttributeEditor, Input, Link } from '@cloudscape-design/components';\n\nconst i18nStrings = {\n  addButtonText: 'Add new label',\n  removeButtonText: 'Remove',\n  empty: 'No labels added yet',\n};\n\nconst Control = React.memo(({ value, index, placeholder, setItems, prop }) => {\n  return (\n    <Input\n      value={value}\n      placeholder={placeholder}\n      onChange={({ detail }) => {\n        setItems(items => {\n          const updatedItems = [...items];\n          updatedItems[index] = {\n            ...updatedItems[index],\n            [prop]: detail.value,\n          };\n          return updatedItems;\n        });\n      }}\n    />\n  );\n});\n\n// TODO: label cannot be empty upon submission, check this: https://cloudscape.design/components/attribute-editor/?tabId=api\nexport default function AttributeEditorExample({items, setItems}) {\n  \n\n  const definition = useMemo(\n    () => [\n      {\n        label: 'Label',\n        control: ({ key = '' }, itemIndex) => (\n          <Control prop=\"key\" value={key} index={itemIndex} placeholder=\"Enter Label\" setItems={setItems} />\n        ),\n      },\n    ],\n    []\n  );\n\n  const onAddButtonClick = useCallback(() => {\n    setItems(items => [...items, {}]);\n  }, []);\n\n  const onRemoveButtonClick = useCallback(({ detail: { itemIndex } }) => {\n    setItems(items => {\n      const newItems = items.slice();\n      newItems.splice(itemIndex, 1);\n      return newItems;\n    });\n  }, []);\n\n  return (\n    <AttributeEditor\n      {...i18nStrings}\n      items={items}\n      definition={definition}\n      onAddButtonClick={onAddButtonClick}\n      onRemoveButtonClick={onRemoveButtonClick}\n    />\n  );\n}"],"mappings":"kZAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,WAAW,CAAEC,OAAO,KAAQ,OAAO,CAC7D,OAASC,eAAe,CAAEC,KAAK,CAAEC,IAAI,KAAQ,+BAA+B,CAAC,2CAE7E,GAAMC,YAAW,CAAG,CAClBC,aAAa,CAAE,eAAe,CAC9BC,gBAAgB,CAAE,QAAQ,CAC1BC,KAAK,CAAE,qBACT,CAAC,CAED,GAAMC,QAAO,cAAGX,KAAK,CAACY,IAAI,CAAC,cAAmD,IAAhDC,MAAK,MAALA,KAAK,CAAEC,KAAK,MAALA,KAAK,CAAEC,WAAW,MAAXA,WAAW,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,IAAI,MAAJA,IAAI,CACrE,mBACE,KAAC,KAAK,EACJ,KAAK,CAAEJ,KAAM,CACb,WAAW,CAAEE,WAAY,CACzB,QAAQ,CAAE,wBAAgB,IAAbG,OAAM,OAANA,MAAM,CACjBF,QAAQ,CAAC,SAAAG,KAAK,CAAI,CAChB,GAAMC,aAAY,oBAAOD,KAAK,CAAC,CAC/BC,YAAY,CAACN,KAAK,CAAC,gCACdM,YAAY,CAACN,KAAK,CAAC,wBACrBG,IAAI,CAAGC,MAAM,CAACL,KAAK,EACrB,CACD,MAAOO,aAAY,CACrB,CAAC,CAAC,CACJ,CAAE,EACF,CAEN,CAAC,CAAC,CAEF;AACA,cAAe,SAASC,uBAAsB,OAAoB,IAAlBF,MAAK,OAALA,KAAK,CAAEH,QAAQ,OAARA,QAAQ,CAG7D,GAAMM,WAAU,CAAGnB,OAAO,CACxB,iBAAM,CACJ,CACEoB,KAAK,CAAE,OAAO,CACdC,OAAO,CAAE,uBAAeC,SAAS,sBAArBC,GAAG,CAAHA,GAAG,oBAAG,EAAE,8BAClB,KAAC,OAAO,EAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAEA,GAAI,CAAC,KAAK,CAAED,SAAU,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAET,QAAS,EAAG,EAEtG,CAAC,CACF,GACD,EAAE,CACH,CAED,GAAMW,iBAAgB,CAAGzB,WAAW,CAAC,UAAM,CACzCc,QAAQ,CAAC,SAAAG,KAAK,qCAAQA,KAAK,GAAE,CAAC,CAAC,IAAC,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMS,oBAAmB,CAAG1B,WAAW,CAAC,eAA+B,IAAlBuB,UAAS,OAAnBP,MAAM,CAAIO,SAAS,CAC5DT,QAAQ,CAAC,SAAAG,KAAK,CAAI,CAChB,GAAMU,SAAQ,CAAGV,KAAK,CAACW,KAAK,EAAE,CAC9BD,QAAQ,CAACE,MAAM,CAACN,SAAS,CAAE,CAAC,CAAC,CAC7B,MAAOI,SAAQ,CACjB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,KAAC,eAAe,gCACVtB,WAAW,MACf,KAAK,CAAEY,KAAM,CACb,UAAU,CAAEG,UAAW,CACvB,gBAAgB,CAAEK,gBAAiB,CACnC,mBAAmB,CAAEC,mBAAoB,GACzC,CAEN"},"metadata":{},"sourceType":"module"}