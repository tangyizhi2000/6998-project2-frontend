{"ast":null,"code":"import { __rest } from \"tslib\";\nexport var flattenOptions = function flattenOptions(options) {\n  var parentMap = new Map();\n  var flatOptions = options.reduce(function (acc, option) {\n    if ('options' in option) {\n      var _options = option.options,\n        rest = __rest(option, [\"options\"]);\n      var parentDropdownOption = {\n        type: 'parent',\n        option: option\n      };\n      var allOptionsDisabled = _options.every(function (option) {\n        return option.disabled;\n      });\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      _options.forEach(function (child) {\n        var childDropdownOption = {\n          type: 'child',\n          option: child\n        };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      var dropdownOption = {\n        option: option\n      };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n    return acc;\n  }, []);\n  return {\n    flatOptions: flatOptions,\n    parentMap: parentMap\n  };\n};","map":{"version":3,"mappings":";AAIA,OAAO,IAAMA,cAAc,GAAG,SAAjBA,cAAc,CAAIC,OAAsD,EAAI;EACvF,IAAMC,SAAS,GAAG,IAAIC,GAAG,EAAkC;EAE3D,IAAMC,WAAW,GAAGH,OAAO,CAACI,MAAM,CAAmB,UAACC,GAAG,EAAEC,MAAM,EAAI;IACnE,IAAI,SAAS,IAAIA,MAAM,EAAE;MACjB,IAAEN,QAAO,GAAcM,MAAM,CAA3BN,OAAO;QAAKO,IAAI,UAAKD,MAAM,EAA7B,WAAoB,CAAS;MACnC,IAAME,oBAAoB,GAAmB;QAAEC,IAAI,EAAE,QAAQ;QAAEH,MAAM,EAANA;MAAM,CAAE;MACvE,IAAMI,kBAAkB,GAAGV,QAAO,CAACW,KAAK,CAAC,gBAAM;QAAA,OAAIL,MAAM,CAACM,QAAQ;MAAA,EAAC;MACnE,IAAIN,MAAM,CAACM,QAAQ,IAAIF,kBAAkB,EAAE;QACzCF,oBAAoB,CAACI,QAAQ,GAAG,IAAI;;MAEtCP,GAAG,CAACQ,IAAI,CAACL,oBAAoB,CAAC;MAC9BR,QAAO,CAACc,OAAO,CAAC,eAAK,EAAG;QACtB,IAAMC,mBAAmB,GAAmB;UAAEN,IAAI,EAAE,OAAO;UAAEH,MAAM,EAAEU;QAAK,CAAE;QAC5E,IAAIT,IAAI,CAACK,QAAQ,IAAII,KAAK,CAACJ,QAAQ,EAAE;UACnCG,mBAAmB,CAACH,QAAQ,GAAG,IAAI;;QAErCP,GAAG,CAACQ,IAAI,CAACE,mBAAmB,CAAC;QAC7Bd,SAAS,CAACgB,GAAG,CAACF,mBAAmB,EAAEP,oBAAoB,CAAC;MAC1D,CAAC,CAAC;KACH,MAAM;MACL,IAAMU,cAAc,GAAmB;QAAEZ,MAAM,EAANA;MAAM,CAAE;MACjD,IAAIA,MAAM,CAACM,QAAQ,EAAE;QACnBM,cAAc,CAACN,QAAQ,GAAG,IAAI;;MAEhCP,GAAG,CAACQ,IAAI,CAACK,cAAc,CAAC;;IAG1B,OAAOb,GAAG;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLF,WAAW,EAAXA,WAAW;IACXF,SAAS,EAATA;GACD;AACH,CAAC","names":["flattenOptions","options","parentMap","Map","flatOptions","reduce","acc","option","rest","parentDropdownOption","type","allOptionsDisabled","every","disabled","push","forEach","childDropdownOption","child","set","dropdownOption"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/components/option/utils/lib/default/internal/components/option/utils/flatten-options.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionGroup, OptionDefinition, DropdownOption } from '../interfaces';\n\nexport const flattenOptions = (options: ReadonlyArray<OptionDefinition | OptionGroup>) => {\n  const parentMap = new Map<DropdownOption, DropdownOption>();\n\n  const flatOptions = options.reduce<DropdownOption[]>((acc, option) => {\n    if ('options' in option) {\n      const { options, ...rest } = option;\n      const parentDropdownOption: DropdownOption = { type: 'parent', option };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption: DropdownOption = { type: 'child', option: child };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption: DropdownOption = { option };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n\n    return acc;\n  }, []);\n\n  return {\n    flatOptions,\n    parentMap,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}