{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState, forwardRef } from 'react';\nimport clsx from 'clsx';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { getBaseProps } from '../internal/base-component';\nimport { KeyCode } from '../internal/keycode';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { Pane } from './pane';\nimport { useChangeEffect } from './listeners';\nimport { DEFAULT_DARK_THEME, DEFAULT_LIGHT_THEME, getLanguageLabel } from './util';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { setupEditor } from './setup-editor';\nimport { ResizableBox } from './resizable-box';\nimport PreferencesModal from './preferences-modal';\nimport LoadingScreen from './loading-screen';\nimport ErrorScreen from './error-screen';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { useCurrentMode } from '@cloudscape-design/component-toolkit/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport { StatusBar } from './status-bar';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport LiveRegion from '../internal/components/live-region';\nimport styles from './styles.css.js';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useEditor, useSyncEditorSize, useSyncEditorLabels, useSyncEditorValue, useSyncEditorLanguage, useSyncEditorWrapLines, useSyncEditorTheme } from './use-editor';\nconst CodeEditor = forwardRef((props, ref) => {\n  var _a;\n  const {\n    __internalRootRef\n  } = useBaseComponent('CodeEditor');\n  const {\n    controlId,\n    ariaLabelledby,\n    ariaDescribedby\n  } = useFormFieldContext(props);\n  const {\n      ace,\n      value,\n      language,\n      i18nStrings,\n      editorContentHeight,\n      onEditorContentResize,\n      ariaLabel,\n      languageLabel: customLanguageLabel,\n      preferences,\n      loading,\n      themes\n    } = props,\n    rest = __rest(props, [\"ace\", \"value\", \"language\", \"i18nStrings\", \"editorContentHeight\", \"onEditorContentResize\", \"ariaLabel\", \"languageLabel\", \"preferences\", \"loading\", \"themes\"]);\n  const [editorHeight = 480, setEditorHeight] = useControllable(editorContentHeight, onEditorContentResize, 480, {\n    componentName: 'code-editor',\n    changeHandler: 'onEditorContentResize',\n    controlledProp: 'editorContentHeight'\n  });\n  const mode = useCurrentMode(__internalRootRef);\n  const isRefresh = useVisualRefresh();\n  const baseProps = getBaseProps(rest);\n  const i18n = useInternalI18n('code-editor');\n  const errorsTabRef = useRef(null);\n  const warningsTabRef = useRef(null);\n  const [codeEditorWidth, codeEditorMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  const mergedRef = useMergeRefs(codeEditorMeasureRef, __internalRootRef);\n  const paneId = useUniqueId('code-editor-pane');\n  const [paneStatus, setPaneStatus] = useState('hidden');\n  const [annotations, setAnnotations] = useState([]);\n  const [highlightedAnnotation, setHighlightedAnnotation] = useState();\n  const [cursorPosition, setCursorPosition] = useState({\n    row: 0,\n    column: 0\n  });\n  const [isTabFocused, setTabFocused] = useState(false);\n  const {\n    editorRef,\n    editor\n  } = useEditor(ace, loading);\n  useForwardFocus(ref, editorRef);\n  useEffect(() => {\n    if (!ace || !editor) {\n      return;\n    }\n    setupEditor(ace, editor, setAnnotations, setCursorPosition, setHighlightedAnnotation, setPaneStatus);\n    return () => {\n      editor === null || editor === void 0 ? void 0 : editor.destroy();\n    };\n  }, [ace, editor]);\n  useSyncEditorLabels(editor, {\n    controlId,\n    ariaLabel,\n    ariaLabelledby,\n    ariaDescribedby\n  });\n  const {\n    onResize\n  } = useSyncEditorSize(editor, {\n    width: codeEditorWidth,\n    height: editorContentHeight\n  });\n  useSyncEditorValue(editor, value);\n  useSyncEditorLanguage(editor, language);\n  useSyncEditorWrapLines(editor, preferences === null || preferences === void 0 ? void 0 : preferences.wrapLines);\n  const defaultTheme = mode === 'dark' ? DEFAULT_DARK_THEME : DEFAULT_LIGHT_THEME;\n  useSyncEditorTheme(editor, (_a = preferences === null || preferences === void 0 ? void 0 : preferences.theme) !== null && _a !== void 0 ? _a : defaultTheme);\n  // Change listeners\n  useChangeEffect(editor, props.onChange, props.onDelayedChange);\n  // Hide error panel when there are no errors to show.\n  useEffect(() => {\n    if (annotations.length === 0) {\n      setPaneStatus('hidden');\n    }\n    if (props.onValidate) {\n      fireNonCancelableEvent(props.onValidate, {\n        annotations\n      });\n    }\n  }, [annotations, props.onValidate]);\n  const languageLabel = customLanguageLabel !== null && customLanguageLabel !== void 0 ? customLanguageLabel : getLanguageLabel(language);\n  const errorCount = annotations.filter(a => a.type === 'error').length;\n  const warningCount = annotations.filter(a => a.type === 'warning').length;\n  const currentAnnotations = useMemo(() => annotations.filter(a => a.type === paneStatus), [annotations, paneStatus]);\n  /*\n   * Callbacks\n   */\n  const onEditorKeydown = useCallback(e => {\n    if (editor && e.target === editor.container && e.keyCode === KeyCode.enter) {\n      e.stopPropagation();\n      e.preventDefault();\n      editor.focus();\n    }\n  }, [editor]);\n  const onTabFocus = useCallback(() => setTabFocused(true), []);\n  const onTabBlur = useCallback(() => setTabFocused(false), []);\n  const onErrorPaneToggle = useCallback(() => {\n    setPaneStatus(paneStatus !== 'error' ? 'error' : 'hidden');\n  }, [paneStatus]);\n  const onWarningPaneToggle = useCallback(() => {\n    setPaneStatus(paneStatus !== 'warning' ? 'warning' : 'hidden');\n  }, [paneStatus]);\n  const onPaneClose = () => {\n    setPaneStatus('hidden');\n  };\n  const onAnnotationClick = _ref => {\n    let {\n      row = 0,\n      column = 0\n    } = _ref;\n    if (!editor) {\n      return;\n    }\n    editor.focus();\n    editor.gotoLine(row + 1, column, false);\n    setHighlightedAnnotation(undefined);\n  };\n  const onAnnotationClear = useCallback(() => {\n    setHighlightedAnnotation(undefined);\n  }, []);\n  const [isPreferencesModalVisible, setPreferencesModalVisible] = useState(false);\n  const onPreferencesOpen = () => setPreferencesModalVisible(true);\n  const onPreferencesConfirm = p => {\n    fireNonCancelableEvent(props.onPreferencesChange, p);\n    setPreferencesModalVisible(false);\n  };\n  const onPreferencesDismiss = () => setPreferencesModalVisible(false);\n  const isPaneVisible = paneStatus !== 'hidden';\n  return React.createElement(\"div\", Object.assign({}, baseProps, {\n    className: clsx(styles['code-editor'], baseProps.className, {\n      [styles['code-editor-refresh']]: isRefresh\n    }),\n    ref: mergedRef\n  }), loading && React.createElement(LoadingScreen, null, React.createElement(LiveRegion, {\n    visible: true\n  }, i18n('i18nStrings.loadingState', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.loadingState))), !ace && !loading && React.createElement(ErrorScreen, {\n    recoveryText: i18n('i18nStrings.errorStateRecovery', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.errorStateRecovery),\n    onRecoveryClick: props.onRecoveryClick\n  }, i18n('i18nStrings.errorState', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.errorState)), ace && !loading && React.createElement(React.Fragment, null, React.createElement(ResizableBox, {\n    height: Math.max(editorHeight, 20),\n    minHeight: 20,\n    onResize: height => {\n      setEditorHeight(height);\n      onResize();\n      fireNonCancelableEvent(onEditorContentResize, {\n        height\n      });\n    }\n  }, React.createElement(\"div\", {\n    ref: editorRef,\n    className: clsx(styles.editor, styles.ace, isRefresh && styles['editor-refresh']),\n    onKeyDown: onEditorKeydown,\n    tabIndex: 0,\n    role: \"group\",\n    \"aria-label\": i18n('i18nStrings.editorGroupAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.editorGroupAriaLabel)\n  })), React.createElement(\"div\", {\n    role: \"group\",\n    \"aria-label\": i18n('i18nStrings.statusBarGroupAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.statusBarGroupAriaLabel)\n  }, React.createElement(StatusBar, {\n    languageLabel: languageLabel,\n    cursorPosition: i18n('i18nStrings.cursorPosition', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.cursorPosition(cursorPosition.row + 1, cursorPosition.column + 1), format => format({\n      row: cursorPosition.row + 1,\n      column: cursorPosition.column + 1\n    })),\n    errorCount: errorCount,\n    warningCount: warningCount,\n    paneStatus: paneStatus,\n    onErrorPaneToggle: onErrorPaneToggle,\n    onWarningPaneToggle: onWarningPaneToggle,\n    onTabFocus: onTabFocus,\n    onTabBlur: onTabBlur,\n    errorsTabRef: errorsTabRef,\n    warningsTabRef: warningsTabRef,\n    i18nStrings: i18nStrings,\n    isTabFocused: isTabFocused,\n    paneId: isPaneVisible ? paneId : undefined,\n    onPreferencesOpen: onPreferencesOpen,\n    isRefresh: isRefresh\n  }), React.createElement(Pane, {\n    id: paneId,\n    visible: isPaneVisible,\n    annotations: currentAnnotations,\n    highlighted: highlightedAnnotation,\n    onAnnotationClick: onAnnotationClick,\n    onAnnotationClear: onAnnotationClear,\n    onClose: onPaneClose,\n    cursorPositionLabel: i18n('i18nStrings.cursorPosition', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.cursorPosition, format => (row, column) => format({\n      row,\n      column\n    })),\n    closeButtonAriaLabel: i18n('i18nStrings.paneCloseButtonAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.paneCloseButtonAriaLabel)\n  })), isPreferencesModalVisible && React.createElement(PreferencesModal, {\n    onConfirm: onPreferencesConfirm,\n    onDismiss: onPreferencesDismiss,\n    themes: themes,\n    preferences: preferences,\n    defaultTheme: defaultTheme,\n    i18nStrings: {\n      header: i18n('i18nStrings.preferencesModalHeader', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalHeader),\n      cancel: i18n('i18nStrings.preferencesModalCancel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalCancel),\n      confirm: i18n('i18nStrings.preferencesModalConfirm', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalConfirm),\n      wrapLines: i18n('i18nStrings.preferencesModalWrapLines', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalWrapLines),\n      theme: i18n('i18nStrings.preferencesModalTheme', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalTheme),\n      lightThemes: i18n('i18nStrings.preferencesModalLightThemes', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalLightThemes),\n      darkThemes: i18n('i18nStrings.preferencesModalDarkThemes', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalDarkThemes),\n      themeFilteringAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalThemeFilteringAriaLabel,\n      themeFilteringClearAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalThemeFilteringClearAriaLabel,\n      themeFilteringPlaceholder: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.preferencesModalThemeFilteringPlaceholder\n    }\n  })));\n});\napplyDisplayName(CodeEditor, 'CodeEditor');\nexport default CodeEditor;","map":{"version":3,"mappings":"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","names":["React","useCallback","useEffect","useMemo","useRef","useState","forwardRef","clsx","useMergeRefs","getBaseProps","KeyCode","useUniqueId","Pane","useChangeEffect","DEFAULT_DARK_THEME","DEFAULT_LIGHT_THEME","getLanguageLabel","fireNonCancelableEvent","setupEditor","ResizableBox","PreferencesModal","LoadingScreen","ErrorScreen","useBaseComponent","useForwardFocus","applyDisplayName","useCurrentMode","useInternalI18n","StatusBar","useFormFieldContext","useVisualRefresh","useControllable","LiveRegion","styles","useContainerQuery","useEditor","useSyncEditorSize","useSyncEditorLabels","useSyncEditorValue","useSyncEditorLanguage","useSyncEditorWrapLines","useSyncEditorTheme","CodeEditor","props","ref","__internalRootRef","controlId","ariaLabelledby","ariaDescribedby","ace","value","language","i18nStrings","editorContentHeight","onEditorContentResize","ariaLabel","languageLabel","customLanguageLabel","preferences","loading","themes","rest","editorHeight","setEditorHeight","componentName","changeHandler","controlledProp","mode","isRefresh","baseProps","i18n","errorsTabRef","warningsTabRef","codeEditorWidth","codeEditorMeasureRef","rect","contentBoxWidth","mergedRef","paneId","paneStatus","setPaneStatus","annotations","setAnnotations","highlightedAnnotation","setHighlightedAnnotation","cursorPosition","setCursorPosition","row","column","isTabFocused","setTabFocused","editorRef","editor","destroy","onResize","width","height","wrapLines","defaultTheme","theme","onChange","onDelayedChange","length","onValidate","errorCount","filter","a","type","warningCount","currentAnnotations","onEditorKeydown","e","target","container","keyCode","enter","stopPropagation","preventDefault","focus","onTabFocus","onTabBlur","onErrorPaneToggle","onWarningPaneToggle","onPaneClose","onAnnotationClick","gotoLine","undefined","onAnnotationClear","isPreferencesModalVisible","setPreferencesModalVisible","onPreferencesOpen","onPreferencesConfirm","p","onPreferencesChange","onPreferencesDismiss","isPaneVisible","className","visible","loadingState","recoveryText","errorStateRecovery","onRecoveryClick","errorState","Math","max","minHeight","onKeyDown","tabIndex","role","editorGroupAriaLabel","statusBarGroupAriaLabel","format","id","highlighted","onClose","cursorPositionLabel","closeButtonAriaLabel","paneCloseButtonAriaLabel","onConfirm","onDismiss","header","preferencesModalHeader","cancel","preferencesModalCancel","confirm","preferencesModalConfirm","preferencesModalWrapLines","preferencesModalTheme","lightThemes","preferencesModalLightThemes","darkThemes","preferencesModalDarkThemes","themeFilteringAriaLabel","preferencesModalThemeFilteringAriaLabel","themeFilteringClearAriaLabel","preferencesModalThemeFilteringClearAriaLabel","themeFilteringPlaceholder","preferencesModalThemeFilteringPlaceholder"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/code-editor/lib/default/code-editor/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState, forwardRef } from 'react';\nimport { Ace } from 'ace-builds';\nimport clsx from 'clsx';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\n\nimport { getBaseProps } from '../internal/base-component';\nimport { KeyCode } from '../internal/keycode';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { CodeEditorProps } from './interfaces';\nimport { Pane } from './pane';\nimport { useChangeEffect } from './listeners';\nimport { DEFAULT_DARK_THEME, DEFAULT_LIGHT_THEME, PaneStatus, getLanguageLabel } from './util';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { setupEditor } from './setup-editor';\nimport { ResizableBox } from './resizable-box';\nimport PreferencesModal from './preferences-modal';\nimport LoadingScreen from './loading-screen';\nimport ErrorScreen from './error-screen';\n\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { useCurrentMode } from '@cloudscape-design/component-toolkit/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport { StatusBar } from './status-bar';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport LiveRegion from '../internal/components/live-region';\n\nimport styles from './styles.css.js';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport {\n  useEditor,\n  useSyncEditorSize,\n  useSyncEditorLabels,\n  useSyncEditorValue,\n  useSyncEditorLanguage,\n  useSyncEditorWrapLines,\n  useSyncEditorTheme,\n} from './use-editor';\n\nexport { CodeEditorProps };\n\nconst CodeEditor = forwardRef((props: CodeEditorProps, ref: React.Ref<CodeEditorProps.Ref>) => {\n  const { __internalRootRef } = useBaseComponent('CodeEditor');\n  const { controlId, ariaLabelledby, ariaDescribedby } = useFormFieldContext(props);\n  const {\n    ace,\n    value,\n    language,\n    i18nStrings,\n    editorContentHeight,\n    onEditorContentResize,\n    ariaLabel,\n    languageLabel: customLanguageLabel,\n    preferences,\n    loading,\n    themes,\n    ...rest\n  } = props;\n  const [editorHeight = 480, setEditorHeight] = useControllable(editorContentHeight, onEditorContentResize, 480, {\n    componentName: 'code-editor',\n    changeHandler: 'onEditorContentResize',\n    controlledProp: 'editorContentHeight',\n  });\n  const mode = useCurrentMode(__internalRootRef);\n  const isRefresh = useVisualRefresh();\n  const baseProps = getBaseProps(rest);\n  const i18n = useInternalI18n('code-editor');\n\n  const errorsTabRef = useRef<HTMLButtonElement>(null);\n  const warningsTabRef = useRef<HTMLButtonElement>(null);\n  const [codeEditorWidth, codeEditorMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  const mergedRef = useMergeRefs(codeEditorMeasureRef, __internalRootRef);\n\n  const paneId = useUniqueId('code-editor-pane');\n\n  const [paneStatus, setPaneStatus] = useState<PaneStatus>('hidden');\n  const [annotations, setAnnotations] = useState<Ace.Annotation[]>([]);\n  const [highlightedAnnotation, setHighlightedAnnotation] = useState<Ace.Annotation>();\n  const [cursorPosition, setCursorPosition] = useState<Ace.Point>({ row: 0, column: 0 });\n  const [isTabFocused, setTabFocused] = useState<boolean>(false);\n\n  const { editorRef, editor } = useEditor(ace, loading);\n\n  useForwardFocus(ref, editorRef);\n\n  useEffect(() => {\n    if (!ace || !editor) {\n      return;\n    }\n\n    setupEditor(ace, editor, setAnnotations, setCursorPosition, setHighlightedAnnotation, setPaneStatus);\n\n    return () => {\n      editor?.destroy();\n    };\n  }, [ace, editor]);\n\n  useSyncEditorLabels(editor, { controlId, ariaLabel, ariaLabelledby, ariaDescribedby });\n\n  const { onResize } = useSyncEditorSize(editor, { width: codeEditorWidth, height: editorContentHeight });\n\n  useSyncEditorValue(editor, value);\n\n  useSyncEditorLanguage(editor, language);\n\n  useSyncEditorWrapLines(editor, preferences?.wrapLines);\n\n  const defaultTheme = mode === 'dark' ? DEFAULT_DARK_THEME : DEFAULT_LIGHT_THEME;\n  useSyncEditorTheme(editor, preferences?.theme ?? defaultTheme);\n\n  // Change listeners\n  useChangeEffect(editor, props.onChange, props.onDelayedChange);\n\n  // Hide error panel when there are no errors to show.\n  useEffect(() => {\n    if (annotations.length === 0) {\n      setPaneStatus('hidden');\n    }\n\n    if (props.onValidate) {\n      fireNonCancelableEvent(props.onValidate, { annotations });\n    }\n  }, [annotations, props.onValidate]);\n\n  const languageLabel = customLanguageLabel ?? getLanguageLabel(language);\n\n  const errorCount = annotations.filter(a => a.type === 'error').length;\n  const warningCount = annotations.filter(a => a.type === 'warning').length;\n  const currentAnnotations = useMemo(() => annotations.filter(a => a.type === paneStatus), [annotations, paneStatus]);\n\n  /*\n   * Callbacks\n   */\n\n  const onEditorKeydown = useCallback(\n    (e: React.KeyboardEvent) => {\n      if (editor && e.target === editor.container && e.keyCode === KeyCode.enter) {\n        e.stopPropagation();\n        e.preventDefault();\n        editor.focus();\n      }\n    },\n    [editor]\n  );\n\n  const onTabFocus = useCallback(() => setTabFocused(true), []);\n  const onTabBlur = useCallback(() => setTabFocused(false), []);\n\n  const onErrorPaneToggle = useCallback(() => {\n    setPaneStatus(paneStatus !== 'error' ? 'error' : 'hidden');\n  }, [paneStatus]);\n\n  const onWarningPaneToggle = useCallback(() => {\n    setPaneStatus(paneStatus !== 'warning' ? 'warning' : 'hidden');\n  }, [paneStatus]);\n\n  const onPaneClose = () => {\n    setPaneStatus('hidden');\n  };\n\n  const onAnnotationClick = ({ row = 0, column = 0 }: Ace.Annotation) => {\n    if (!editor) {\n      return;\n    }\n    editor.focus();\n    editor.gotoLine(row + 1, column, false);\n    setHighlightedAnnotation(undefined);\n  };\n\n  const onAnnotationClear = useCallback(() => {\n    setHighlightedAnnotation(undefined);\n  }, []);\n\n  const [isPreferencesModalVisible, setPreferencesModalVisible] = useState(false);\n  const onPreferencesOpen = () => setPreferencesModalVisible(true);\n  const onPreferencesConfirm = (p: CodeEditorProps.Preferences) => {\n    fireNonCancelableEvent(props.onPreferencesChange, p);\n    setPreferencesModalVisible(false);\n  };\n  const onPreferencesDismiss = () => setPreferencesModalVisible(false);\n\n  const isPaneVisible = paneStatus !== 'hidden';\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(styles['code-editor'], baseProps.className, { [styles['code-editor-refresh']]: isRefresh })}\n      ref={mergedRef}\n    >\n      {loading && (\n        <LoadingScreen>\n          <LiveRegion visible={true}>{i18n('i18nStrings.loadingState', i18nStrings?.loadingState)}</LiveRegion>\n        </LoadingScreen>\n      )}\n\n      {!ace && !loading && (\n        <ErrorScreen\n          recoveryText={i18n('i18nStrings.errorStateRecovery', i18nStrings?.errorStateRecovery)}\n          onRecoveryClick={props.onRecoveryClick}\n        >\n          {i18n('i18nStrings.errorState', i18nStrings?.errorState)}\n        </ErrorScreen>\n      )}\n\n      {ace && !loading && (\n        <>\n          <ResizableBox\n            height={Math.max(editorHeight, 20)}\n            minHeight={20}\n            onResize={height => {\n              setEditorHeight(height);\n              onResize();\n              fireNonCancelableEvent(onEditorContentResize, { height });\n            }}\n          >\n            <div\n              ref={editorRef}\n              className={clsx(styles.editor, styles.ace, isRefresh && styles['editor-refresh'])}\n              onKeyDown={onEditorKeydown}\n              tabIndex={0}\n              role=\"group\"\n              aria-label={i18n('i18nStrings.editorGroupAriaLabel', i18nStrings?.editorGroupAriaLabel)}\n            />\n          </ResizableBox>\n          <div\n            role=\"group\"\n            aria-label={i18n('i18nStrings.statusBarGroupAriaLabel', i18nStrings?.statusBarGroupAriaLabel)}\n          >\n            <StatusBar\n              languageLabel={languageLabel}\n              cursorPosition={i18n(\n                'i18nStrings.cursorPosition',\n                i18nStrings?.cursorPosition(cursorPosition.row + 1, cursorPosition.column + 1),\n                format => format({ row: cursorPosition.row + 1, column: cursorPosition.column + 1 })\n              )}\n              errorCount={errorCount}\n              warningCount={warningCount}\n              paneStatus={paneStatus}\n              onErrorPaneToggle={onErrorPaneToggle}\n              onWarningPaneToggle={onWarningPaneToggle}\n              onTabFocus={onTabFocus}\n              onTabBlur={onTabBlur}\n              errorsTabRef={errorsTabRef}\n              warningsTabRef={warningsTabRef}\n              i18nStrings={i18nStrings}\n              isTabFocused={isTabFocused}\n              paneId={isPaneVisible ? paneId : undefined}\n              onPreferencesOpen={onPreferencesOpen}\n              isRefresh={isRefresh}\n            />\n            <Pane\n              id={paneId}\n              visible={isPaneVisible}\n              annotations={currentAnnotations}\n              highlighted={highlightedAnnotation}\n              onAnnotationClick={onAnnotationClick}\n              onAnnotationClear={onAnnotationClear}\n              onClose={onPaneClose}\n              cursorPositionLabel={i18n(\n                'i18nStrings.cursorPosition',\n                i18nStrings?.cursorPosition,\n                format => (row, column) => format({ row, column })\n              )}\n              closeButtonAriaLabel={i18n('i18nStrings.paneCloseButtonAriaLabel', i18nStrings?.paneCloseButtonAriaLabel)}\n            />\n          </div>\n          {isPreferencesModalVisible && (\n            <PreferencesModal\n              onConfirm={onPreferencesConfirm}\n              onDismiss={onPreferencesDismiss}\n              themes={themes}\n              preferences={preferences}\n              defaultTheme={defaultTheme}\n              i18nStrings={{\n                header: i18n('i18nStrings.preferencesModalHeader', i18nStrings?.preferencesModalHeader),\n                cancel: i18n('i18nStrings.preferencesModalCancel', i18nStrings?.preferencesModalCancel),\n                confirm: i18n('i18nStrings.preferencesModalConfirm', i18nStrings?.preferencesModalConfirm),\n                wrapLines: i18n('i18nStrings.preferencesModalWrapLines', i18nStrings?.preferencesModalWrapLines),\n                theme: i18n('i18nStrings.preferencesModalTheme', i18nStrings?.preferencesModalTheme),\n                lightThemes: i18n('i18nStrings.preferencesModalLightThemes', i18nStrings?.preferencesModalLightThemes),\n                darkThemes: i18n('i18nStrings.preferencesModalDarkThemes', i18nStrings?.preferencesModalDarkThemes),\n                themeFilteringAriaLabel: i18nStrings?.preferencesModalThemeFilteringAriaLabel,\n                themeFilteringClearAriaLabel: i18nStrings?.preferencesModalThemeFilteringClearAriaLabel,\n                themeFilteringPlaceholder: i18nStrings?.preferencesModalThemeFilteringPlaceholder,\n              }}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n});\n\napplyDisplayName(CodeEditor, 'CodeEditor');\nexport default CodeEditor;\n"]},"metadata":{},"sourceType":"module"}