{"ast":null,"code":"import _defineProperty from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useState } from 'react';\nimport InternalBox from '../../box/internal';\nimport InternalFormField from '../../form-field/internal';\nimport InternalInput from '../../input/internal';\nimport InternalRadioGroup from '../../radio-group/internal';\nimport InternalSelect from '../../select/internal';\nimport InternalSpaceBetween from '../../space-between/internal';\nimport styles from './styles.css.js';\nimport { useInternalI18n } from '../../i18n/context';\nvar dayUnits = ['day', 'week', 'month', 'year'];\nvar units = ['second', 'minute', 'hour'].concat(dayUnits);\nvar CUSTOM_OPTION_SELECT_KEY = 'awsui-internal-custom-duration-key';\nexport default function RelativeRangePicker(_ref) {\n  var dateOnly = _ref.dateOnly,\n    _ref$options = _ref.options,\n    clientOptions = _ref$options === void 0 ? [] : _ref$options,\n    initialRange = _ref.initialSelection,\n    onChangeRangeSize = _ref.onChange,\n    i18nStrings = _ref.i18nStrings,\n    isSingleGrid = _ref.isSingleGrid;\n  var _a;\n  var i18n = useInternalI18n('date-range-picker');\n  var formatRelativeRange = i18n('i18nStrings.formatRelativeRange', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.formatRelativeRange, function (format) {\n    return function (_ref2) {\n      var amount = _ref2.amount,\n        unit = _ref2.unit;\n      return format({\n        amount: amount,\n        unit: unit\n      });\n    };\n  });\n  var formatUnit = i18n('i18nStrings.formatUnit', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.formatUnit, function (format) {\n    return function (unit, amount) {\n      return format({\n        amount: amount,\n        unit: unit\n      });\n    };\n  });\n  var radioOptions = clientOptions.map(function (option) {\n    return {\n      value: option.key,\n      label: formatRelativeRange === null || formatRelativeRange === void 0 ? void 0 : formatRelativeRange(option)\n    };\n  });\n  radioOptions.push({\n    value: CUSTOM_OPTION_SELECT_KEY,\n    label: i18n('i18nStrings.customRelativeRangeOptionLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.customRelativeRangeOptionLabel),\n    description: i18n('i18nStrings.customRelativeRangeOptionDescription', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.customRelativeRangeOptionDescription)\n  });\n  var _useState = useState(function () {\n      var _a;\n      if (initialRange && !initialRange.key) {\n        return CUSTOM_OPTION_SELECT_KEY;\n      }\n      return (_a = initialRange === null || initialRange === void 0 ? void 0 : initialRange.key) !== null && _a !== void 0 ? _a : null;\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedRadio = _useState2[0],\n    setSelectedRadio = _useState2[1];\n  var _useState3 = useState(function () {\n      if (initialRange) {\n        return initialRange.amount;\n      }\n      // NaN represents an empty duration\n      return NaN;\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    customDuration = _useState4[0],\n    setCustomDuration = _useState4[1];\n  var initialCustomTimeUnit = dateOnly ? 'day' : 'minute';\n  var _useState5 = useState((_a = initialRange === null || initialRange === void 0 ? void 0 : initialRange.unit) !== null && _a !== void 0 ? _a : initialCustomTimeUnit),\n    _useState6 = _slicedToArray(_useState5, 2),\n    customUnitOfTime = _useState6[0],\n    setCustomUnitOfTime = _useState6[1];\n  var showRadioControl = clientOptions.length > 0;\n  var showCustomControls = clientOptions.length === 0 || selectedRadio === CUSTOM_OPTION_SELECT_KEY;\n  return React.createElement(\"div\", null, React.createElement(InternalSpaceBetween, {\n    size: \"xs\",\n    direction: \"vertical\"\n  }, showRadioControl && React.createElement(InternalFormField, {\n    label: i18n('i18nStrings.relativeRangeSelectionHeading', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.relativeRangeSelectionHeading)\n  }, React.createElement(InternalRadioGroup, {\n    className: styles['relative-range-radio-group'],\n    onChange: function onChange(_ref3) {\n      var detail = _ref3.detail;\n      setSelectedRadio(detail.value);\n      if (detail.value === CUSTOM_OPTION_SELECT_KEY) {\n        setCustomDuration(NaN);\n        setCustomUnitOfTime(initialCustomTimeUnit);\n        onChangeRangeSize({\n          amount: NaN,\n          unit: initialCustomTimeUnit,\n          type: 'relative'\n        });\n      } else {\n        var option = clientOptions.filter(function (o) {\n          return o.key === detail.value;\n        })[0];\n        onChangeRangeSize(option);\n      }\n    },\n    value: selectedRadio,\n    items: radioOptions\n  })), showCustomControls && React.createElement(InternalSpaceBetween, {\n    direction: \"vertical\",\n    size: \"xs\"\n  }, !showRadioControl && React.createElement(InternalBox, {\n    fontSize: \"body-m\",\n    color: \"text-body-secondary\"\n  }, i18n('i18nStrings.customRelativeRangeOptionDescription', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.customRelativeRangeOptionDescription)), React.createElement(\"div\", {\n    className: clsx(styles['custom-range'], _defineProperty({}, styles['custom-range--no-padding'], !showRadioControl))\n  }, React.createElement(\"div\", {\n    className: clsx(styles['custom-range-form-controls'], _defineProperty({}, styles.vertical, isSingleGrid))\n  }, React.createElement(\"div\", {\n    className: styles['custom-range-duration']\n  }, React.createElement(InternalFormField, {\n    label: i18n('i18nStrings.customRelativeRangeDurationLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.customRelativeRangeDurationLabel)\n  }, React.createElement(InternalInput, {\n    type: \"number\",\n    className: styles['custom-range-duration-input'],\n    value: isNaN(customDuration) || customDuration === 0 ? '' : customDuration === null || customDuration === void 0 ? void 0 : customDuration.toString(),\n    onChange: function onChange(e) {\n      var amount = Number(e.detail.value);\n      setCustomDuration(amount);\n      onChangeRangeSize({\n        amount: amount,\n        unit: customUnitOfTime,\n        type: 'relative'\n      });\n    },\n    placeholder: i18n('i18nStrings.customRelativeRangeDurationPlaceholder', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.customRelativeRangeDurationPlaceholder),\n    __inheritFormFieldProps: true\n  }))), React.createElement(\"div\", {\n    className: styles['custom-range-unit']\n  }, React.createElement(InternalFormField, {\n    label: i18n('i18nStrings.customRelativeRangeUnitLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.customRelativeRangeUnitLabel)\n  }, React.createElement(InternalSelect, {\n    className: styles['custom-range-unit-select'],\n    selectedOption: {\n      value: customUnitOfTime,\n      label: formatUnit === null || formatUnit === void 0 ? void 0 : formatUnit(customUnitOfTime, customDuration)\n    },\n    onChange: function onChange(e) {\n      var unit = e.detail.selectedOption.value;\n      setCustomUnitOfTime(unit);\n      onChangeRangeSize({\n        amount: customDuration,\n        unit: unit,\n        type: 'relative'\n      });\n    },\n    options: (dateOnly ? dayUnits : units).map(function (unit) {\n      return {\n        value: unit,\n        label: formatUnit === null || formatUnit === void 0 ? void 0 : formatUnit(unit, customDuration)\n      };\n    }),\n    renderHighlightedAriaLive: function renderHighlightedAriaLive(option) {\n      return option.label || option.value || '';\n    }\n  }))))))));\n}","map":{"version":3,"mappings":"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","names":["clsx","React","useState","InternalBox","InternalFormField","InternalInput","InternalRadioGroup","InternalSelect","InternalSpaceBetween","styles","useInternalI18n","dayUnits","units","CUSTOM_OPTION_SELECT_KEY","RelativeRangePicker","dateOnly","options","clientOptions","initialRange","initialSelection","onChangeRangeSize","onChange","i18nStrings","isSingleGrid","i18n","formatRelativeRange","amount","unit","format","formatUnit","radioOptions","map","value","option","key","label","push","customRelativeRangeOptionLabel","description","customRelativeRangeOptionDescription","selectedRadio","setSelectedRadio","NaN","customDuration","setCustomDuration","initialCustomTimeUnit","customUnitOfTime","setCustomUnitOfTime","showRadioControl","length","showCustomControls","size","direction","relativeRangeSelectionHeading","className","detail","type","filter","o","items","fontSize","color","vertical","customRelativeRangeDurationLabel","isNaN","toString","Number","e","placeholder","customRelativeRangeDurationPlaceholder","__inheritFormFieldProps","customRelativeRangeUnitLabel","selectedOption","renderHighlightedAriaLive"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/date-range-picker/relative-range/lib/default/date-range-picker/relative-range/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useState } from 'react';\nimport { DateRangePickerProps } from '../interfaces';\nimport InternalBox from '../../box/internal';\nimport InternalFormField from '../../form-field/internal';\nimport InternalInput from '../../input/internal';\nimport { RadioGroupProps } from '../../radio-group/interfaces';\nimport InternalRadioGroup from '../../radio-group/internal';\nimport InternalSelect from '../../select/internal';\nimport InternalSpaceBetween from '../../space-between/internal';\nimport styles from './styles.css.js';\nimport { useInternalI18n } from '../../i18n/context';\n\nexport interface RelativeRangePickerProps {\n  dateOnly: boolean;\n  options: ReadonlyArray<DateRangePickerProps.RelativeOption>;\n  initialSelection: DateRangePickerProps.RelativeValue | null;\n  onChange: (range: DateRangePickerProps.RelativeValue) => void;\n  i18nStrings?: DateRangePickerProps.I18nStrings;\n  isSingleGrid: boolean;\n}\n\ninterface UnitSelectOption {\n  value: DateRangePickerProps.TimeUnit;\n  label: string;\n}\n\nconst dayUnits: ReadonlyArray<DateRangePickerProps.TimeUnit> = ['day', 'week', 'month', 'year'];\nconst units: ReadonlyArray<DateRangePickerProps.TimeUnit> = ['second', 'minute', 'hour', ...dayUnits];\n\nconst CUSTOM_OPTION_SELECT_KEY = 'awsui-internal-custom-duration-key';\n\nexport default function RelativeRangePicker({\n  dateOnly,\n  options: clientOptions = [],\n  initialSelection: initialRange,\n  onChange: onChangeRangeSize,\n  i18nStrings,\n  isSingleGrid,\n}: RelativeRangePickerProps) {\n  const i18n = useInternalI18n('date-range-picker');\n  const formatRelativeRange = i18n(\n    'i18nStrings.formatRelativeRange',\n    i18nStrings?.formatRelativeRange,\n    format =>\n      ({ amount, unit }) =>\n        format({ amount, unit })\n  );\n  const formatUnit = i18n(\n    'i18nStrings.formatUnit',\n    i18nStrings?.formatUnit,\n    format => (unit, amount) => format({ amount, unit })\n  );\n\n  const radioOptions: RadioGroupProps.RadioButtonDefinition[] = clientOptions.map(option => ({\n    value: option.key,\n    label: formatRelativeRange?.(option),\n  }));\n  radioOptions.push({\n    value: CUSTOM_OPTION_SELECT_KEY,\n    label: i18n('i18nStrings.customRelativeRangeOptionLabel', i18nStrings?.customRelativeRangeOptionLabel),\n    description: i18n(\n      'i18nStrings.customRelativeRangeOptionDescription',\n      i18nStrings?.customRelativeRangeOptionDescription\n    ),\n  });\n\n  const [selectedRadio, setSelectedRadio] = useState(() => {\n    if (initialRange && !initialRange.key) {\n      return CUSTOM_OPTION_SELECT_KEY;\n    }\n    return initialRange?.key ?? null;\n  });\n\n  const [customDuration, setCustomDuration] = useState(() => {\n    if (initialRange) {\n      return initialRange.amount;\n    }\n    // NaN represents an empty duration\n    return NaN;\n  });\n\n  const initialCustomTimeUnit = dateOnly ? 'day' : 'minute';\n  const [customUnitOfTime, setCustomUnitOfTime] = useState<DateRangePickerProps.TimeUnit>(\n    initialRange?.unit ?? initialCustomTimeUnit\n  );\n\n  const showRadioControl = clientOptions.length > 0;\n  const showCustomControls = clientOptions.length === 0 || selectedRadio === CUSTOM_OPTION_SELECT_KEY;\n\n  return (\n    <div>\n      <InternalSpaceBetween size=\"xs\" direction=\"vertical\">\n        {showRadioControl && (\n          <InternalFormField\n            label={i18n('i18nStrings.relativeRangeSelectionHeading', i18nStrings?.relativeRangeSelectionHeading)}\n          >\n            <InternalRadioGroup\n              className={styles['relative-range-radio-group']}\n              onChange={({ detail }) => {\n                setSelectedRadio(detail.value);\n\n                if (detail.value === CUSTOM_OPTION_SELECT_KEY) {\n                  setCustomDuration(NaN);\n                  setCustomUnitOfTime(initialCustomTimeUnit);\n                  onChangeRangeSize({\n                    amount: NaN,\n                    unit: initialCustomTimeUnit,\n                    type: 'relative',\n                  });\n                } else {\n                  const option = clientOptions.filter(o => o.key === detail.value)[0];\n                  onChangeRangeSize(option);\n                }\n              }}\n              value={selectedRadio}\n              items={radioOptions}\n            />\n          </InternalFormField>\n        )}\n\n        {showCustomControls && (\n          <InternalSpaceBetween direction=\"vertical\" size=\"xs\">\n            {!showRadioControl && (\n              <InternalBox fontSize=\"body-m\" color=\"text-body-secondary\">\n                {i18n(\n                  'i18nStrings.customRelativeRangeOptionDescription',\n                  i18nStrings?.customRelativeRangeOptionDescription\n                )}\n              </InternalBox>\n            )}\n\n            <div\n              className={clsx(styles['custom-range'], {\n                [styles['custom-range--no-padding']]: !showRadioControl,\n              })}\n            >\n              <div\n                className={clsx(styles['custom-range-form-controls'], {\n                  [styles.vertical]: isSingleGrid,\n                })}\n              >\n                <div className={styles['custom-range-duration']}>\n                  <InternalFormField\n                    label={i18n(\n                      'i18nStrings.customRelativeRangeDurationLabel',\n                      i18nStrings?.customRelativeRangeDurationLabel\n                    )}\n                  >\n                    <InternalInput\n                      type=\"number\"\n                      className={styles['custom-range-duration-input']}\n                      value={isNaN(customDuration) || customDuration === 0 ? '' : customDuration?.toString()}\n                      onChange={e => {\n                        const amount = Number(e.detail.value);\n\n                        setCustomDuration(amount);\n                        onChangeRangeSize({ amount, unit: customUnitOfTime, type: 'relative' });\n                      }}\n                      placeholder={i18n(\n                        'i18nStrings.customRelativeRangeDurationPlaceholder',\n                        i18nStrings?.customRelativeRangeDurationPlaceholder\n                      )}\n                      __inheritFormFieldProps={true}\n                    />\n                  </InternalFormField>\n                </div>\n\n                <div className={styles['custom-range-unit']}>\n                  <InternalFormField\n                    label={i18n('i18nStrings.customRelativeRangeUnitLabel', i18nStrings?.customRelativeRangeUnitLabel)}\n                  >\n                    <InternalSelect\n                      className={styles['custom-range-unit-select']}\n                      selectedOption={\n                        {\n                          value: customUnitOfTime,\n                          label: formatUnit?.(customUnitOfTime, customDuration),\n                        } as UnitSelectOption\n                      }\n                      onChange={e => {\n                        const { value: unit } = e.detail.selectedOption as UnitSelectOption;\n\n                        setCustomUnitOfTime(unit);\n                        onChangeRangeSize({ amount: customDuration, unit, type: 'relative' });\n                      }}\n                      options={(dateOnly ? dayUnits : units).map(unit => ({\n                        value: unit,\n                        label: formatUnit?.(unit, customDuration),\n                      }))}\n                      renderHighlightedAriaLive={option => option.label || option.value || ''}\n                    />\n                  </InternalFormField>\n                </div>\n              </div>\n            </div>\n          </InternalSpaceBetween>\n        )}\n      </InternalSpaceBetween>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}