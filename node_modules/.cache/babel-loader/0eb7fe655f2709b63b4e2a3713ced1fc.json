{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useRef } from 'react';\nimport { nodeBelongs } from '../../internal/utils/node-belongs';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nexport function useClickAway(onClick) {\n  const awayRef = useRef(null);\n  const onClickStable = useStableCallback(onClick);\n  useEffect(() => {\n    function handleClick(event) {\n      if (!nodeBelongs(awayRef.current, event.target)) {\n        onClickStable();\n      }\n    }\n    // contains returns wrong result if the next render would remove the element\n    // but capture phase happens before the render, so returns correct result\n    // Ref: https://github.com/facebook/react/issues/20325\n    document.addEventListener('click', handleClick, {\n      capture: true\n    });\n    return () => document.removeEventListener('click', handleClick, {\n      capture: true\n    });\n  }, [onClickStable]);\n  return awayRef;\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,WAAW,QAAQ,mCAAmC;AAC/D,SAASC,iBAAiB,QAAQ,+CAA+C;AAEjF,OAAM,SAAUC,YAAY,CAACC,OAAmB;EAC9C,MAAMC,OAAO,GAAGL,MAAM,CAAM,IAAI,CAAC;EACjC,MAAMM,aAAa,GAAGJ,iBAAiB,CAACE,OAAO,CAAC;EAChDL,SAAS,CAAC,MAAK;IACb,SAASQ,WAAW,CAACC,KAAY;MAC/B,IAAI,CAACP,WAAW,CAACI,OAAO,CAACI,OAAO,EAAED,KAAK,CAACE,MAAqB,CAAC,EAAE;QAC9DJ,aAAa,EAAE;;IAEnB;IACA;IACA;IACA;IACAK,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEL,WAAW,EAAE;MAAEM,OAAO,EAAE;IAAI,CAAE,CAAC;IAClE,OAAO,MAAMF,QAAQ,CAACG,mBAAmB,CAAC,OAAO,EAAEP,WAAW,EAAE;MAAEM,OAAO,EAAE;IAAI,CAAE,CAAC;EACpF,CAAC,EAAE,CAACP,aAAa,CAAC,CAAC;EACnB,OAAOD,OAAO;AAChB","names":["useEffect","useRef","nodeBelongs","useStableCallback","useClickAway","onClick","awayRef","onClickStable","handleClick","event","current","target","document","addEventListener","capture","removeEventListener"],"sources":["/Users/tangyizhi/Desktop/Assignment 2/frontend/node_modules/@cloudscape-design/components/table/body-cell/lib/default/table/body-cell/click-away.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useRef } from 'react';\nimport { nodeBelongs } from '../../internal/utils/node-belongs';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nexport function useClickAway(onClick: () => void) {\n  const awayRef = useRef<any>(null);\n  const onClickStable = useStableCallback(onClick);\n  useEffect(() => {\n    function handleClick(event: Event) {\n      if (!nodeBelongs(awayRef.current, event.target as HTMLElement)) {\n        onClickStable();\n      }\n    }\n    // contains returns wrong result if the next render would remove the element\n    // but capture phase happens before the render, so returns correct result\n    // Ref: https://github.com/facebook/react/issues/20325\n    document.addEventListener('click', handleClick, { capture: true });\n    return () => document.removeEventListener('click', handleClick, { capture: true });\n  }, [onClickStable]);\n  return awayRef;\n}\n"]},"metadata":{},"sourceType":"module"}