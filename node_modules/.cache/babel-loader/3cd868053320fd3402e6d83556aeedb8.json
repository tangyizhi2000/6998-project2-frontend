{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useEffect } from 'react';\nimport { ToggleButton, togglesConfig } from '../toggles';\nimport OverflowMenu from '../drawer/overflow-menu';\nimport styles from './styles.css.js';\nimport sharedStyles from '../styles.css.js';\nimport testutilStyles from '../test-classes/styles.css.js';\nimport { splitItems } from '../drawer/drawers-helpers';\nimport { TOOLS_DRAWER_ID } from '../utils/use-drawers';\nvar MobileToggle = React.forwardRef(function (_ref, ref) {\n  var className = _ref.className,\n    ariaLabels = _ref.ariaLabels,\n    type = _ref.type,\n    disabled = _ref.disabled,\n    _onClick = _ref.onClick;\n  var _togglesConfig$type = togglesConfig[type],\n    TagName = _togglesConfig$type.TagName,\n    iconName = _togglesConfig$type.iconName,\n    getLabels = _togglesConfig$type.getLabels;\n  var _getLabels = getLabels(ariaLabels),\n    mainLabel = _getLabels.mainLabel,\n    openLabel = _getLabels.openLabel;\n  return React.createElement(TagName, {\n    className: clsx(styles['mobile-toggle'], styles[\"mobile-toggle-type-\".concat(type)]),\n    \"aria-hidden\": disabled,\n    \"aria-label\": mainLabel,\n    onClick: function onClick(e) {\n      return e.target === e.currentTarget && _onClick();\n    }\n  }, React.createElement(ToggleButton, {\n    ref: ref,\n    className: className,\n    iconName: iconName,\n    onClick: _onClick,\n    ariaLabel: openLabel,\n    disabled: disabled,\n    ariaExpanded: disabled\n  }));\n});\nexport function MobileToolbar(_ref2) {\n  var ariaLabels = _ref2.ariaLabels,\n    toggleRefs = _ref2.toggleRefs,\n    topOffset = _ref2.topOffset,\n    navigationHide = _ref2.navigationHide,\n    toolsHide = _ref2.toolsHide,\n    anyPanelOpen = _ref2.anyPanelOpen,\n    unfocusable = _ref2.unfocusable,\n    children = _ref2.children,\n    onNavigationOpen = _ref2.onNavigationOpen,\n    onToolsOpen = _ref2.onToolsOpen,\n    drawers = _ref2.drawers,\n    mobileBarRef = _ref2.mobileBarRef;\n  useEffect(function () {\n    if (anyPanelOpen) {\n      document.body.classList.add(styles['block-body-scroll']);\n      return function () {\n        document.body.classList.remove(styles['block-body-scroll']);\n      };\n    } else {\n      document.body.classList.remove(styles['block-body-scroll']);\n    }\n  }, [anyPanelOpen]);\n  var _splitItems = splitItems(drawers === null || drawers === void 0 ? void 0 : drawers.items, 2, drawers === null || drawers === void 0 ? void 0 : drawers.activeDrawerId),\n    overflowItems = _splitItems.overflowItems,\n    visibleItems = _splitItems.visibleItems;\n  var overflowMenuHasBadge = !!overflowItems.find(function (item) {\n    return item.badge;\n  });\n  return React.createElement(\"div\", {\n    ref: mobileBarRef,\n    className: clsx(styles['mobile-bar'], testutilStyles['mobile-bar'], unfocusable && sharedStyles.unfocusable),\n    style: {\n      top: topOffset\n    }\n  }, !navigationHide && React.createElement(MobileToggle, {\n    ref: toggleRefs.navigation,\n    type: \"navigation\",\n    className: testutilStyles['navigation-toggle'],\n    ariaLabels: ariaLabels,\n    disabled: anyPanelOpen,\n    onClick: onNavigationOpen\n  }), React.createElement(\"div\", {\n    className: styles['mobile-bar-breadcrumbs']\n  }, children && React.createElement(\"div\", {\n    className: testutilStyles.breadcrumbs\n  }, children)), !toolsHide && !drawers && React.createElement(MobileToggle, {\n    ref: toggleRefs.tools,\n    type: \"tools\",\n    className: testutilStyles['tools-toggle'],\n    ariaLabels: ariaLabels,\n    disabled: anyPanelOpen,\n    onClick: onToolsOpen\n  }), drawers && React.createElement(\"aside\", {\n    \"aria-label\": drawers.ariaLabel,\n    role: \"region\"\n  }, React.createElement(\"div\", {\n    className: clsx(styles['drawers-container']),\n    role: \"toolbar\",\n    \"aria-orientation\": \"horizontal\"\n  }, visibleItems.map(function (item, index) {\n    var _a;\n    return React.createElement(\"div\", {\n      className: clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer']),\n      key: index,\n      onClick: function onClick() {\n        return drawers.onChange({\n          activeDrawerId: item.id\n        });\n      }\n    }, React.createElement(ToggleButton, {\n      className: clsx(testutilStyles['drawers-trigger'], item.id === TOOLS_DRAWER_ID && testutilStyles['tools-toggle']),\n      iconName: item.trigger.iconName,\n      iconSvg: item.trigger.iconSvg,\n      badge: item.badge,\n      ariaLabel: (_a = item.ariaLabels) === null || _a === void 0 ? void 0 : _a.triggerButton,\n      ariaExpanded: drawers.activeDrawerId === item.id,\n      testId: \"awsui-app-layout-trigger-\".concat(item.id)\n    }));\n  }), overflowItems.length > 0 && React.createElement(\"div\", {\n    className: clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer'])\n  }, React.createElement(OverflowMenu, {\n    ariaLabel: overflowMenuHasBadge ? drawers.overflowWithBadgeAriaLabel : drawers.overflowAriaLabel,\n    items: overflowItems,\n    onItemClick: function onItemClick(_ref3) {\n      var detail = _ref3.detail;\n      drawers.onChange({\n        activeDrawerId: detail.id !== drawers.activeDrawerId ? detail.id : undefined\n      });\n    }\n  })))));\n}","map":{"version":3,"mappings":"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","names":["clsx","React","useEffect","ToggleButton","togglesConfig","OverflowMenu","styles","sharedStyles","testutilStyles","splitItems","TOOLS_DRAWER_ID","MobileToggle","forwardRef","ref","className","ariaLabels","type","disabled","onClick","TagName","iconName","getLabels","mainLabel","openLabel","e","target","currentTarget","ariaLabel","ariaExpanded","MobileToolbar","toggleRefs","topOffset","navigationHide","toolsHide","anyPanelOpen","unfocusable","children","onNavigationOpen","onToolsOpen","drawers","mobileBarRef","document","body","classList","add","remove","items","activeDrawerId","overflowItems","visibleItems","overflowMenuHasBadge","find","item","badge","style","top","navigation","breadcrumbs","tools","role","map","index","key","onChange","id","trigger","iconSvg","triggerButton","testId","length","overflowWithBadgeAriaLabel","overflowAriaLabel","onItemClick","detail","undefined"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/app-layout/mobile-toolbar/lib/default/app-layout/mobile-toolbar/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useEffect } from 'react';\nimport { ButtonProps } from '../../button/interfaces';\nimport { AppLayoutProps } from '../interfaces';\nimport { DrawerItem } from '../drawer/interfaces';\nimport { ToggleButton, togglesConfig } from '../toggles';\nimport OverflowMenu from '../drawer/overflow-menu';\nimport styles from './styles.css.js';\nimport sharedStyles from '../styles.css.js';\nimport testutilStyles from '../test-classes/styles.css.js';\nimport { splitItems } from '../drawer/drawers-helpers';\nimport { TOOLS_DRAWER_ID } from '../utils/use-drawers';\n\ninterface MobileToggleProps {\n  className?: string;\n  ariaLabels?: AppLayoutProps.Labels;\n  type: keyof typeof togglesConfig;\n  disabled?: boolean;\n  onClick: () => void;\n}\nconst MobileToggle = React.forwardRef(\n  ({ className, ariaLabels, type, disabled, onClick }: MobileToggleProps, ref: React.Ref<ButtonProps.Ref>) => {\n    const { TagName, iconName, getLabels } = togglesConfig[type];\n    const { mainLabel, openLabel } = getLabels(ariaLabels);\n\n    return (\n      <TagName\n        className={clsx(styles['mobile-toggle'], styles[`mobile-toggle-type-${type}`])}\n        aria-hidden={disabled}\n        aria-label={mainLabel}\n        onClick={e => e.target === e.currentTarget && onClick()}\n      >\n        <ToggleButton\n          ref={ref}\n          className={className}\n          iconName={iconName}\n          onClick={onClick}\n          ariaLabel={openLabel}\n          disabled={disabled}\n          ariaExpanded={disabled}\n        />\n      </TagName>\n    );\n  }\n);\ninterface MobileToolbarProps {\n  anyPanelOpen: boolean;\n  unfocusable: boolean | undefined;\n  toggleRefs: {\n    navigation: React.Ref<ButtonProps.Ref>;\n    tools: React.Ref<ButtonProps.Ref>;\n  };\n  navigationHide: boolean | undefined;\n  toolsHide: boolean | undefined;\n  topOffset?: number;\n  ariaLabels: AppLayoutProps.Labels | undefined;\n  mobileBarRef: React.Ref<HTMLDivElement>;\n  children: React.ReactNode;\n  onNavigationOpen: () => void;\n  onToolsOpen: () => void;\n  drawers?: {\n    items: Array<DrawerItem>;\n    activeDrawerId: string | undefined;\n    onChange: (changeDetail: { activeDrawerId: string | undefined }) => void;\n    ariaLabel?: string;\n    overflowAriaLabel?: string;\n    overflowWithBadgeAriaLabel?: string;\n  };\n}\n\nexport function MobileToolbar({\n  ariaLabels,\n  toggleRefs,\n  topOffset,\n  navigationHide,\n  toolsHide,\n  anyPanelOpen,\n  unfocusable,\n  children,\n  onNavigationOpen,\n  onToolsOpen,\n  drawers,\n  mobileBarRef,\n}: MobileToolbarProps) {\n  useEffect(() => {\n    if (anyPanelOpen) {\n      document.body.classList.add(styles['block-body-scroll']);\n      return () => {\n        document.body.classList.remove(styles['block-body-scroll']);\n      };\n    } else {\n      document.body.classList.remove(styles['block-body-scroll']);\n    }\n  }, [anyPanelOpen]);\n\n  const { overflowItems, visibleItems } = splitItems(drawers?.items, 2, drawers?.activeDrawerId);\n  const overflowMenuHasBadge = !!overflowItems.find(item => item.badge);\n\n  return (\n    <div\n      ref={mobileBarRef}\n      className={clsx(styles['mobile-bar'], testutilStyles['mobile-bar'], unfocusable && sharedStyles.unfocusable)}\n      style={{ top: topOffset }}\n    >\n      {!navigationHide && (\n        <MobileToggle\n          ref={toggleRefs.navigation}\n          type=\"navigation\"\n          className={testutilStyles['navigation-toggle']}\n          ariaLabels={ariaLabels}\n          disabled={anyPanelOpen}\n          onClick={onNavigationOpen}\n        />\n      )}\n      <div className={styles['mobile-bar-breadcrumbs']}>\n        {children && <div className={testutilStyles.breadcrumbs}>{children}</div>}\n      </div>\n      {!toolsHide && !drawers && (\n        <MobileToggle\n          ref={toggleRefs.tools}\n          type=\"tools\"\n          className={testutilStyles['tools-toggle']}\n          ariaLabels={ariaLabels}\n          disabled={anyPanelOpen}\n          onClick={onToolsOpen}\n        />\n      )}\n      {drawers && (\n        <aside aria-label={drawers.ariaLabel} role=\"region\">\n          <div className={clsx(styles['drawers-container'])} role=\"toolbar\" aria-orientation=\"horizontal\">\n            {visibleItems.map((item, index) => (\n              <div\n                className={clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer'])}\n                key={index}\n                onClick={() => drawers.onChange({ activeDrawerId: item.id })}\n              >\n                <ToggleButton\n                  className={clsx(\n                    testutilStyles['drawers-trigger'],\n                    item.id === TOOLS_DRAWER_ID && testutilStyles['tools-toggle']\n                  )}\n                  iconName={item.trigger.iconName}\n                  iconSvg={item.trigger.iconSvg}\n                  badge={item.badge}\n                  ariaLabel={item.ariaLabels?.triggerButton}\n                  ariaExpanded={drawers.activeDrawerId === item.id}\n                  testId={`awsui-app-layout-trigger-${item.id}`}\n                />\n              </div>\n            ))}\n            {overflowItems.length > 0 && (\n              <div className={clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer'])}>\n                <OverflowMenu\n                  ariaLabel={overflowMenuHasBadge ? drawers.overflowWithBadgeAriaLabel : drawers.overflowAriaLabel}\n                  items={overflowItems}\n                  onItemClick={({ detail }) => {\n                    drawers.onChange({\n                      activeDrawerId: detail.id !== drawers.activeDrawerId ? detail.id : undefined,\n                    });\n                  }}\n                />\n              </div>\n            )}\n          </div>\n        </aside>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}