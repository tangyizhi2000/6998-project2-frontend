{"ast":null,"code":"import _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useEffect, useRef, useState } from 'react';\nimport styles from './styles.css.js';\nimport { KeyCode } from '../../internal/keycode';\nimport { DEFAULT_COLUMN_WIDTH } from '../use-column-widths';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport { getHeaderWidth, getResizerElements } from './resizer-lookup';\nvar AUTO_GROW_START_TIME = 10;\nvar AUTO_GROW_INTERVAL = 10;\nvar AUTO_GROW_INCREMENT = 5;\nexport function Resizer(_ref) {\n  var onWidthUpdate = _ref.onWidthUpdate,\n    onWidthUpdateCommit = _ref.onWidthUpdateCommit,\n    ariaLabelledby = _ref.ariaLabelledby,\n    _ref$minWidth = _ref.minWidth,\n    minWidth = _ref$minWidth === void 0 ? DEFAULT_COLUMN_WIDTH : _ref$minWidth,\n    tabIndex = _ref.tabIndex,\n    showFocusRing = _ref.showFocusRing,\n    focusId = _ref.focusId;\n  onWidthUpdate = useStableCallback(onWidthUpdate);\n  onWidthUpdateCommit = useStableCallback(onWidthUpdateCommit);\n  var resizerRef = useRef(null);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isDragging = _useState2[0],\n    setIsDragging = _useState2[1];\n  var autoGrowTimeout = useRef();\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    resizerHasFocus = _useState4[0],\n    setResizerHasFocus = _useState4[1];\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    headerCellWidth = _useState6[0],\n    setHeaderCellWidth = _useState6[1];\n  // Read header width after mounting for it to be available in the element's ARIA label before it gets focused.\n  useEffect(function () {\n    setHeaderCellWidth(getHeaderWidth(resizerRef.current));\n  }, []);\n  useEffect(function () {\n    var elements = getResizerElements(resizerRef.current);\n    if (!isDragging && !resizerHasFocus || !elements) {\n      return;\n    }\n    var _elements$scrollParen = elements.scrollParent.getBoundingClientRect(),\n      leftEdge = _elements$scrollParen.left,\n      rightEdge = _elements$scrollParen.right;\n    var updateTrackerPosition = function updateTrackerPosition(newOffset) {\n      var _elements$table$getBo = elements.table.getBoundingClientRect(),\n        scrollParentLeft = _elements$table$getBo.left;\n      elements.tracker.style.top = elements.header.getBoundingClientRect().height + 'px';\n      // minus one pixel to offset the cell border\n      elements.tracker.style.left = newOffset - scrollParentLeft - 1 + 'px';\n    };\n    var updateColumnWidth = function updateColumnWidth(newWidth) {\n      var _elements$header$getB = elements.header.getBoundingClientRect(),\n        right = _elements$header$getB.right,\n        width = _elements$header$getB.width;\n      var updatedWidth = newWidth < minWidth ? minWidth : newWidth;\n      updateTrackerPosition(right + updatedWidth - width);\n      if (newWidth >= minWidth) {\n        setHeaderCellWidth(newWidth);\n      }\n      // callbacks must be the last calls in the handler, because they may cause an extra update\n      onWidthUpdate(newWidth);\n    };\n    var resizeColumn = function resizeColumn(offset) {\n      if (offset > leftEdge) {\n        var cellLeft = elements.header.getBoundingClientRect().left;\n        var newWidth = offset - cellLeft;\n        // callbacks must be the last calls in the handler, because they may cause an extra update\n        updateColumnWidth(newWidth);\n      }\n    };\n    var onAutoGrow = function onAutoGrow() {\n      var width = elements.header.getBoundingClientRect().width;\n      autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_INTERVAL);\n      // callbacks must be the last calls in the handler, because they may cause an extra update\n      updateColumnWidth(width + AUTO_GROW_INCREMENT);\n      elements.scrollParent.scrollLeft += AUTO_GROW_INCREMENT;\n    };\n    var onMouseMove = function onMouseMove(event) {\n      clearTimeout(autoGrowTimeout.current);\n      var offset = event.pageX;\n      if (offset > rightEdge) {\n        autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_START_TIME);\n      } else {\n        resizeColumn(offset);\n      }\n    };\n    var onMouseUp = function onMouseUp(event) {\n      resizeColumn(event.pageX);\n      setIsDragging(false);\n      onWidthUpdateCommit();\n      clearTimeout(autoGrowTimeout.current);\n    };\n    var onKeyDown = function onKeyDown(event) {\n      if (event.keyCode === KeyCode.left) {\n        event.preventDefault();\n        updateColumnWidth(elements.header.getBoundingClientRect().width - 10);\n        setTimeout(function () {\n          return onWidthUpdateCommit();\n        }, 0);\n      }\n      if (event.keyCode === KeyCode.right) {\n        event.preventDefault();\n        updateColumnWidth(elements.header.getBoundingClientRect().width + 10);\n        setTimeout(function () {\n          return onWidthUpdateCommit();\n        }, 0);\n      }\n    };\n    updateTrackerPosition(elements.header.getBoundingClientRect().right);\n    if (isDragging) {\n      document.body.classList.add(styles['resize-active']);\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', onMouseUp);\n    }\n    if (resizerHasFocus) {\n      document.body.classList.add(styles['resize-active']);\n      document.body.classList.add(styles['resize-active-with-focus']);\n      elements.header.addEventListener('keydown', onKeyDown);\n    }\n    return function () {\n      clearTimeout(autoGrowTimeout.current);\n      document.body.classList.remove(styles['resize-active']);\n      document.body.classList.remove(styles['resize-active-with-focus']);\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('mouseup', onMouseUp);\n      elements.header.removeEventListener('keydown', onKeyDown);\n    };\n  }, [isDragging, resizerHasFocus, minWidth, onWidthUpdate, onWidthUpdateCommit]);\n  var headerCellWidthString = headerCellWidth.toFixed(0);\n  var resizerAriaProps = {\n    role: 'separator',\n    'aria-labelledby': ariaLabelledby,\n    'aria-orientation': 'vertical',\n    'aria-valuenow': headerCellWidth,\n    // aria-valuetext is needed because the VO announces \"collapsed\" when only aria-valuenow set without aria-valuemax\n    'aria-valuetext': headerCellWidthString,\n    'aria-valuemin': minWidth\n  };\n  return React.createElement(React.Fragment, null, React.createElement(\"span\", Object.assign({\n    ref: resizerRef,\n    className: clsx(styles.resizer, isDragging && styles['resizer-active'], (resizerHasFocus || showFocusRing) && styles['has-focus']),\n    onMouseDown: function onMouseDown(event) {\n      if (event.button !== 0) {\n        return;\n      }\n      event.preventDefault();\n      setIsDragging(true);\n    },\n    onClick: function onClick() {\n      // Prevents dragging mode activation for VO+Space click.\n      setIsDragging(false);\n    },\n    onFocus: function onFocus() {\n      setHeaderCellWidth(getHeaderWidth(resizerRef.current));\n      setResizerHasFocus(true);\n    },\n    onBlur: function onBlur() {\n      setResizerHasFocus(false);\n    }\n  }, resizerAriaProps, {\n    tabIndex: tabIndex,\n    \"data-focus-id\": focusId\n  })));\n}\nexport function ResizeTracker() {\n  return React.createElement(\"span\", {\n    className: styles.tracker\n  });\n}","map":{"version":3,"mappings":"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","names":["clsx","React","useEffect","useRef","useState","styles","KeyCode","DEFAULT_COLUMN_WIDTH","useStableCallback","getHeaderWidth","getResizerElements","AUTO_GROW_START_TIME","AUTO_GROW_INTERVAL","AUTO_GROW_INCREMENT","Resizer","onWidthUpdate","onWidthUpdateCommit","ariaLabelledby","minWidth","tabIndex","showFocusRing","focusId","resizerRef","isDragging","setIsDragging","autoGrowTimeout","resizerHasFocus","setResizerHasFocus","headerCellWidth","setHeaderCellWidth","current","elements","scrollParent","getBoundingClientRect","leftEdge","left","rightEdge","right","updateTrackerPosition","newOffset","table","scrollParentLeft","tracker","style","top","header","height","updateColumnWidth","newWidth","width","updatedWidth","resizeColumn","offset","cellLeft","onAutoGrow","setTimeout","scrollLeft","onMouseMove","event","clearTimeout","pageX","onMouseUp","onKeyDown","keyCode","preventDefault","document","body","classList","add","addEventListener","remove","removeEventListener","headerCellWidthString","toFixed","resizerAriaProps","role","ref","className","resizer","onMouseDown","button","onClick","onFocus","onBlur","ResizeTracker"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/table/resizer/lib/default/table/resizer/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useEffect, useRef, useState } from 'react';\nimport styles from './styles.css.js';\nimport { KeyCode } from '../../internal/keycode';\nimport { DEFAULT_COLUMN_WIDTH } from '../use-column-widths';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport { getHeaderWidth, getResizerElements } from './resizer-lookup';\n\ninterface ResizerProps {\n  onWidthUpdate: (newWidth: number) => void;\n  onWidthUpdateCommit: () => void;\n  ariaLabelledby?: string;\n  minWidth?: number;\n  tabIndex?: number;\n  focusId?: string;\n  showFocusRing?: boolean;\n}\n\nconst AUTO_GROW_START_TIME = 10;\nconst AUTO_GROW_INTERVAL = 10;\nconst AUTO_GROW_INCREMENT = 5;\n\nexport function Resizer({\n  onWidthUpdate,\n  onWidthUpdateCommit,\n  ariaLabelledby,\n  minWidth = DEFAULT_COLUMN_WIDTH,\n  tabIndex,\n  showFocusRing,\n  focusId,\n}: ResizerProps) {\n  onWidthUpdate = useStableCallback(onWidthUpdate);\n  onWidthUpdateCommit = useStableCallback(onWidthUpdateCommit);\n\n  const resizerRef = useRef<HTMLSpanElement>(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const autoGrowTimeout = useRef<ReturnType<typeof setTimeout> | undefined>();\n  const [resizerHasFocus, setResizerHasFocus] = useState(false);\n  const [headerCellWidth, setHeaderCellWidth] = useState(0);\n\n  // Read header width after mounting for it to be available in the element's ARIA label before it gets focused.\n  useEffect(() => {\n    setHeaderCellWidth(getHeaderWidth(resizerRef.current));\n  }, []);\n\n  useEffect(() => {\n    const elements = getResizerElements(resizerRef.current);\n    if ((!isDragging && !resizerHasFocus) || !elements) {\n      return;\n    }\n\n    const { left: leftEdge, right: rightEdge } = elements.scrollParent.getBoundingClientRect();\n\n    const updateTrackerPosition = (newOffset: number) => {\n      const { left: scrollParentLeft } = elements.table.getBoundingClientRect();\n      elements.tracker.style.top = elements.header.getBoundingClientRect().height + 'px';\n      // minus one pixel to offset the cell border\n      elements.tracker.style.left = newOffset - scrollParentLeft - 1 + 'px';\n    };\n\n    const updateColumnWidth = (newWidth: number) => {\n      const { right, width } = elements.header.getBoundingClientRect();\n      const updatedWidth = newWidth < minWidth ? minWidth : newWidth;\n      updateTrackerPosition(right + updatedWidth - width);\n      if (newWidth >= minWidth) {\n        setHeaderCellWidth(newWidth);\n      }\n      // callbacks must be the last calls in the handler, because they may cause an extra update\n      onWidthUpdate(newWidth);\n    };\n\n    const resizeColumn = (offset: number) => {\n      if (offset > leftEdge) {\n        const cellLeft = elements.header.getBoundingClientRect().left;\n        const newWidth = offset - cellLeft;\n        // callbacks must be the last calls in the handler, because they may cause an extra update\n        updateColumnWidth(newWidth);\n      }\n    };\n\n    const onAutoGrow = () => {\n      const width = elements.header.getBoundingClientRect().width;\n      autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_INTERVAL);\n      // callbacks must be the last calls in the handler, because they may cause an extra update\n      updateColumnWidth(width + AUTO_GROW_INCREMENT);\n      elements.scrollParent.scrollLeft += AUTO_GROW_INCREMENT;\n    };\n\n    const onMouseMove = (event: MouseEvent) => {\n      clearTimeout(autoGrowTimeout.current);\n      const offset = event.pageX;\n      if (offset > rightEdge) {\n        autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_START_TIME);\n      } else {\n        resizeColumn(offset);\n      }\n    };\n\n    const onMouseUp = (event: MouseEvent) => {\n      resizeColumn(event.pageX);\n      setIsDragging(false);\n      onWidthUpdateCommit();\n      clearTimeout(autoGrowTimeout.current);\n    };\n\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.keyCode === KeyCode.left) {\n        event.preventDefault();\n        updateColumnWidth(elements.header.getBoundingClientRect().width - 10);\n        setTimeout(() => onWidthUpdateCommit(), 0);\n      }\n      if (event.keyCode === KeyCode.right) {\n        event.preventDefault();\n        updateColumnWidth(elements.header.getBoundingClientRect().width + 10);\n        setTimeout(() => onWidthUpdateCommit(), 0);\n      }\n    };\n\n    updateTrackerPosition(elements.header.getBoundingClientRect().right);\n\n    if (isDragging) {\n      document.body.classList.add(styles['resize-active']);\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', onMouseUp);\n    }\n    if (resizerHasFocus) {\n      document.body.classList.add(styles['resize-active']);\n      document.body.classList.add(styles['resize-active-with-focus']);\n      elements.header.addEventListener('keydown', onKeyDown);\n    }\n\n    return () => {\n      clearTimeout(autoGrowTimeout.current);\n      document.body.classList.remove(styles['resize-active']);\n      document.body.classList.remove(styles['resize-active-with-focus']);\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('mouseup', onMouseUp);\n      elements.header.removeEventListener('keydown', onKeyDown);\n    };\n  }, [isDragging, resizerHasFocus, minWidth, onWidthUpdate, onWidthUpdateCommit]);\n\n  const headerCellWidthString = headerCellWidth.toFixed(0);\n  const resizerAriaProps = {\n    role: 'separator',\n    'aria-labelledby': ariaLabelledby,\n    'aria-orientation': 'vertical' as const,\n    'aria-valuenow': headerCellWidth,\n    // aria-valuetext is needed because the VO announces \"collapsed\" when only aria-valuenow set without aria-valuemax\n    'aria-valuetext': headerCellWidthString,\n    'aria-valuemin': minWidth,\n  };\n\n  return (\n    <>\n      <span\n        ref={resizerRef}\n        className={clsx(\n          styles.resizer,\n          isDragging && styles['resizer-active'],\n          (resizerHasFocus || showFocusRing) && styles['has-focus']\n        )}\n        onMouseDown={event => {\n          if (event.button !== 0) {\n            return;\n          }\n          event.preventDefault();\n          setIsDragging(true);\n        }}\n        onClick={() => {\n          // Prevents dragging mode activation for VO+Space click.\n          setIsDragging(false);\n        }}\n        onFocus={() => {\n          setHeaderCellWidth(getHeaderWidth(resizerRef.current));\n          setResizerHasFocus(true);\n        }}\n        onBlur={() => {\n          setResizerHasFocus(false);\n        }}\n        {...resizerAriaProps}\n        tabIndex={tabIndex}\n        data-focus-id={focusId}\n      />\n    </>\n  );\n}\n\nexport function ResizeTracker() {\n  return <span className={styles.tracker} />;\n}\n"]},"metadata":{},"sourceType":"module"}