{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React from 'react';\nimport { Flash } from './flash';\nimport { TIMEOUT_FOR_ENTERING_ANIMATION } from './constant';\nimport { TransitionGroup } from 'react-transition-group';\nimport { Transition } from '../internal/components/transition';\nimport styles from './styles.css.js';\nimport { useFlashbar } from './common';\nimport { useInternalI18n } from '../i18n/context';\nexport default function NonCollapsibleFlashbar(_a) {\n  var items = _a.items,\n    i18nStrings = _a.i18nStrings,\n    restProps = __rest(_a, [\"items\", \"i18nStrings\"]);\n  var _useFlashbar = useFlashbar(Object.assign({\n      items: items\n    }, restProps)),\n    allItemsHaveId = _useFlashbar.allItemsHaveId,\n    baseProps = _useFlashbar.baseProps,\n    breakpoint = _useFlashbar.breakpoint,\n    isReducedMotion = _useFlashbar.isReducedMotion,\n    isVisualRefresh = _useFlashbar.isVisualRefresh,\n    mergedRef = _useFlashbar.mergedRef;\n  var i18n = useInternalI18n('flashbar');\n  var ariaLabel = i18n('i18nStrings.ariaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.ariaLabel);\n  var iconAriaLabels = {\n    errorIconAriaLabel: i18n('i18nStrings.errorIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.errorIconAriaLabel),\n    inProgressIconAriaLabel: i18n('i18nStrings.inProgressIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.inProgressIconAriaLabel),\n    infoIconAriaLabel: i18n('i18nStrings.infoIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.infoIconAriaLabel),\n    successIconAriaLabel: i18n('i18nStrings.successIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.successIconAriaLabel),\n    warningIconAriaLabel: i18n('i18nStrings.warningIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.warningIconAriaLabel)\n  };\n  /**\n   * All the flash items should have ids so we can identify which DOM element is being\n   * removed from the DOM to animate it. Motion will be disabled if any of the provided\n   * flash messages does not contain an `id`.\n   */\n  var motionDisabled = isReducedMotion || !isVisualRefresh || !allItemsHaveId;\n  var animateFlash = !isReducedMotion && isVisualRefresh;\n  /**\n   * If the flashbar is flat and motion is `enabled` then the adding and removing of items\n   * from the flashbar will render with visual transitions.\n   */\n  function renderFlatItemsWithTransitions() {\n    if (motionDisabled || !items) {\n      return;\n    }\n    return (\n      // This is a proxy for <ul>, so we're not applying a class to another actual component.\n      // eslint-disable-next-line react/forbid-component-props\n      React.createElement(TransitionGroup, {\n        component: \"ul\",\n        className: styles['flash-list'],\n        \"aria-label\": ariaLabel\n      }, items.map(function (item, index) {\n        var _a;\n        return React.createElement(Transition, {\n          transitionChangeDelay: {\n            entering: TIMEOUT_FOR_ENTERING_ANIMATION\n          },\n          key: (_a = item.id) !== null && _a !== void 0 ? _a : index,\n          in: true\n        }, function (state, transitionRootElement) {\n          var _a;\n          return React.createElement(\"li\", {\n            className: styles['flash-list-item']\n          }, renderItem(item, (_a = item.id) !== null && _a !== void 0 ? _a : index, transitionRootElement, state));\n        });\n      }))\n    );\n  }\n  /**\n   * If the flashbar is flat and motion is `disabled` then the adding and removing of items\n   * from the flashbar will render without visual transitions.\n   */\n  function renderFlatItemsWithoutTransitions() {\n    if (!motionDisabled || !items) {\n      return;\n    }\n    return React.createElement(\"ul\", {\n      className: styles['flash-list'],\n      \"aria-label\": ariaLabel\n    }, items.map(function (item, index) {\n      var _a, _b;\n      return React.createElement(\"li\", {\n        key: (_a = item.id) !== null && _a !== void 0 ? _a : index,\n        className: styles['flash-list-item']\n      }, renderItem(item, (_b = item.id) !== null && _b !== void 0 ? _b : index));\n    }));\n  }\n  /**\n   * This is a shared render function for a single flashbar item to be used\n   * by the stacking, motion, and non-motion item group render functions.\n   */\n  function renderItem(item, key, transitionRootElement, transitionState) {\n    return React.createElement(Flash\n    // eslint-disable-next-line react/forbid-component-props\n    , Object.assign({\n      // eslint-disable-next-line react/forbid-component-props\n      className: clsx(animateFlash && styles['flash-with-motion'], isVisualRefresh && styles['flash-refresh']),\n      key: key,\n      ref: transitionRootElement,\n      transitionState: transitionState,\n      i18nStrings: iconAriaLabels\n    }, item));\n  }\n  return React.createElement(\"div\", Object.assign({}, baseProps, {\n    className: clsx(baseProps.className, styles.flashbar, styles[\"breakpoint-\".concat(breakpoint)]),\n    ref: mergedRef\n  }), renderFlatItemsWithTransitions(), renderFlatItemsWithoutTransitions());\n}","map":{"version":3,"mappings":"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","names":["clsx","React","Flash","TIMEOUT_FOR_ENTERING_ANIMATION","TransitionGroup","Transition","styles","useFlashbar","useInternalI18n","NonCollapsibleFlashbar","_a","items","i18nStrings","restProps","allItemsHaveId","baseProps","breakpoint","isReducedMotion","isVisualRefresh","mergedRef","i18n","ariaLabel","iconAriaLabels","errorIconAriaLabel","inProgressIconAriaLabel","infoIconAriaLabel","successIconAriaLabel","warningIconAriaLabel","motionDisabled","animateFlash","renderFlatItemsWithTransitions","component","className","map","item","index","transitionChangeDelay","entering","key","id","in","state","transitionRootElement","renderItem","renderFlatItemsWithoutTransitions","transitionState","ref","flashbar"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/flashbar/lib/default/flashbar/non-collapsible-flashbar.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React from 'react';\nimport { Flash } from './flash';\nimport { FlashbarProps } from './interfaces';\nimport { TIMEOUT_FOR_ENTERING_ANIMATION } from './constant';\nimport { TransitionGroup } from 'react-transition-group';\nimport { Transition } from '../internal/components/transition';\n\nimport styles from './styles.css.js';\nimport { useFlashbar } from './common';\nimport { useInternalI18n } from '../i18n/context';\n\nexport { FlashbarProps };\n\nexport default function NonCollapsibleFlashbar({ items, i18nStrings, ...restProps }: FlashbarProps) {\n  const { allItemsHaveId, baseProps, breakpoint, isReducedMotion, isVisualRefresh, mergedRef } = useFlashbar({\n    items,\n    ...restProps,\n  });\n\n  const i18n = useInternalI18n('flashbar');\n  const ariaLabel = i18n('i18nStrings.ariaLabel', i18nStrings?.ariaLabel);\n  const iconAriaLabels = {\n    errorIconAriaLabel: i18n('i18nStrings.errorIconAriaLabel', i18nStrings?.errorIconAriaLabel),\n    inProgressIconAriaLabel: i18n('i18nStrings.inProgressIconAriaLabel', i18nStrings?.inProgressIconAriaLabel),\n    infoIconAriaLabel: i18n('i18nStrings.infoIconAriaLabel', i18nStrings?.infoIconAriaLabel),\n    successIconAriaLabel: i18n('i18nStrings.successIconAriaLabel', i18nStrings?.successIconAriaLabel),\n    warningIconAriaLabel: i18n('i18nStrings.warningIconAriaLabel', i18nStrings?.warningIconAriaLabel),\n  };\n\n  /**\n   * All the flash items should have ids so we can identify which DOM element is being\n   * removed from the DOM to animate it. Motion will be disabled if any of the provided\n   * flash messages does not contain an `id`.\n   */\n  const motionDisabled = isReducedMotion || !isVisualRefresh || !allItemsHaveId;\n\n  const animateFlash = !isReducedMotion && isVisualRefresh;\n  /**\n   * If the flashbar is flat and motion is `enabled` then the adding and removing of items\n   * from the flashbar will render with visual transitions.\n   */\n  function renderFlatItemsWithTransitions() {\n    if (motionDisabled || !items) {\n      return;\n    }\n\n    return (\n      // This is a proxy for <ul>, so we're not applying a class to another actual component.\n      // eslint-disable-next-line react/forbid-component-props\n      <TransitionGroup component=\"ul\" className={styles['flash-list']} aria-label={ariaLabel}>\n        {items.map((item, index) => (\n          <Transition\n            transitionChangeDelay={{ entering: TIMEOUT_FOR_ENTERING_ANIMATION }}\n            key={item.id ?? index}\n            in={true}\n          >\n            {(state: string, transitionRootElement: React.Ref<HTMLDivElement> | undefined) => (\n              <li className={styles['flash-list-item']}>\n                {renderItem(item, item.id ?? index, transitionRootElement, state)}\n              </li>\n            )}\n          </Transition>\n        ))}\n      </TransitionGroup>\n    );\n  }\n\n  /**\n   * If the flashbar is flat and motion is `disabled` then the adding and removing of items\n   * from the flashbar will render without visual transitions.\n   */\n  function renderFlatItemsWithoutTransitions() {\n    if (!motionDisabled || !items) {\n      return;\n    }\n\n    return (\n      <ul className={styles['flash-list']} aria-label={ariaLabel}>\n        {items.map((item, index) => (\n          <li key={item.id ?? index} className={styles['flash-list-item']}>\n            {renderItem(item, item.id ?? index)}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  /**\n   * This is a shared render function for a single flashbar item to be used\n   * by the stacking, motion, and non-motion item group render functions.\n   */\n  function renderItem(\n    item: FlashbarProps.MessageDefinition,\n    key: string | number,\n    transitionRootElement?: React.Ref<HTMLDivElement> | undefined,\n    transitionState?: string | undefined\n  ) {\n    return (\n      <Flash\n        // eslint-disable-next-line react/forbid-component-props\n        className={clsx(animateFlash && styles['flash-with-motion'], isVisualRefresh && styles['flash-refresh'])}\n        key={key}\n        ref={transitionRootElement}\n        transitionState={transitionState}\n        i18nStrings={iconAriaLabels}\n        {...item}\n      />\n    );\n  }\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(baseProps.className, styles.flashbar, styles[`breakpoint-${breakpoint}`])}\n      ref={mergedRef}\n    >\n      {renderFlatItemsWithTransitions()}\n      {renderFlatItemsWithoutTransitions()}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}