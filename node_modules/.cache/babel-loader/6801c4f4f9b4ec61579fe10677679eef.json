{"ast":null,"code":"import _toConsumableArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { __rest } from \"tslib\";\nimport React, { useRef, useState } from 'react';\nimport { FileOption } from './file-option';\nimport InternalSpaceBetween from '../space-between/internal';\nimport styles from './styles.css.js';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { getBaseProps } from '../internal/base-component';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport clsx from 'clsx';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { Dropzone, useDropzoneVisible } from './dropzone';\nimport FileInput from './file-input';\nimport TokenList from '../internal/components/token-list';\nimport { Token } from '../token-group/token';\nimport { ConstraintText, FormFieldError } from '../form-field/internal';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { joinStrings } from '../internal/utils/strings';\nimport { useFormFieldContext } from '../contexts/form-field';\nimport InternalBox from '../box/internal';\nexport default React.forwardRef(InternalFileUpload);\nfunction InternalFileUpload(_a, externalRef) {\n  var _b;\n  var accept = _a.accept,\n    ariaRequired = _a.ariaRequired,\n    _a$multiple = _a.multiple,\n    multiple = _a$multiple === void 0 ? false : _a$multiple,\n    onChange = _a.onChange,\n    value = _a.value,\n    tokenLimit = _a.tokenLimit,\n    showFileSize = _a.showFileSize,\n    showFileLastModified = _a.showFileLastModified,\n    showFileThumbnail = _a.showFileThumbnail,\n    i18nStrings = _a.i18nStrings,\n    _a$__internalRootRef = _a.__internalRootRef,\n    __internalRootRef = _a$__internalRootRef === void 0 ? null : _a$__internalRootRef,\n    constraintText = _a.constraintText,\n    errorText = _a.errorText,\n    fileErrors = _a.fileErrors,\n    restProps = __rest(_a, [\"accept\", \"ariaRequired\", \"multiple\", \"onChange\", \"value\", \"tokenLimit\", \"showFileSize\", \"showFileLastModified\", \"showFileThumbnail\", \"i18nStrings\", \"__internalRootRef\", \"constraintText\", \"errorText\", \"fileErrors\"]);\n  var baseProps = getBaseProps(restProps);\n  var metadata = {\n    showFileSize: showFileSize,\n    showFileLastModified: showFileLastModified,\n    showFileThumbnail: showFileThumbnail\n  };\n  var errorId = useUniqueId('error-');\n  var constraintTextId = useUniqueId('constraint-text-');\n  var fileInputRef = useRef(null);\n  var ref = useMergeRefs(fileInputRef, externalRef);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    removedFileIndex = _useState2[0],\n    setRemovedFileIndex = _useState2[1];\n  checkControlled('FileUpload', 'value', value, 'onChange', onChange);\n  if (!multiple && value.length > 1) {\n    warnOnce('FileUpload', 'Value must be an array of size 0 or 1 when `multiple=false`.');\n  }\n  var handleFilesChange = function handleFilesChange(newFiles) {\n    var newValue = multiple ? [].concat(_toConsumableArray(value), _toConsumableArray(newFiles)) : newFiles[0] ? newFiles : _toConsumableArray(value);\n    fireNonCancelableEvent(onChange, {\n      value: newValue\n    });\n  };\n  var onFileRemove = function onFileRemove(removeFileIndex) {\n    var _a;\n    var newValue = value.filter(function (_, fileIndex) {\n      return fileIndex !== removeFileIndex;\n    });\n    fireNonCancelableEvent(onChange, {\n      value: newValue\n    });\n    setRemovedFileIndex(removeFileIndex);\n    if (value.length === 1) {\n      (_a = fileInputRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  };\n  var isDropzoneVisible = useDropzoneVisible(multiple);\n  var formFieldContext = useFormFieldContext(restProps);\n  var ariaDescribedBy = joinStrings((_b = restProps.ariaDescribedby) !== null && _b !== void 0 ? _b : formFieldContext.ariaDescribedby, errorText ? errorId : undefined, constraintText ? constraintTextId : undefined);\n  var hasError = Boolean(errorText || (fileErrors === null || fileErrors === void 0 ? void 0 : fileErrors.filter(Boolean).length));\n  var invalid = restProps.invalid || formFieldContext.invalid || hasError;\n  return React.createElement(InternalSpaceBetween, Object.assign({}, baseProps, {\n    size: \"xs\",\n    className: clsx(baseProps.className, styles.root),\n    __internalRootRef: __internalRootRef\n  }), React.createElement(InternalBox, null, isDropzoneVisible ? React.createElement(Dropzone, {\n    onChange: handleFilesChange\n  }, i18nStrings.dropzoneText(multiple)) : React.createElement(FileInput, Object.assign({\n    ref: ref,\n    accept: accept,\n    ariaRequired: ariaRequired,\n    multiple: multiple,\n    onChange: handleFilesChange,\n    value: value\n  }, restProps, {\n    ariaDescribedby: ariaDescribedBy,\n    invalid: invalid\n  }), i18nStrings.uploadButtonText(multiple)), (constraintText || errorText) && React.createElement(\"div\", {\n    className: styles.hints\n  }, errorText && React.createElement(FormFieldError, {\n    id: errorId,\n    errorIconAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.errorIconAriaLabel\n  }, errorText), constraintText && React.createElement(ConstraintText, {\n    id: constraintTextId,\n    hasError: !!errorText\n  }, constraintText))), !multiple && value.length > 0 ? React.createElement(InternalBox, null, React.createElement(Token, {\n    ariaLabel: value[0].name,\n    dismissLabel: i18nStrings.removeFileAriaLabel(0),\n    onDismiss: function onDismiss() {\n      return onFileRemove(0);\n    },\n    errorText: fileErrors === null || fileErrors === void 0 ? void 0 : fileErrors[0],\n    errorIconAriaLabel: i18nStrings.errorIconAriaLabel,\n    \"data-index\": 0\n  }, React.createElement(FileOption, {\n    file: value[0],\n    metadata: metadata,\n    i18nStrings: i18nStrings\n  }))) : null, multiple && value.length > 0 ? React.createElement(InternalBox, null, React.createElement(TokenList, {\n    alignment: \"vertical\",\n    items: value,\n    renderItem: function renderItem(file, fileIndex) {\n      return React.createElement(Token, {\n        ariaLabel: file.name,\n        dismissLabel: i18nStrings.removeFileAriaLabel(fileIndex),\n        onDismiss: function onDismiss() {\n          return onFileRemove(fileIndex);\n        },\n        errorText: fileErrors === null || fileErrors === void 0 ? void 0 : fileErrors[fileIndex],\n        errorIconAriaLabel: i18nStrings.errorIconAriaLabel,\n        \"data-index\": fileIndex\n      }, React.createElement(FileOption, {\n        file: file,\n        metadata: metadata,\n        i18nStrings: i18nStrings\n      }));\n    },\n    limit: tokenLimit,\n    i18nStrings: {\n      limitShowFewer: i18nStrings.limitShowFewer,\n      limitShowMore: i18nStrings.limitShowMore\n    },\n    removedItemIndex: removedFileIndex\n  })) : null);\n}","map":{"version":3,"mappings":"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","names":["React","useRef","useState","FileOption","InternalSpaceBetween","styles","fireNonCancelableEvent","getBaseProps","checkControlled","clsx","warnOnce","Dropzone","useDropzoneVisible","FileInput","TokenList","Token","ConstraintText","FormFieldError","useUniqueId","useMergeRefs","joinStrings","useFormFieldContext","InternalBox","forwardRef","InternalFileUpload","_a","externalRef","accept","ariaRequired","multiple","onChange","value","tokenLimit","showFileSize","showFileLastModified","showFileThumbnail","i18nStrings","__internalRootRef","constraintText","errorText","fileErrors","restProps","baseProps","metadata","errorId","constraintTextId","fileInputRef","ref","removedFileIndex","setRemovedFileIndex","length","handleFilesChange","newFiles","newValue","onFileRemove","removeFileIndex","filter","_","fileIndex","current","focus","isDropzoneVisible","formFieldContext","ariaDescribedBy","ariaDescribedby","undefined","hasError","Boolean","invalid","size","className","root","dropzoneText","uploadButtonText","hints","id","errorIconAriaLabel","ariaLabel","name","dismissLabel","removeFileAriaLabel","onDismiss","file","alignment","items","renderItem","limit","limitShowFewer","limitShowMore","removedItemIndex"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/file-upload/lib/default/file-upload/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { ForwardedRef, useRef, useState } from 'react';\nimport { FileUploadProps } from './interfaces';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\n\nimport { FileOption } from './file-option';\nimport { ButtonProps } from '../button/interfaces';\nimport InternalSpaceBetween from '../space-between/internal';\nimport styles from './styles.css.js';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { getBaseProps } from '../internal/base-component';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport clsx from 'clsx';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { Dropzone, useDropzoneVisible } from './dropzone';\nimport FileInput from './file-input';\nimport TokenList from '../internal/components/token-list';\nimport { Token } from '../token-group/token';\nimport { ConstraintText, FormFieldError } from '../form-field/internal';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { joinStrings } from '../internal/utils/strings';\nimport { useFormFieldContext } from '../contexts/form-field';\nimport InternalBox from '../box/internal';\n\ntype InternalFileUploadProps = FileUploadProps & InternalBaseComponentProps;\n\nexport default React.forwardRef(InternalFileUpload);\n\nfunction InternalFileUpload(\n  {\n    accept,\n    ariaRequired,\n    multiple = false,\n    onChange,\n    value,\n    tokenLimit,\n    showFileSize,\n    showFileLastModified,\n    showFileThumbnail,\n    i18nStrings,\n    __internalRootRef = null,\n    constraintText,\n    errorText,\n    fileErrors,\n    ...restProps\n  }: InternalFileUploadProps,\n  externalRef: ForwardedRef<ButtonProps.Ref>\n) {\n  const baseProps = getBaseProps(restProps);\n  const metadata = { showFileSize, showFileLastModified, showFileThumbnail };\n\n  const errorId = useUniqueId('error-');\n  const constraintTextId = useUniqueId('constraint-text-');\n\n  const fileInputRef = useRef<ButtonProps.Ref>(null);\n  const ref = useMergeRefs(fileInputRef, externalRef);\n\n  const [removedFileIndex, setRemovedFileIndex] = useState<null | number>(null);\n\n  checkControlled('FileUpload', 'value', value, 'onChange', onChange);\n\n  if (!multiple && value.length > 1) {\n    warnOnce('FileUpload', 'Value must be an array of size 0 or 1 when `multiple=false`.');\n  }\n\n  const handleFilesChange = (newFiles: File[]) => {\n    const newValue = multiple ? [...value, ...newFiles] : newFiles[0] ? newFiles : [...value];\n    fireNonCancelableEvent(onChange, { value: newValue });\n  };\n\n  const onFileRemove = (removeFileIndex: number) => {\n    const newValue = value.filter((_, fileIndex) => fileIndex !== removeFileIndex);\n    fireNonCancelableEvent(onChange, { value: newValue });\n    setRemovedFileIndex(removeFileIndex);\n    if (value.length === 1) {\n      fileInputRef.current?.focus();\n    }\n  };\n\n  const isDropzoneVisible = useDropzoneVisible(multiple);\n\n  const formFieldContext = useFormFieldContext(restProps);\n  const ariaDescribedBy = joinStrings(\n    restProps.ariaDescribedby ?? formFieldContext.ariaDescribedby,\n    errorText ? errorId : undefined,\n    constraintText ? constraintTextId : undefined\n  );\n\n  const hasError = Boolean(errorText || fileErrors?.filter(Boolean).length);\n  const invalid = restProps.invalid || formFieldContext.invalid || hasError;\n\n  return (\n    <InternalSpaceBetween\n      {...baseProps}\n      size=\"xs\"\n      className={clsx(baseProps.className, styles.root)}\n      __internalRootRef={__internalRootRef}\n    >\n      <InternalBox>\n        {isDropzoneVisible ? (\n          <Dropzone onChange={handleFilesChange}>{i18nStrings.dropzoneText(multiple)}</Dropzone>\n        ) : (\n          <FileInput\n            ref={ref}\n            accept={accept}\n            ariaRequired={ariaRequired}\n            multiple={multiple}\n            onChange={handleFilesChange}\n            value={value}\n            {...restProps}\n            ariaDescribedby={ariaDescribedBy}\n            invalid={invalid}\n          >\n            {i18nStrings.uploadButtonText(multiple)}\n          </FileInput>\n        )}\n\n        {(constraintText || errorText) && (\n          <div className={styles.hints}>\n            {errorText && (\n              <FormFieldError id={errorId} errorIconAriaLabel={i18nStrings?.errorIconAriaLabel}>\n                {errorText}\n              </FormFieldError>\n            )}\n            {constraintText && (\n              <ConstraintText id={constraintTextId} hasError={!!errorText}>\n                {constraintText}\n              </ConstraintText>\n            )}\n          </div>\n        )}\n      </InternalBox>\n\n      {!multiple && value.length > 0 ? (\n        <InternalBox>\n          <Token\n            ariaLabel={value[0].name}\n            dismissLabel={i18nStrings.removeFileAriaLabel(0)}\n            onDismiss={() => onFileRemove(0)}\n            errorText={fileErrors?.[0]}\n            errorIconAriaLabel={i18nStrings.errorIconAriaLabel}\n            data-index={0}\n          >\n            <FileOption file={value[0]} metadata={metadata} i18nStrings={i18nStrings} />\n          </Token>\n        </InternalBox>\n      ) : null}\n\n      {multiple && value.length > 0 ? (\n        <InternalBox>\n          <TokenList\n            alignment=\"vertical\"\n            items={value}\n            renderItem={(file, fileIndex) => (\n              <Token\n                ariaLabel={file.name}\n                dismissLabel={i18nStrings.removeFileAriaLabel(fileIndex)}\n                onDismiss={() => onFileRemove(fileIndex)}\n                errorText={fileErrors?.[fileIndex]}\n                errorIconAriaLabel={i18nStrings.errorIconAriaLabel}\n                data-index={fileIndex}\n              >\n                <FileOption file={file} metadata={metadata} i18nStrings={i18nStrings} />\n              </Token>\n            )}\n            limit={tokenLimit}\n            i18nStrings={{\n              limitShowFewer: i18nStrings.limitShowFewer,\n              limitShowMore: i18nStrings.limitShowMore,\n            }}\n            removedItemIndex={removedFileIndex}\n          />\n        </InternalBox>\n      ) : null}\n    </InternalSpaceBetween>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}