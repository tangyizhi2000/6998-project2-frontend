{"ast":null,"code":"import _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport AsyncStore from '../async-store';\nvar initialState = Object.freeze({\n  highlightedX: null,\n  highlightedPoint: null,\n  highlightedSeries: null,\n  legendSeries: null,\n  isPopoverPinned: false\n});\nvar InteractionsStore = /*#__PURE__*/function (_AsyncStore) {\n  _inherits(InteractionsStore, _AsyncStore);\n  var _super = _createSuper(InteractionsStore);\n  function InteractionsStore(series, plot) {\n    var _this;\n    _classCallCheck(this, InteractionsStore);\n    _this = _super.call(this, initialState);\n    _this.series = series;\n    _this.plot = plot;\n    return _this;\n  }\n  _createClass(InteractionsStore, [{\n    key: \"highlightPoint\",\n    value: function highlightPoint(point) {\n      var _this2 = this;\n      this.set(function (state) {\n        return Object.assign(Object.assign({}, state), {\n          highlightedX: _this2.plot.xy[point.index.x],\n          highlightedPoint: point,\n          highlightedSeries: _this2.series[point.index.s],\n          legendSeries: _this2.series[point.index.s]\n        });\n      });\n    }\n  }, {\n    key: \"highlightX\",\n    value: function highlightX(points) {\n      this.set(function (state) {\n        return Object.assign(Object.assign({}, state), {\n          highlightedX: points,\n          highlightedPoint: null,\n          highlightedSeries: null,\n          legendSeries: null\n        });\n      });\n    }\n  }, {\n    key: \"highlightFirstPoint\",\n    value: function highlightFirstPoint() {\n      var _this3 = this;\n      this.set(function (state) {\n        var series = state.legendSeries || state.highlightedSeries;\n        var firstSeriesPoint = series && _this3._getFirstSeriesPoint(series);\n        var point = state.highlightedPoint || firstSeriesPoint || _this3.plot.sx[0][0];\n        return Object.assign(Object.assign({}, state), {\n          highlightedX: _this3.plot.xy[point.index.x],\n          highlightedPoint: point,\n          highlightedSeries: _this3.series[point.index.s],\n          legendSeries: _this3.series[point.index.s]\n        });\n      });\n    }\n  }, {\n    key: \"highlightSeries\",\n    value: function highlightSeries(s) {\n      this.set(function (state) {\n        return Object.assign(Object.assign({}, state), {\n          highlightedSeries: s,\n          legendSeries: s\n        });\n      });\n    }\n  }, {\n    key: \"clearHighlight\",\n    value: function clearHighlight() {\n      this.set(function (state) {\n        return Object.assign(Object.assign({}, state), {\n          highlightedX: null,\n          highlightedPoint: null,\n          highlightedSeries: null\n        });\n      });\n    }\n  }, {\n    key: \"clearHighlightedLegend\",\n    value: function clearHighlightedLegend() {\n      this.set(function (state) {\n        return Object.assign(Object.assign({}, state), {\n          legendSeries: null\n        });\n      });\n    }\n  }, {\n    key: \"clearState\",\n    value: function clearState() {\n      this.set(function () {\n        return initialState;\n      });\n    }\n  }, {\n    key: \"pinPopover\",\n    value: function pinPopover() {\n      this.set(function (state) {\n        return Object.assign(Object.assign({}, state), {\n          isPopoverPinned: true\n        });\n      });\n    }\n  }, {\n    key: \"unpinPopover\",\n    value: function unpinPopover() {\n      this.set(function (state) {\n        return Object.assign(Object.assign({}, state), {\n          isPopoverPinned: false\n        });\n      });\n    }\n  }, {\n    key: \"togglePopoverPin\",\n    value: function togglePopoverPin() {\n      this.set(function (state) {\n        return Object.assign(Object.assign({}, state), {\n          isPopoverPinned: !state.isPopoverPinned\n        });\n      });\n    }\n  }, {\n    key: \"_getFirstSeriesPoint\",\n    value: function _getFirstSeriesPoint(s) {\n      var seriesIndex = this.series.indexOf(s);\n      var _ref = this.plot.sx[seriesIndex] || [],\n        _ref2 = _slicedToArray(_ref, 1),\n        firstSeriesPoint = _ref2[0];\n      return firstSeriesPoint || null;\n    }\n  }]);\n  return InteractionsStore;\n}(AsyncStore);\nexport { InteractionsStore as default };","map":{"version":3,"mappings":";;;;;AAIA,OAAOA,UAAU,MAAM,gBAAgB;AAEvC,IAAMC,YAAY,GAAGC,MAAM,CAACC,MAAM,CAAC;EACjCC,YAAY,EAAE,IAAI;EAClBC,gBAAgB,EAAE,IAAI;EACtBC,iBAAiB,EAAE,IAAI;EACvBC,YAAY,EAAE,IAAI;EAClBC,eAAe,EAAE;CAClB,CAAC;AAAC,IAEkBC,iBAAsD;EAAA;EAAA;EAMzE,2BAAYC,MAA2C,EAAEC,IAAyC;IAAA;IAAA;IAChG,0BAAMV,YAAY;IAElB,MAAKS,MAAM,GAAGA,MAAM;IACpB,MAAKC,IAAI,GAAGA,IAAI;IAAC;EACnB;EAAC;IAAA;IAAA,OAED,wBAAeC,KAA8B;MAAA;MAC3C,IAAI,CAACC,GAAG,CAAC,eAAK;QAAA,OAAIX,gCACbY,KAAK;UACRV,YAAY,EAAE,MAAI,CAACO,IAAI,CAACI,EAAE,CAACH,KAAK,CAACI,KAAK,CAACC,CAAC,CAAC;UACzCZ,gBAAgB,EAAEO,KAAK;UACvBN,iBAAiB,EAAE,MAAI,CAACI,MAAM,CAACE,KAAK,CAACI,KAAK,CAACE,CAAC,CAAC;UAC7CX,YAAY,EAAE,MAAI,CAACG,MAAM,CAACE,KAAK,CAACI,KAAK,CAACE,CAAC;QAAC;MAAA,CACxC,CAAC;IACL;EAAC;IAAA;IAAA,OAED,oBAAWC,MAA0C;MACnD,IAAI,CAACN,GAAG,CAAC,eAAK;QAAA,OAAIX,gCACbY,KAAK;UACRV,YAAY,EAAEe,MAAM;UACpBd,gBAAgB,EAAE,IAAI;UACtBC,iBAAiB,EAAE,IAAI;UACvBC,YAAY,EAAE;QAAI;MAAA,CAClB,CAAC;IACL;EAAC;IAAA;IAAA,OAED,+BAAmB;MAAA;MACjB,IAAI,CAACM,GAAG,CAAC,eAAK,EAAG;QACf,IAAMH,MAAM,GAAGI,KAAK,CAACP,YAAY,IAAIO,KAAK,CAACR,iBAAiB;QAC5D,IAAMc,gBAAgB,GAAGV,MAAM,IAAI,MAAI,CAACW,oBAAoB,CAACX,MAAM,CAAC;QACpE,IAAME,KAAK,GAAGE,KAAK,CAACT,gBAAgB,IAAIe,gBAAgB,IAAI,MAAI,CAACT,IAAI,CAACW,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,uCACKR,KAAK;UACRV,YAAY,EAAE,MAAI,CAACO,IAAI,CAACI,EAAE,CAACH,KAAK,CAACI,KAAK,CAACC,CAAC,CAAC;UACzCZ,gBAAgB,EAAEO,KAAK;UACvBN,iBAAiB,EAAE,MAAI,CAACI,MAAM,CAACE,KAAK,CAACI,KAAK,CAACE,CAAC,CAAC;UAC7CX,YAAY,EAAE,MAAI,CAACG,MAAM,CAACE,KAAK,CAACI,KAAK,CAACE,CAAC;QAAC;MAE5C,CAAC,CAAC;IACJ;EAAC;IAAA;IAAA,OAED,yBAAgBA,CAAkC;MAChD,IAAI,CAACL,GAAG,CAAC,eAAK;QAAA,OAAIX,gCACbY,KAAK;UACRR,iBAAiB,EAAEY,CAAC;UACpBX,YAAY,EAAEW;QAAC;MAAA,CACf,CAAC;IACL;EAAC;IAAA;IAAA,OAED,0BAAc;MACZ,IAAI,CAACL,GAAG,CAAC,eAAK;QAAA,OAAIX,gCACbY,KAAK;UACRV,YAAY,EAAE,IAAI;UAClBC,gBAAgB,EAAE,IAAI;UACtBC,iBAAiB,EAAE;QAAI;MAAA,CACvB,CAAC;IACL;EAAC;IAAA;IAAA,OACD,kCAAsB;MACpB,IAAI,CAACO,GAAG,CAAC,eAAK;QAAA,OAAIX,gCACbY,KAAK;UACRP,YAAY,EAAE;QAAI;MAAA,CAClB,CAAC;IACL;EAAC;IAAA;IAAA,OAED,sBAAU;MACR,IAAI,CAACM,GAAG,CAAC;QAAA,OAAMZ,YAAY;MAAA,EAAC;IAC9B;EAAC;IAAA;IAAA,OAED,sBAAU;MACR,IAAI,CAACY,GAAG,CAAC,eAAK;QAAA,OAAIX,gCAAMY,KAAK;UAAEN,eAAe,EAAE;QAAI;MAAA,CAAG,CAAC;IAC1D;EAAC;IAAA;IAAA,OAED,wBAAY;MACV,IAAI,CAACK,GAAG,CAAC,eAAK;QAAA,OAAIX,gCAAMY,KAAK;UAAEN,eAAe,EAAE;QAAK;MAAA,CAAG,CAAC;IAC3D;EAAC;IAAA;IAAA,OAED,4BAAgB;MACd,IAAI,CAACK,GAAG,CAAC,eAAK;QAAA,OAAIX,gCAAMY,KAAK;UAAEN,eAAe,EAAE,CAACM,KAAK,CAACN;QAAe;MAAA,CAAG,CAAC;IAC5E;EAAC;IAAA;IAAA,OAED,8BAAqBU,CAA2B;MAC9C,IAAMK,WAAW,GAAG,IAAI,CAACb,MAAM,CAACc,OAAO,CAACN,CAAC,CAAC;MAC1C,WAA2B,IAAI,CAACP,IAAI,CAACW,EAAE,CAACC,WAAW,CAAC,IAAI,EAAE;QAAA;QAAnDH,gBAAgB;MACvB,OAAOA,gBAAgB,IAAI,IAAI;IACjC;EAAC;EAAA;AAAA,EA3FgFpB,UAElF;AAAA,SAFoBS,iBAAsD","names":["AsyncStore","initialState","Object","freeze","highlightedX","highlightedPoint","highlightedSeries","legendSeries","isPopoverPinned","InteractionsStore","series","plot","point","set","state","xy","index","x","s","points","firstSeriesPoint","_getFirstSeriesPoint","sx","seriesIndex","indexOf"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/area-chart/model/lib/default/area-chart/model/interactions-store.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartModel } from './index';\nimport { AreaChartProps } from '../interfaces';\nimport AsyncStore from '../async-store';\n\nconst initialState = Object.freeze({\n  highlightedX: null,\n  highlightedPoint: null,\n  highlightedSeries: null,\n  legendSeries: null,\n  isPopoverPinned: false,\n});\n\nexport default class InteractionsStore<T extends AreaChartProps.DataTypes> extends AsyncStore<\n  ChartModel.InteractionsState<T>\n> {\n  series: readonly AreaChartProps.Series<T>[];\n  plot: ChartModel.ComputedProps<T>['plot'];\n\n  constructor(series: readonly AreaChartProps.Series<T>[], plot: ChartModel.ComputedProps<T>['plot']) {\n    super(initialState);\n\n    this.series = series;\n    this.plot = plot;\n  }\n\n  highlightPoint(point: ChartModel.PlotPoint<T>) {\n    this.set(state => ({\n      ...state,\n      highlightedX: this.plot.xy[point.index.x],\n      highlightedPoint: point,\n      highlightedSeries: this.series[point.index.s],\n      legendSeries: this.series[point.index.s],\n    }));\n  }\n\n  highlightX(points: readonly ChartModel.PlotPoint<T>[]) {\n    this.set(state => ({\n      ...state,\n      highlightedX: points,\n      highlightedPoint: null,\n      highlightedSeries: null,\n      legendSeries: null,\n    }));\n  }\n\n  highlightFirstPoint() {\n    this.set(state => {\n      const series = state.legendSeries || state.highlightedSeries;\n      const firstSeriesPoint = series && this._getFirstSeriesPoint(series);\n      const point = state.highlightedPoint || firstSeriesPoint || this.plot.sx[0][0];\n      return {\n        ...state,\n        highlightedX: this.plot.xy[point.index.x],\n        highlightedPoint: point,\n        highlightedSeries: this.series[point.index.s],\n        legendSeries: this.series[point.index.s],\n      };\n    });\n  }\n\n  highlightSeries(s: null | AreaChartProps.Series<T>) {\n    this.set(state => ({\n      ...state,\n      highlightedSeries: s,\n      legendSeries: s,\n    }));\n  }\n\n  clearHighlight() {\n    this.set(state => ({\n      ...state,\n      highlightedX: null,\n      highlightedPoint: null,\n      highlightedSeries: null,\n    }));\n  }\n  clearHighlightedLegend() {\n    this.set(state => ({\n      ...state,\n      legendSeries: null,\n    }));\n  }\n\n  clearState() {\n    this.set(() => initialState);\n  }\n\n  pinPopover() {\n    this.set(state => ({ ...state, isPopoverPinned: true }));\n  }\n\n  unpinPopover() {\n    this.set(state => ({ ...state, isPopoverPinned: false }));\n  }\n\n  togglePopoverPin() {\n    this.set(state => ({ ...state, isPopoverPinned: !state.isPopoverPinned }));\n  }\n\n  _getFirstSeriesPoint(s: AreaChartProps.Series<T>): null | ChartModel.PlotPoint<T> {\n    const seriesIndex = this.series.indexOf(s);\n    const [firstSeriesPoint] = this.plot.sx[seriesIndex] || [];\n    return firstSeriesPoint || null;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}