{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { __assign } from \"tslib\";\n/**\n * Console Platform's client logging JS API client.\n */\nvar CLogClient = /** @class */function () {\n  function CLogClient() {}\n  /**\n   * Sends metric but only if Console Platform client logging JS API is present in the page.\n   */\n  CLogClient.prototype.sendMetric = function (metricName, value, detail) {\n    if (!metricName || !/^[a-zA-Z0-9_-]{1,32}$/.test(metricName)) {\n      console.error(\"Invalid metric name: \".concat(metricName));\n      return;\n    }\n    if (detail && detail.length > 200) {\n      console.error(\"Detail for metric \".concat(metricName, \" is too long: \").concat(detail));\n      return;\n    }\n    var AWSC = this.findAWSC(window);\n    if (typeof AWSC === 'object' && typeof AWSC.Clog === 'object' && typeof AWSC.Clog.log === 'function') {\n      AWSC.Clog.log(metricName, value, detail);\n    }\n  };\n  CLogClient.prototype.findAWSC = function (currentWindow) {\n    try {\n      if (typeof (currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.AWSC) === 'object') {\n        return currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.AWSC;\n      }\n      if (!currentWindow || currentWindow.parent === currentWindow) {\n        // When the window has no more parents, it references itself\n        return undefined;\n      }\n      return this.findAWSC(currentWindow.parent);\n    } catch (ex) {\n      // Most likely a cross-origin access error\n      return undefined;\n    }\n  };\n  return CLogClient;\n}();\nexport { CLogClient };\n/**\n * Console Platform's client v2 logging JS API client.\n */\nvar PanoramaClient = /** @class */function () {\n  function PanoramaClient() {}\n  /**\n   * Sends metric but only if Console Platform client v2 logging JS API is present in the page.\n   */\n  PanoramaClient.prototype.sendMetric = function (metric) {\n    if (typeof metric.eventDetail === 'object') {\n      metric.eventDetail = JSON.stringify(metric.eventDetail);\n    }\n    if (metric.eventDetail && metric.eventDetail.length > 200) {\n      console.error(\"Detail for metric is too long: \".concat(metric.eventDetail));\n      return;\n    }\n    if (typeof metric.eventValue === 'object') {\n      metric.eventValue = JSON.stringify(metric.eventValue);\n    }\n    var panorama = this.findPanorama(window);\n    if (typeof panorama === 'function') {\n      panorama('trackCustomEvent', __assign(__assign({}, metric), {\n        timestamp: Date.now()\n      }));\n    }\n  };\n  PanoramaClient.prototype.findPanorama = function (currentWindow) {\n    try {\n      if (typeof (currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.panorama) === 'function') {\n        return currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.panorama;\n      }\n      if (!currentWindow || currentWindow.parent === currentWindow) {\n        // When the window has no more parents, it references itself\n        return undefined;\n      }\n      return this.findPanorama(currentWindow.parent);\n    } catch (ex) {\n      // Most likely a cross-origin access error\n      return undefined;\n    }\n  };\n  return PanoramaClient;\n}();\nexport { PanoramaClient };","map":{"version":3,"names":["__assign","CLogClient","prototype","sendMetric","metricName","value","detail","test","console","error","concat","length","AWSC","findAWSC","window","Clog","log","currentWindow","parent","undefined","ex","PanoramaClient","metric","eventDetail","JSON","stringify","eventValue","panorama","findPanorama","timestamp","Date","now"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/component-toolkit/lib/internal/base-component/metrics/log-clients.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { __assign } from \"tslib\";\n/**\n * Console Platform's client logging JS API client.\n */\nvar CLogClient = /** @class */ (function () {\n    function CLogClient() {\n    }\n    /**\n     * Sends metric but only if Console Platform client logging JS API is present in the page.\n     */\n    CLogClient.prototype.sendMetric = function (metricName, value, detail) {\n        if (!metricName || !/^[a-zA-Z0-9_-]{1,32}$/.test(metricName)) {\n            console.error(\"Invalid metric name: \".concat(metricName));\n            return;\n        }\n        if (detail && detail.length > 200) {\n            console.error(\"Detail for metric \".concat(metricName, \" is too long: \").concat(detail));\n            return;\n        }\n        var AWSC = this.findAWSC(window);\n        if (typeof AWSC === 'object' && typeof AWSC.Clog === 'object' && typeof AWSC.Clog.log === 'function') {\n            AWSC.Clog.log(metricName, value, detail);\n        }\n    };\n    CLogClient.prototype.findAWSC = function (currentWindow) {\n        try {\n            if (typeof (currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.AWSC) === 'object') {\n                return currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.AWSC;\n            }\n            if (!currentWindow || currentWindow.parent === currentWindow) {\n                // When the window has no more parents, it references itself\n                return undefined;\n            }\n            return this.findAWSC(currentWindow.parent);\n        }\n        catch (ex) {\n            // Most likely a cross-origin access error\n            return undefined;\n        }\n    };\n    return CLogClient;\n}());\nexport { CLogClient };\n/**\n * Console Platform's client v2 logging JS API client.\n */\nvar PanoramaClient = /** @class */ (function () {\n    function PanoramaClient() {\n    }\n    /**\n     * Sends metric but only if Console Platform client v2 logging JS API is present in the page.\n     */\n    PanoramaClient.prototype.sendMetric = function (metric) {\n        if (typeof metric.eventDetail === 'object') {\n            metric.eventDetail = JSON.stringify(metric.eventDetail);\n        }\n        if (metric.eventDetail && metric.eventDetail.length > 200) {\n            console.error(\"Detail for metric is too long: \".concat(metric.eventDetail));\n            return;\n        }\n        if (typeof metric.eventValue === 'object') {\n            metric.eventValue = JSON.stringify(metric.eventValue);\n        }\n        var panorama = this.findPanorama(window);\n        if (typeof panorama === 'function') {\n            panorama('trackCustomEvent', __assign(__assign({}, metric), { timestamp: Date.now() }));\n        }\n    };\n    PanoramaClient.prototype.findPanorama = function (currentWindow) {\n        try {\n            if (typeof (currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.panorama) === 'function') {\n                return currentWindow === null || currentWindow === void 0 ? void 0 : currentWindow.panorama;\n            }\n            if (!currentWindow || currentWindow.parent === currentWindow) {\n                // When the window has no more parents, it references itself\n                return undefined;\n            }\n            return this.findPanorama(currentWindow.parent);\n        }\n        catch (ex) {\n            // Most likely a cross-origin access error\n            return undefined;\n        }\n    };\n    return PanoramaClient;\n}());\nexport { PanoramaClient };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}