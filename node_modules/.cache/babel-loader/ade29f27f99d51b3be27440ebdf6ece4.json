{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useCallback, useImperativeHandle, useRef } from 'react';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport InternalContainer from '../container/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport ToolsHeader from './tools-header';\nimport Thead from './thead';\nimport { TableBodyCell } from './body-cell';\nimport { supportsStickyPosition } from '../internal/utils/dom';\nimport { checkSortingState, getColumnKey, getItemKey, getVisibleColumnDefinitions, toContainerVariant } from './utils';\nimport { useRowEvents } from './use-row-events';\nimport { SelectionControl, focusMarkers, useSelectionFocusMove, useSelection } from './selection';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { isDevelopment } from '../internal/is-development';\nimport { ColumnWidthsProvider, DEFAULT_COLUMN_WIDTH } from './use-column-widths';\nimport { useScrollSync } from '../internal/hooks/use-scroll-sync';\nimport { ResizeTracker } from './resizer';\nimport styles from './styles.css.js';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport StickyHeader from './sticky-header';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport useMouseDownTarget from '../internal/hooks/use-mouse-down-target';\nimport { useDynamicOverlap } from '../internal/hooks/use-dynamic-overlap';\nimport LiveRegion from '../internal/components/live-region';\nimport useTableFocusNavigation from './use-table-focus-navigation';\nimport { TableTdElement } from './body-cell/td-element';\nimport { useStickyColumns } from './sticky-columns';\nimport { StickyScrollbar } from './sticky-scrollbar';\nimport { checkColumnWidths } from './column-widths-utils';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { getTableRoleProps, getTableRowRoleProps, getTableWrapperRoleProps } from './table-role';\nimport { useCellEditing } from './use-cell-editing';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport { CollectionLabelContext } from '../internal/context/collection-label-context';\nimport { useFunnelSubStep } from '../internal/analytics/hooks/use-funnel';\nimport { NoDataCell } from './node-data-cell';\nconst SELECTION_COLUMN_WIDTH = 54;\nconst selectionColumnId = Symbol('selection-column-id');\nexport const InternalTableAsSubstep = React.forwardRef((props, ref) => {\n  const {\n    funnelSubStepProps\n  } = useFunnelSubStep();\n  const tableProps = Object.assign(Object.assign({}, props), {\n    __funnelSubStepProps: funnelSubStepProps\n  });\n  return React.createElement(InternalTable, Object.assign({}, tableProps, {\n    ref: ref\n  }));\n});\nconst InternalTable = React.forwardRef((_a, ref) => {\n  var _b, _c, _d, _e, _f;\n  var {\n      header,\n      footer,\n      empty,\n      filter,\n      pagination,\n      preferences,\n      items,\n      columnDefinitions,\n      trackBy,\n      loading,\n      loadingText,\n      selectionType,\n      selectedItems,\n      isItemDisabled,\n      ariaLabels,\n      onSelectionChange,\n      onSortingChange,\n      sortingColumn,\n      sortingDescending,\n      sortingDisabled,\n      visibleColumns,\n      stickyHeader,\n      stickyHeaderVerticalOffset,\n      onRowClick,\n      onRowContextMenu,\n      wrapLines,\n      stripedRows,\n      contentDensity,\n      submitEdit,\n      onEditCancel,\n      resizableColumns,\n      onColumnWidthsChange,\n      variant,\n      __internalRootRef,\n      totalItemsCount,\n      firstIndex,\n      renderAriaLive,\n      stickyColumns,\n      columnDisplay,\n      __funnelSubStepProps\n    } = _a,\n    rest = __rest(_a, [\"header\", \"footer\", \"empty\", \"filter\", \"pagination\", \"preferences\", \"items\", \"columnDefinitions\", \"trackBy\", \"loading\", \"loadingText\", \"selectionType\", \"selectedItems\", \"isItemDisabled\", \"ariaLabels\", \"onSelectionChange\", \"onSortingChange\", \"sortingColumn\", \"sortingDescending\", \"sortingDisabled\", \"visibleColumns\", \"stickyHeader\", \"stickyHeaderVerticalOffset\", \"onRowClick\", \"onRowContextMenu\", \"wrapLines\", \"stripedRows\", \"contentDensity\", \"submitEdit\", \"onEditCancel\", \"resizableColumns\", \"onColumnWidthsChange\", \"variant\", \"__internalRootRef\", \"totalItemsCount\", \"firstIndex\", \"renderAriaLive\", \"stickyColumns\", \"columnDisplay\", \"__funnelSubStepProps\"]);\n  const baseProps = getBaseProps(rest);\n  stickyHeader = stickyHeader && supportsStickyPosition();\n  const isMobile = useMobile();\n  const [containerWidth, wrapperMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  const wrapperRefObject = useRef(null);\n  const [tableWidth, tableMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  const tableRefObject = useRef(null);\n  const secondaryWrapperRef = React.useRef(null);\n  const theadRef = useRef(null);\n  const stickyHeaderRef = React.useRef(null);\n  const scrollbarRef = React.useRef(null);\n  const _g = useCellEditing({\n      onCancel: onEditCancel,\n      onSubmit: submitEdit\n    }),\n    {\n      cancelEdit\n    } = _g,\n    cellEditing = __rest(_g, [\"cancelEdit\"]);\n  useImperativeHandle(ref, () => {\n    var _a;\n    return {\n      scrollToTop: ((_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.scrollToTop) || (() => undefined),\n      cancelEdit\n    };\n  }, [cancelEdit]);\n  const handleScroll = useScrollSync([wrapperRefObject, scrollbarRef, secondaryWrapperRef]);\n  const {\n    moveFocusDown,\n    moveFocusUp,\n    moveFocus\n  } = useSelectionFocusMove(selectionType, items.length);\n  const {\n    onRowClickHandler,\n    onRowContextMenuHandler\n  } = useRowEvents({\n    onRowClick,\n    onRowContextMenu\n  });\n  const visibleColumnDefinitions = getVisibleColumnDefinitions({\n    columnDefinitions,\n    columnDisplay,\n    visibleColumns\n  });\n  const {\n    isItemSelected,\n    getSelectAllProps,\n    getItemSelectionProps,\n    updateShiftToggle\n  } = useSelection({\n    items,\n    trackBy,\n    selectedItems,\n    selectionType,\n    isItemDisabled,\n    onSelectionChange,\n    ariaLabels,\n    loading\n  });\n  if (isDevelopment) {\n    if (resizableColumns) {\n      checkColumnWidths(columnDefinitions);\n    }\n    if (sortingColumn === null || sortingColumn === void 0 ? void 0 : sortingColumn.sortingComparator) {\n      checkSortingState(columnDefinitions, sortingColumn.sortingComparator);\n    }\n  }\n  const isVisualRefresh = useVisualRefresh();\n  const computedVariant = isVisualRefresh ? variant : ['embedded', 'full-page'].indexOf(variant) > -1 ? 'container' : variant;\n  const hasHeader = !!(header || filter || pagination || preferences);\n  const hasSelection = !!selectionType;\n  const hasFooterPagination = isMobile && variant === 'full-page' && !!pagination;\n  const hasFooter = !!footer || hasFooterPagination;\n  const headerIdRef = useRef(undefined);\n  const isLabelledByHeader = !(ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel) && !!header;\n  const setHeaderRef = useCallback(id => {\n    headerIdRef.current = id;\n  }, []);\n  const visibleColumnWidthsWithSelection = [];\n  const visibleColumnIdsWithSelection = [];\n  if (hasSelection) {\n    visibleColumnWidthsWithSelection.push({\n      id: selectionColumnId,\n      width: SELECTION_COLUMN_WIDTH\n    });\n    visibleColumnIdsWithSelection.push(selectionColumnId);\n  }\n  for (let columnIndex = 0; columnIndex < visibleColumnDefinitions.length; columnIndex++) {\n    const columnId = getColumnKey(visibleColumnDefinitions[columnIndex], columnIndex);\n    visibleColumnWidthsWithSelection.push(Object.assign(Object.assign({}, visibleColumnDefinitions[columnIndex]), {\n      id: columnId\n    }));\n    visibleColumnIdsWithSelection.push(columnId);\n  }\n  const stickyState = useStickyColumns({\n    visibleColumns: visibleColumnIdsWithSelection,\n    stickyColumnsFirst: ((_b = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) !== null && _b !== void 0 ? _b : 0) + ((stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) && hasSelection ? 1 : 0),\n    stickyColumnsLast: (stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.last) || 0\n  });\n  const hasStickyColumns = !!(((_c = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) !== null && _c !== void 0 ? _c : 0) + ((_d = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.last) !== null && _d !== void 0 ? _d : 0) > 0);\n  const hasEditableCells = !!columnDefinitions.find(col => col.editConfig);\n  const tableRole = hasEditableCells ? 'grid-default' : 'table';\n  const theadProps = {\n    containerWidth,\n    selectionType,\n    getSelectAllProps,\n    columnDefinitions: visibleColumnDefinitions,\n    variant: computedVariant,\n    wrapLines,\n    resizableColumns,\n    sortingColumn,\n    sortingDisabled,\n    sortingDescending,\n    onSortingChange,\n    onFocusMove: moveFocus,\n    onResizeFinish(newWidth) {\n      const widthsDetail = columnDefinitions.map((column, index) => newWidth[getColumnKey(column, index)] || column.width || DEFAULT_COLUMN_WIDTH);\n      const widthsChanged = widthsDetail.some((width, index) => columnDefinitions[index].width !== width);\n      if (widthsChanged) {\n        fireNonCancelableEvent(onColumnWidthsChange, {\n          widths: widthsDetail\n        });\n      }\n    },\n    singleSelectionHeaderAriaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.selectionGroupLabel,\n    stripedRows,\n    stickyState,\n    selectionColumnId,\n    tableRole\n  };\n  const wrapperRef = useMergeRefs(wrapperRefObject, stickyState.refs.wrapper);\n  const tableRef = useMergeRefs(tableMeasureRef, tableRefObject, stickyState.refs.table);\n  const wrapperProps = getTableWrapperRoleProps({\n    tableRole,\n    isScrollable: !!(tableWidth && containerWidth && tableWidth > containerWidth),\n    ariaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel\n  });\n  const getMouseDownTarget = useMouseDownTarget();\n  const hasDynamicHeight = computedVariant === 'full-page';\n  const overlapElement = useDynamicOverlap({\n    disabled: !hasDynamicHeight\n  });\n  useTableFocusNavigation(selectionType, tableRefObject, visibleColumnDefinitions, items === null || items === void 0 ? void 0 : items.length);\n  const toolsHeaderWrapper = useRef(null);\n  // If is mobile, we take into consideration the AppLayout's mobile bar and we subtract the tools wrapper height so only the table header is sticky\n  const toolsHeaderHeight = (_f = (_e = toolsHeaderWrapper === null || toolsHeaderWrapper === void 0 ? void 0 : toolsHeaderWrapper.current) === null || _e === void 0 ? void 0 : _e.getBoundingClientRect().height) !== null && _f !== void 0 ? _f : 0;\n  const totalColumnsCount = selectionType ? visibleColumnDefinitions.length + 1 : visibleColumnDefinitions.length;\n  return React.createElement(LinkDefaultVariantContext.Provider, {\n    value: {\n      defaultVariant: 'primary'\n    }\n  }, React.createElement(ColumnWidthsProvider, {\n    visibleColumns: visibleColumnWidthsWithSelection,\n    resizableColumns: resizableColumns\n  }, React.createElement(InternalContainer, Object.assign({}, baseProps, {\n    __internalRootRef: __internalRootRef,\n    className: clsx(baseProps.className, styles.root),\n    __funnelSubStepProps: __funnelSubStepProps,\n    header: React.createElement(React.Fragment, null, hasHeader && React.createElement(\"div\", {\n      ref: overlapElement,\n      className: clsx(hasDynamicHeight && [styles['dark-header'], 'awsui-context-content-header'])\n    }, React.createElement(\"div\", {\n      ref: toolsHeaderWrapper,\n      className: clsx(styles['header-controls'], styles[`variant-${computedVariant}`])\n    }, React.createElement(CollectionLabelContext.Provider, {\n      value: {\n        assignId: setHeaderRef\n      }\n    }, React.createElement(ToolsHeader, {\n      header: header,\n      filter: filter,\n      pagination: pagination,\n      preferences: preferences\n    })))), stickyHeader && React.createElement(StickyHeader, {\n      ref: stickyHeaderRef,\n      variant: computedVariant,\n      theadProps: theadProps,\n      wrapperRef: wrapperRefObject,\n      theadRef: theadRef,\n      secondaryWrapperRef: secondaryWrapperRef,\n      tableRef: tableRefObject,\n      onScroll: handleScroll,\n      tableHasHeader: hasHeader,\n      contentDensity: contentDensity,\n      tableRole: tableRole\n    })),\n    disableHeaderPaddings: true,\n    disableContentPaddings: true,\n    variant: toContainerVariant(computedVariant),\n    __disableFooterPaddings: true,\n    __disableFooterDivider: true,\n    __disableStickyMobile: false,\n    footer: hasFooter ? React.createElement(\"div\", {\n      className: clsx(styles['footer-wrapper'], styles[`variant-${computedVariant}`])\n    }, React.createElement(\"div\", {\n      className: clsx(styles.footer, hasFooterPagination && styles['footer-with-pagination'])\n    }, footer && React.createElement(\"span\", null, footer), hasFooterPagination && React.createElement(\"div\", {\n      className: styles['footer-pagination']\n    }, pagination))) : null,\n    __stickyHeader: stickyHeader,\n    __mobileStickyOffset: toolsHeaderHeight,\n    __stickyOffset: stickyHeaderVerticalOffset\n  }, focusMarkers.root), React.createElement(\"div\", Object.assign({\n    ref: wrapperRef,\n    className: clsx(styles.wrapper, styles[`variant-${computedVariant}`], {\n      [styles['has-footer']]: hasFooter,\n      [styles['has-header']]: hasHeader\n    }),\n    style: stickyState.style.wrapper,\n    onScroll: handleScroll\n  }, wrapperProps), React.createElement(\"div\", {\n    className: styles['wrapper-content-measure'],\n    ref: wrapperMeasureRef\n  }), !!renderAriaLive && !!firstIndex && React.createElement(LiveRegion, null, React.createElement(\"span\", null, renderAriaLive({\n    totalItemsCount,\n    firstIndex,\n    lastIndex: firstIndex + items.length - 1\n  }))), React.createElement(\"table\", Object.assign({\n    ref: tableRef,\n    className: clsx(styles.table, resizableColumns && styles['table-layout-fixed'], contentDensity === 'compact' && getVisualContextClassname('compact-table'))\n  }, getTableRoleProps({\n    tableRole,\n    totalItemsCount,\n    totalColumnsCount: totalColumnsCount,\n    ariaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel,\n    ariaLabelledBy: isLabelledByHeader && headerIdRef.current ? headerIdRef.current : undefined\n  })), React.createElement(Thead, Object.assign({\n    ref: theadRef,\n    hidden: stickyHeader,\n    onFocusedComponentChange: focusId => {\n      var _a;\n      return (_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.setFocus(focusId);\n    }\n  }, theadProps)), React.createElement(\"tbody\", null, loading || items.length === 0 ? React.createElement(\"tr\", null, React.createElement(NoDataCell, {\n    variant: variant,\n    containerWidth: containerWidth !== null && containerWidth !== void 0 ? containerWidth : 0,\n    totalColumnsCount: totalColumnsCount,\n    hasFooter: hasFooter,\n    loading: loading,\n    loadingText: loadingText,\n    empty: empty,\n    tableRef: tableRefObject\n  })) : items.map((item, rowIndex) => {\n    const firstVisible = rowIndex === 0;\n    const lastVisible = rowIndex === items.length - 1;\n    const isEven = rowIndex % 2 === 0;\n    const isSelected = !!selectionType && isItemSelected(item);\n    const isPrevSelected = !!selectionType && !firstVisible && isItemSelected(items[rowIndex - 1]);\n    const isNextSelected = !!selectionType && !lastVisible && isItemSelected(items[rowIndex + 1]);\n    return React.createElement(\"tr\", Object.assign({\n      key: getItemKey(trackBy, item, rowIndex),\n      className: clsx(styles.row, isSelected && styles['row-selected']),\n      onFocus: _ref => {\n        let {\n          currentTarget\n        } = _ref;\n        var _a;\n        // When an element inside table row receives focus we want to adjust the scroll.\n        // However, that behaviour is unwanted when the focus is received as result of a click\n        // as it causes the click to never reach the target element.\n        if (!currentTarget.contains(getMouseDownTarget())) {\n          (_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.scrollToRow(currentTarget);\n        }\n      }\n    }, focusMarkers.item, {\n      onClick: onRowClickHandler && onRowClickHandler.bind(null, rowIndex, item),\n      onContextMenu: onRowContextMenuHandler && onRowContextMenuHandler.bind(null, rowIndex, item)\n    }, getTableRowRoleProps({\n      tableRole,\n      firstIndex,\n      rowIndex\n    })), selectionType !== undefined && React.createElement(TableTdElement, {\n      className: clsx(styles['selection-control']),\n      isVisualRefresh: isVisualRefresh,\n      isFirstRow: firstVisible,\n      isLastRow: lastVisible,\n      isSelected: isSelected,\n      isNextSelected: isNextSelected,\n      isPrevSelected: isPrevSelected,\n      wrapLines: false,\n      isEvenRow: isEven,\n      stripedRows: stripedRows,\n      hasSelection: hasSelection,\n      hasFooter: hasFooter,\n      stickyState: stickyState,\n      columnId: selectionColumnId,\n      colIndex: 0,\n      tableRole: tableRole\n    }, React.createElement(SelectionControl, Object.assign({\n      onFocusDown: moveFocusDown,\n      onFocusUp: moveFocusUp,\n      onShiftToggle: updateShiftToggle\n    }, getItemSelectionProps(item)))), visibleColumnDefinitions.map((column, colIndex) => {\n      var _a;\n      const isEditing = cellEditing.checkEditing({\n        rowIndex,\n        colIndex\n      });\n      const successfulEdit = cellEditing.checkLastSuccessfulEdit({\n        rowIndex,\n        colIndex\n      });\n      const isEditable = !!column.editConfig && !cellEditing.isLoading;\n      return React.createElement(TableBodyCell, {\n        key: getColumnKey(column, colIndex),\n        style: resizableColumns ? {} : {\n          width: column.width,\n          minWidth: column.minWidth,\n          maxWidth: column.maxWidth\n        },\n        ariaLabels: ariaLabels,\n        column: column,\n        item: item,\n        wrapLines: wrapLines,\n        isEditable: isEditable,\n        isEditing: isEditing,\n        isRowHeader: column.isRowHeader,\n        isFirstRow: firstVisible,\n        isLastRow: lastVisible,\n        isSelected: isSelected,\n        isNextSelected: isNextSelected,\n        isPrevSelected: isPrevSelected,\n        successfulEdit: successfulEdit,\n        onEditStart: () => cellEditing.startEdit({\n          rowIndex,\n          colIndex\n        }),\n        onEditEnd: editCancelled => cellEditing.completeEdit({\n          rowIndex,\n          colIndex\n        }, editCancelled),\n        submitEdit: cellEditing.submitEdit,\n        hasFooter: hasFooter,\n        stripedRows: stripedRows,\n        isEvenRow: isEven,\n        columnId: (_a = column.id) !== null && _a !== void 0 ? _a : colIndex,\n        colIndex: selectionType !== undefined ? colIndex + 1 : colIndex,\n        stickyState: stickyState,\n        isVisualRefresh: isVisualRefresh,\n        tableRole: tableRole\n      });\n    }));\n  }))), resizableColumns && React.createElement(ResizeTracker, null)), React.createElement(StickyScrollbar, {\n    ref: scrollbarRef,\n    wrapperRef: wrapperRefObject,\n    tableRef: tableRefObject,\n    onScroll: handleScroll,\n    hasStickyColumns: hasStickyColumns\n  }))));\n});\nexport default InternalTable;","map":{"version":3,"mappings":"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","names":["clsx","React","useCallback","useImperativeHandle","useRef","getVisualContextClassname","InternalContainer","getBaseProps","ToolsHeader","Thead","TableBodyCell","supportsStickyPosition","checkSortingState","getColumnKey","getItemKey","getVisibleColumnDefinitions","toContainerVariant","useRowEvents","SelectionControl","focusMarkers","useSelectionFocusMove","useSelection","fireNonCancelableEvent","isDevelopment","ColumnWidthsProvider","DEFAULT_COLUMN_WIDTH","useScrollSync","ResizeTracker","styles","useVisualRefresh","StickyHeader","useMergeRefs","useMouseDownTarget","useDynamicOverlap","LiveRegion","useTableFocusNavigation","TableTdElement","useStickyColumns","StickyScrollbar","checkColumnWidths","useMobile","useContainerQuery","getTableRoleProps","getTableRowRoleProps","getTableWrapperRoleProps","useCellEditing","LinkDefaultVariantContext","CollectionLabelContext","useFunnelSubStep","NoDataCell","SELECTION_COLUMN_WIDTH","selectionColumnId","Symbol","InternalTableAsSubstep","forwardRef","props","ref","funnelSubStepProps","tableProps","__funnelSubStepProps","InternalTable","_a","header","footer","empty","filter","pagination","preferences","items","columnDefinitions","trackBy","loading","loadingText","selectionType","selectedItems","isItemDisabled","ariaLabels","onSelectionChange","onSortingChange","sortingColumn","sortingDescending","sortingDisabled","visibleColumns","stickyHeader","stickyHeaderVerticalOffset","onRowClick","onRowContextMenu","wrapLines","stripedRows","contentDensity","submitEdit","onEditCancel","resizableColumns","onColumnWidthsChange","variant","__internalRootRef","totalItemsCount","firstIndex","renderAriaLive","stickyColumns","columnDisplay","rest","baseProps","isMobile","containerWidth","wrapperMeasureRef","rect","contentBoxWidth","wrapperRefObject","tableWidth","tableMeasureRef","tableRefObject","secondaryWrapperRef","theadRef","stickyHeaderRef","scrollbarRef","_g","onCancel","onSubmit","cancelEdit","cellEditing","scrollToTop","current","undefined","handleScroll","moveFocusDown","moveFocusUp","moveFocus","length","onRowClickHandler","onRowContextMenuHandler","visibleColumnDefinitions","isItemSelected","getSelectAllProps","getItemSelectionProps","updateShiftToggle","sortingComparator","isVisualRefresh","computedVariant","indexOf","hasHeader","hasSelection","hasFooterPagination","hasFooter","headerIdRef","isLabelledByHeader","tableLabel","setHeaderRef","id","visibleColumnWidthsWithSelection","visibleColumnIdsWithSelection","push","width","columnIndex","columnId","stickyState","stickyColumnsFirst","first","stickyColumnsLast","last","hasStickyColumns","hasEditableCells","find","col","editConfig","tableRole","theadProps","onFocusMove","onResizeFinish","newWidth","widthsDetail","map","column","index","widthsChanged","some","widths","singleSelectionHeaderAriaLabel","selectionGroupLabel","wrapperRef","refs","wrapper","tableRef","table","wrapperProps","isScrollable","ariaLabel","getMouseDownTarget","hasDynamicHeight","overlapElement","disabled","toolsHeaderWrapper","toolsHeaderHeight","getBoundingClientRect","height","totalColumnsCount","Provider","value","defaultVariant","className","root","assignId","onScroll","tableHasHeader","disableHeaderPaddings","disableContentPaddings","__disableFooterPaddings","__disableFooterDivider","__disableStickyMobile","__stickyHeader","__mobileStickyOffset","__stickyOffset","style","lastIndex","ariaLabelledBy","hidden","onFocusedComponentChange","focusId","setFocus","item","rowIndex","firstVisible","lastVisible","isEven","isSelected","isPrevSelected","isNextSelected","key","row","onFocus","currentTarget","contains","scrollToRow","onClick","bind","onContextMenu","isFirstRow","isLastRow","isEvenRow","colIndex","onFocusDown","onFocusUp","onShiftToggle","isEditing","checkEditing","successfulEdit","checkLastSuccessfulEdit","isEditable","isLoading","minWidth","maxWidth","isRowHeader","onEditStart","startEdit","onEditEnd","editCancelled","completeEdit"],"sources":["/Users/tangyizhi/Desktop/Assignment 2/frontend/node_modules/@cloudscape-design/components/table/lib/default/table/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useCallback, useImperativeHandle, useRef } from 'react';\nimport { TableForwardRefType, TableProps } from './interfaces';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport InternalContainer, { InternalContainerProps } from '../container/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport ToolsHeader from './tools-header';\nimport Thead, { TheadProps } from './thead';\nimport { TableBodyCell } from './body-cell';\nimport { supportsStickyPosition } from '../internal/utils/dom';\nimport { checkSortingState, getColumnKey, getItemKey, getVisibleColumnDefinitions, toContainerVariant } from './utils';\nimport { useRowEvents } from './use-row-events';\nimport { SelectionControl, focusMarkers, useSelectionFocusMove, useSelection } from './selection';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { isDevelopment } from '../internal/is-development';\nimport { ColumnWidthDefinition, ColumnWidthsProvider, DEFAULT_COLUMN_WIDTH } from './use-column-widths';\nimport { useScrollSync } from '../internal/hooks/use-scroll-sync';\nimport { ResizeTracker } from './resizer';\nimport styles from './styles.css.js';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport StickyHeader, { StickyHeaderRef } from './sticky-header';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport useMouseDownTarget from '../internal/hooks/use-mouse-down-target';\nimport { useDynamicOverlap } from '../internal/hooks/use-dynamic-overlap';\nimport LiveRegion from '../internal/components/live-region';\nimport useTableFocusNavigation from './use-table-focus-navigation';\nimport { SomeRequired } from '../internal/types';\nimport { TableTdElement } from './body-cell/td-element';\nimport { useStickyColumns } from './sticky-columns';\nimport { StickyScrollbar } from './sticky-scrollbar';\nimport { checkColumnWidths } from './column-widths-utils';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { getTableRoleProps, getTableRowRoleProps, getTableWrapperRoleProps } from './table-role';\nimport { useCellEditing } from './use-cell-editing';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport { CollectionLabelContext } from '../internal/context/collection-label-context';\nimport { useFunnelSubStep } from '../internal/analytics/hooks/use-funnel';\nimport { NoDataCell } from './node-data-cell';\n\nconst SELECTION_COLUMN_WIDTH = 54;\nconst selectionColumnId = Symbol('selection-column-id');\n\ntype InternalTableProps<T> = SomeRequired<TableProps<T>, 'items' | 'selectedItems' | 'variant'> &\n  InternalBaseComponentProps & {\n    __funnelSubStepProps?: InternalContainerProps['__funnelSubStepProps'];\n  };\n\nexport const InternalTableAsSubstep = React.forwardRef(\n  <T,>(props: InternalTableProps<T>, ref: React.Ref<TableProps.Ref>) => {\n    const { funnelSubStepProps } = useFunnelSubStep();\n\n    const tableProps: InternalTableProps<T> = {\n      ...props,\n      __funnelSubStepProps: funnelSubStepProps,\n    };\n\n    return <InternalTable {...tableProps} ref={ref} />;\n  }\n) as TableForwardRefType;\n\nconst InternalTable = React.forwardRef(\n  <T,>(\n    {\n      header,\n      footer,\n      empty,\n      filter,\n      pagination,\n      preferences,\n      items,\n      columnDefinitions,\n      trackBy,\n      loading,\n      loadingText,\n      selectionType,\n      selectedItems,\n      isItemDisabled,\n      ariaLabels,\n      onSelectionChange,\n      onSortingChange,\n      sortingColumn,\n      sortingDescending,\n      sortingDisabled,\n      visibleColumns,\n      stickyHeader,\n      stickyHeaderVerticalOffset,\n      onRowClick,\n      onRowContextMenu,\n      wrapLines,\n      stripedRows,\n      contentDensity,\n      submitEdit,\n      onEditCancel,\n      resizableColumns,\n      onColumnWidthsChange,\n      variant,\n      __internalRootRef,\n      totalItemsCount,\n      firstIndex,\n      renderAriaLive,\n      stickyColumns,\n      columnDisplay,\n      __funnelSubStepProps,\n      ...rest\n    }: InternalTableProps<T>,\n    ref: React.Ref<TableProps.Ref>\n  ) => {\n    const baseProps = getBaseProps(rest);\n    stickyHeader = stickyHeader && supportsStickyPosition();\n    const isMobile = useMobile();\n\n    const [containerWidth, wrapperMeasureRef] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n    const wrapperRefObject = useRef(null);\n\n    const [tableWidth, tableMeasureRef] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n    const tableRefObject = useRef(null);\n\n    const secondaryWrapperRef = React.useRef<HTMLDivElement>(null);\n    const theadRef = useRef<HTMLTableRowElement>(null);\n    const stickyHeaderRef = React.useRef<StickyHeaderRef>(null);\n    const scrollbarRef = React.useRef<HTMLDivElement>(null);\n    const { cancelEdit, ...cellEditing } = useCellEditing({ onCancel: onEditCancel, onSubmit: submitEdit });\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        scrollToTop: stickyHeaderRef.current?.scrollToTop || (() => undefined),\n        cancelEdit,\n      }),\n      [cancelEdit]\n    );\n\n    const handleScroll = useScrollSync([wrapperRefObject, scrollbarRef, secondaryWrapperRef]);\n\n    const { moveFocusDown, moveFocusUp, moveFocus } = useSelectionFocusMove(selectionType, items.length);\n    const { onRowClickHandler, onRowContextMenuHandler } = useRowEvents({ onRowClick, onRowContextMenu });\n\n    const visibleColumnDefinitions = getVisibleColumnDefinitions({\n      columnDefinitions,\n      columnDisplay,\n      visibleColumns,\n    });\n\n    const { isItemSelected, getSelectAllProps, getItemSelectionProps, updateShiftToggle } = useSelection({\n      items,\n      trackBy,\n      selectedItems,\n      selectionType,\n      isItemDisabled,\n      onSelectionChange,\n      ariaLabels,\n      loading,\n    });\n\n    if (isDevelopment) {\n      if (resizableColumns) {\n        checkColumnWidths(columnDefinitions);\n      }\n      if (sortingColumn?.sortingComparator) {\n        checkSortingState(columnDefinitions, sortingColumn.sortingComparator);\n      }\n    }\n\n    const isVisualRefresh = useVisualRefresh();\n    const computedVariant = isVisualRefresh\n      ? variant\n      : ['embedded', 'full-page'].indexOf(variant) > -1\n      ? 'container'\n      : variant;\n    const hasHeader = !!(header || filter || pagination || preferences);\n    const hasSelection = !!selectionType;\n    const hasFooterPagination = isMobile && variant === 'full-page' && !!pagination;\n    const hasFooter = !!footer || hasFooterPagination;\n\n    const headerIdRef = useRef<string | undefined>(undefined);\n    const isLabelledByHeader = !ariaLabels?.tableLabel && !!header;\n    const setHeaderRef = useCallback((id: string) => {\n      headerIdRef.current = id;\n    }, []);\n\n    const visibleColumnWidthsWithSelection: ColumnWidthDefinition[] = [];\n    const visibleColumnIdsWithSelection: PropertyKey[] = [];\n    if (hasSelection) {\n      visibleColumnWidthsWithSelection.push({ id: selectionColumnId, width: SELECTION_COLUMN_WIDTH });\n      visibleColumnIdsWithSelection.push(selectionColumnId);\n    }\n    for (let columnIndex = 0; columnIndex < visibleColumnDefinitions.length; columnIndex++) {\n      const columnId = getColumnKey(visibleColumnDefinitions[columnIndex], columnIndex);\n      visibleColumnWidthsWithSelection.push({ ...visibleColumnDefinitions[columnIndex], id: columnId });\n      visibleColumnIdsWithSelection.push(columnId);\n    }\n\n    const stickyState = useStickyColumns({\n      visibleColumns: visibleColumnIdsWithSelection,\n      stickyColumnsFirst: (stickyColumns?.first ?? 0) + (stickyColumns?.first && hasSelection ? 1 : 0),\n      stickyColumnsLast: stickyColumns?.last || 0,\n    });\n\n    const hasStickyColumns = !!((stickyColumns?.first ?? 0) + (stickyColumns?.last ?? 0) > 0);\n    const hasEditableCells = !!columnDefinitions.find(col => col.editConfig);\n    const tableRole = hasEditableCells ? 'grid-default' : 'table';\n\n    const theadProps: TheadProps = {\n      containerWidth,\n      selectionType,\n      getSelectAllProps,\n      columnDefinitions: visibleColumnDefinitions,\n      variant: computedVariant,\n      wrapLines,\n      resizableColumns,\n      sortingColumn,\n      sortingDisabled,\n      sortingDescending,\n      onSortingChange,\n      onFocusMove: moveFocus,\n      onResizeFinish(newWidth) {\n        const widthsDetail = columnDefinitions.map(\n          (column, index) => newWidth[getColumnKey(column, index)] || (column.width as number) || DEFAULT_COLUMN_WIDTH\n        );\n        const widthsChanged = widthsDetail.some((width, index) => columnDefinitions[index].width !== width);\n        if (widthsChanged) {\n          fireNonCancelableEvent(onColumnWidthsChange, { widths: widthsDetail });\n        }\n      },\n      singleSelectionHeaderAriaLabel: ariaLabels?.selectionGroupLabel,\n      stripedRows,\n      stickyState,\n      selectionColumnId,\n      tableRole,\n    };\n\n    const wrapperRef = useMergeRefs(wrapperRefObject, stickyState.refs.wrapper);\n    const tableRef = useMergeRefs(tableMeasureRef, tableRefObject, stickyState.refs.table);\n\n    const wrapperProps = getTableWrapperRoleProps({\n      tableRole,\n      isScrollable: !!(tableWidth && containerWidth && tableWidth > containerWidth),\n      ariaLabel: ariaLabels?.tableLabel,\n    });\n\n    const getMouseDownTarget = useMouseDownTarget();\n\n    const hasDynamicHeight = computedVariant === 'full-page';\n    const overlapElement = useDynamicOverlap({ disabled: !hasDynamicHeight });\n    useTableFocusNavigation(selectionType, tableRefObject, visibleColumnDefinitions, items?.length);\n    const toolsHeaderWrapper = useRef(null);\n    // If is mobile, we take into consideration the AppLayout's mobile bar and we subtract the tools wrapper height so only the table header is sticky\n    const toolsHeaderHeight =\n      (toolsHeaderWrapper?.current as HTMLDivElement | null)?.getBoundingClientRect().height ?? 0;\n\n    const totalColumnsCount = selectionType ? visibleColumnDefinitions.length + 1 : visibleColumnDefinitions.length;\n\n    return (\n      <LinkDefaultVariantContext.Provider value={{ defaultVariant: 'primary' }}>\n        <ColumnWidthsProvider visibleColumns={visibleColumnWidthsWithSelection} resizableColumns={resizableColumns}>\n          <InternalContainer\n            {...baseProps}\n            __internalRootRef={__internalRootRef}\n            className={clsx(baseProps.className, styles.root)}\n            __funnelSubStepProps={__funnelSubStepProps}\n            header={\n              <>\n                {hasHeader && (\n                  <div\n                    ref={overlapElement}\n                    className={clsx(hasDynamicHeight && [styles['dark-header'], 'awsui-context-content-header'])}\n                  >\n                    <div\n                      ref={toolsHeaderWrapper}\n                      className={clsx(styles['header-controls'], styles[`variant-${computedVariant}`])}\n                    >\n                      <CollectionLabelContext.Provider value={{ assignId: setHeaderRef }}>\n                        <ToolsHeader\n                          header={header}\n                          filter={filter}\n                          pagination={pagination}\n                          preferences={preferences}\n                        />\n                      </CollectionLabelContext.Provider>\n                    </div>\n                  </div>\n                )}\n                {stickyHeader && (\n                  <StickyHeader\n                    ref={stickyHeaderRef}\n                    variant={computedVariant}\n                    theadProps={theadProps}\n                    wrapperRef={wrapperRefObject}\n                    theadRef={theadRef}\n                    secondaryWrapperRef={secondaryWrapperRef}\n                    tableRef={tableRefObject}\n                    onScroll={handleScroll}\n                    tableHasHeader={hasHeader}\n                    contentDensity={contentDensity}\n                    tableRole={tableRole}\n                  />\n                )}\n              </>\n            }\n            disableHeaderPaddings={true}\n            disableContentPaddings={true}\n            variant={toContainerVariant(computedVariant)}\n            __disableFooterPaddings={true}\n            __disableFooterDivider={true}\n            __disableStickyMobile={false}\n            footer={\n              hasFooter ? (\n                <div className={clsx(styles['footer-wrapper'], styles[`variant-${computedVariant}`])}>\n                  <div className={clsx(styles.footer, hasFooterPagination && styles['footer-with-pagination'])}>\n                    {footer && <span>{footer}</span>}\n                    {hasFooterPagination && <div className={styles['footer-pagination']}>{pagination}</div>}\n                  </div>\n                </div>\n              ) : null\n            }\n            __stickyHeader={stickyHeader}\n            __mobileStickyOffset={toolsHeaderHeight}\n            __stickyOffset={stickyHeaderVerticalOffset}\n            {...focusMarkers.root}\n          >\n            <div\n              ref={wrapperRef}\n              className={clsx(styles.wrapper, styles[`variant-${computedVariant}`], {\n                [styles['has-footer']]: hasFooter,\n                [styles['has-header']]: hasHeader,\n              })}\n              style={stickyState.style.wrapper}\n              onScroll={handleScroll}\n              {...wrapperProps}\n            >\n              <div className={styles['wrapper-content-measure']} ref={wrapperMeasureRef}></div>\n              {!!renderAriaLive && !!firstIndex && (\n                <LiveRegion>\n                  <span>\n                    {renderAriaLive({ totalItemsCount, firstIndex, lastIndex: firstIndex + items.length - 1 })}\n                  </span>\n                </LiveRegion>\n              )}\n              <table\n                ref={tableRef}\n                className={clsx(\n                  styles.table,\n                  resizableColumns && styles['table-layout-fixed'],\n                  contentDensity === 'compact' && getVisualContextClassname('compact-table')\n                )}\n                {...getTableRoleProps({\n                  tableRole,\n                  totalItemsCount,\n                  totalColumnsCount: totalColumnsCount,\n                  ariaLabel: ariaLabels?.tableLabel,\n                  ariaLabelledBy: isLabelledByHeader && headerIdRef.current ? headerIdRef.current : undefined,\n                })}\n              >\n                <Thead\n                  ref={theadRef}\n                  hidden={stickyHeader}\n                  onFocusedComponentChange={focusId => stickyHeaderRef.current?.setFocus(focusId)}\n                  {...theadProps}\n                />\n                <tbody>\n                  {loading || items.length === 0 ? (\n                    <tr>\n                      <NoDataCell\n                        variant={variant}\n                        containerWidth={containerWidth ?? 0}\n                        totalColumnsCount={totalColumnsCount}\n                        hasFooter={hasFooter}\n                        loading={loading}\n                        loadingText={loadingText}\n                        empty={empty}\n                        tableRef={tableRefObject}\n                      />\n                    </tr>\n                  ) : (\n                    items.map((item, rowIndex) => {\n                      const firstVisible = rowIndex === 0;\n                      const lastVisible = rowIndex === items.length - 1;\n                      const isEven = rowIndex % 2 === 0;\n                      const isSelected = !!selectionType && isItemSelected(item);\n                      const isPrevSelected = !!selectionType && !firstVisible && isItemSelected(items[rowIndex - 1]);\n                      const isNextSelected = !!selectionType && !lastVisible && isItemSelected(items[rowIndex + 1]);\n                      return (\n                        <tr\n                          key={getItemKey(trackBy, item, rowIndex)}\n                          className={clsx(styles.row, isSelected && styles['row-selected'])}\n                          onFocus={({ currentTarget }) => {\n                            // When an element inside table row receives focus we want to adjust the scroll.\n                            // However, that behaviour is unwanted when the focus is received as result of a click\n                            // as it causes the click to never reach the target element.\n                            if (!currentTarget.contains(getMouseDownTarget())) {\n                              stickyHeaderRef.current?.scrollToRow(currentTarget);\n                            }\n                          }}\n                          {...focusMarkers.item}\n                          onClick={onRowClickHandler && onRowClickHandler.bind(null, rowIndex, item)}\n                          onContextMenu={onRowContextMenuHandler && onRowContextMenuHandler.bind(null, rowIndex, item)}\n                          {...getTableRowRoleProps({ tableRole, firstIndex, rowIndex })}\n                        >\n                          {selectionType !== undefined && (\n                            <TableTdElement\n                              className={clsx(styles['selection-control'])}\n                              isVisualRefresh={isVisualRefresh}\n                              isFirstRow={firstVisible}\n                              isLastRow={lastVisible}\n                              isSelected={isSelected}\n                              isNextSelected={isNextSelected}\n                              isPrevSelected={isPrevSelected}\n                              wrapLines={false}\n                              isEvenRow={isEven}\n                              stripedRows={stripedRows}\n                              hasSelection={hasSelection}\n                              hasFooter={hasFooter}\n                              stickyState={stickyState}\n                              columnId={selectionColumnId}\n                              colIndex={0}\n                              tableRole={tableRole}\n                            >\n                              <SelectionControl\n                                onFocusDown={moveFocusDown}\n                                onFocusUp={moveFocusUp}\n                                onShiftToggle={updateShiftToggle}\n                                {...getItemSelectionProps(item)}\n                              />\n                            </TableTdElement>\n                          )}\n                          {visibleColumnDefinitions.map((column, colIndex) => {\n                            const isEditing = cellEditing.checkEditing({ rowIndex, colIndex });\n                            const successfulEdit = cellEditing.checkLastSuccessfulEdit({ rowIndex, colIndex });\n                            const isEditable = !!column.editConfig && !cellEditing.isLoading;\n                            return (\n                              <TableBodyCell\n                                key={getColumnKey(column, colIndex)}\n                                style={\n                                  resizableColumns\n                                    ? {}\n                                    : {\n                                        width: column.width,\n                                        minWidth: column.minWidth,\n                                        maxWidth: column.maxWidth,\n                                      }\n                                }\n                                ariaLabels={ariaLabels}\n                                column={column}\n                                item={item}\n                                wrapLines={wrapLines}\n                                isEditable={isEditable}\n                                isEditing={isEditing}\n                                isRowHeader={column.isRowHeader}\n                                isFirstRow={firstVisible}\n                                isLastRow={lastVisible}\n                                isSelected={isSelected}\n                                isNextSelected={isNextSelected}\n                                isPrevSelected={isPrevSelected}\n                                successfulEdit={successfulEdit}\n                                onEditStart={() => cellEditing.startEdit({ rowIndex, colIndex })}\n                                onEditEnd={editCancelled =>\n                                  cellEditing.completeEdit({ rowIndex, colIndex }, editCancelled)\n                                }\n                                submitEdit={cellEditing.submitEdit}\n                                hasFooter={hasFooter}\n                                stripedRows={stripedRows}\n                                isEvenRow={isEven}\n                                columnId={column.id ?? colIndex}\n                                colIndex={selectionType !== undefined ? colIndex + 1 : colIndex}\n                                stickyState={stickyState}\n                                isVisualRefresh={isVisualRefresh}\n                                tableRole={tableRole}\n                              />\n                            );\n                          })}\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n              {resizableColumns && <ResizeTracker />}\n            </div>\n\n            <StickyScrollbar\n              ref={scrollbarRef}\n              wrapperRef={wrapperRefObject}\n              tableRef={tableRefObject}\n              onScroll={handleScroll}\n              hasStickyColumns={hasStickyColumns}\n            />\n          </InternalContainer>\n        </ColumnWidthsProvider>\n      </LinkDefaultVariantContext.Provider>\n    );\n  }\n) as TableForwardRefType;\n\nexport default InternalTable;\n"]},"metadata":{},"sourceType":"module"}