{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useLayoutEffect, useState } from 'react';\nimport { findUpUntil } from '../../utils/dom';\nconst contextMatch = /awsui-context-([\\w-]+)/;\nexport function useVisualContext(elementRef) {\n  const [value, setValue] = useState('');\n  useLayoutEffect(() => {\n    var _a;\n    if (elementRef.current) {\n      const contextParent = findUpUntil(elementRef.current, node => !!node.className.match(contextMatch));\n      setValue((_a = contextParent === null || contextParent === void 0 ? void 0 : contextParent.className.match(contextMatch)[1]) !== null && _a !== void 0 ? _a : '');\n    }\n  }, [elementRef]);\n  return value;\n}\n/**\n * This function returns only the className string needed to apply a\n * visual context to the DOM. It is used by the default export but\n * can also be imported directly for situations where the insertion\n * of a <div> node creates style problems.\n */\nexport function getVisualContextClassname(contextName) {\n  return `awsui-context-${contextName}`;\n}\nexport default function VisualContext(_ref) {\n  let {\n    contextName,\n    className,\n    children\n  } = _ref;\n  return React.createElement(\"div\", {\n    className: clsx(getVisualContextClassname(contextName), className)\n  }, children);\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,IAAIC,eAAe,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,WAAW,QAAQ,iBAAiB;AAQ7C,MAAMC,YAAY,GAAG,wBAAwB;AAE7C,OAAM,SAAUC,gBAAgB,CAACC,UAAwC;EACvE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAEtCD,eAAe,CAAC,MAAK;;IACnB,IAAIK,UAAU,CAACG,OAAO,EAAE;MACtB,MAAMC,aAAa,GAAGP,WAAW,CAACG,UAAU,CAACG,OAAO,EAAEE,IAAI,IAAI,CAAC,CAACA,IAAI,CAACC,SAAS,CAACC,KAAK,CAACT,YAAY,CAAC,CAAC;MACnGI,QAAQ,CAAC,mBAAa,aAAbE,aAAa,uBAAbA,aAAa,CAAEE,SAAS,CAACC,KAAK,CAACT,YAAY,EAAG,CAAC,CAAC,mCAAI,EAAE,CAAC;;EAEpE,CAAC,EAAE,CAACE,UAAU,CAAC,CAAC;EAEhB,OAAOC,KAAK;AACd;AAEA;;;;;;AAMA,OAAM,SAAUO,yBAAyB,CAACC,WAAmB;EAC3D,OAAO,iBAAiBA,WAAW,EAAE;AACvC;AAEA,eAAc,SAAUC,aAAa,OAAyD;EAAA,IAAxD;IAAED,WAAW;IAAEH,SAAS;IAAEK;EAAQ,CAAsB;EAC5F,OAAOjB;IAAKY,SAAS,EAAEb,IAAI,CAACe,yBAAyB,CAACC,WAAW,CAAC,EAAEH,SAAS;EAAC,GAAGK,QAAQ,CAAO;AAClG","names":["clsx","React","useLayoutEffect","useState","findUpUntil","contextMatch","useVisualContext","elementRef","value","setValue","current","contextParent","node","className","match","getVisualContextClassname","contextName","VisualContext","children"],"sources":["/Users/tangyizhi/Desktop/Assignment 2/frontend/node_modules/@cloudscape-design/components/internal/components/visual-context/lib/default/internal/components/visual-context/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useLayoutEffect, useState } from 'react';\nimport { findUpUntil } from '../../utils/dom';\n\ninterface VisualContextProps {\n  contextName: string;\n  className?: string;\n  children: React.ReactNode;\n}\n\nconst contextMatch = /awsui-context-([\\w-]+)/;\n\nexport function useVisualContext(elementRef: React.RefObject<HTMLElement>) {\n  const [value, setValue] = useState('');\n\n  useLayoutEffect(() => {\n    if (elementRef.current) {\n      const contextParent = findUpUntil(elementRef.current, node => !!node.className.match(contextMatch));\n      setValue(contextParent?.className.match(contextMatch)![1] ?? '');\n    }\n  }, [elementRef]);\n\n  return value;\n}\n\n/**\n * This function returns only the className string needed to apply a\n * visual context to the DOM. It is used by the default export but\n * can also be imported directly for situations where the insertion\n * of a <div> node creates style problems.\n */\nexport function getVisualContextClassname(contextName: string) {\n  return `awsui-context-${contextName}`;\n}\n\nexport default function VisualContext({ contextName, className, children }: VisualContextProps) {\n  return <div className={clsx(getVisualContextClassname(contextName), className)}>{children}</div>;\n}\n"]},"metadata":{},"sourceType":"module"}