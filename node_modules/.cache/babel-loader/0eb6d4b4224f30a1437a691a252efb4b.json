{"ast":null,"code":"import _defineProperty from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport { getBaseProps } from '../internal/base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { applyDefaults } from './defaults';\nimport { Notifications } from './notifications';\nimport { MobileToolbar } from './mobile-toolbar';\nimport { useFocusControl } from './utils/use-focus-control';\nimport useWindowWidth from './utils/use-window-width';\nimport useContentHeight from './utils/use-content-height';\nimport styles from './styles.css.js';\nimport testutilStyles from './test-classes/styles.css.js';\nimport { findUpUntil } from '../internal/utils/dom';\nimport { AppLayoutContext } from '../internal/context/app-layout-context';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { CONSTRAINED_MAIN_PANEL_MIN_HEIGHT, CONSTRAINED_PAGE_HEIGHT, getSplitPanelDefaultSize, MAIN_PANEL_MIN_HEIGHT } from '../split-panel/utils/size-utils';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport ContentWrapper from './content-wrapper';\nimport { Drawer, DrawerTriggersBar } from './drawer';\nimport { ResizableDrawer } from './drawer/resizable-drawer';\nimport { SplitPanelProvider, SideSplitPanelDrawer } from './split-panel';\nimport useAppLayoutOffsets from './utils/use-content-width';\nimport { isDevelopment } from '../internal/is-development';\nimport { useStableCallback, warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport RefreshedAppLayout from './visual-refresh';\nimport { useInternalI18n } from '../i18n/context';\nimport { useSplitPanelFocusControl } from './utils/use-split-panel-focus-control';\nimport { useDrawerFocusControl } from './utils/use-drawer-focus-control';\nimport { TOOLS_DRAWER_ID, useDrawers } from './utils/use-drawers';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nvar AppLayout = React.forwardRef(function (_a, ref) {\n  var _b, _c, _d, _e, _f, _g, _h;\n  var _a$contentType = _a.contentType,\n    contentType = _a$contentType === void 0 ? 'default' : _a$contentType,\n    _a$headerSelector = _a.headerSelector,\n    headerSelector = _a$headerSelector === void 0 ? '#b #h' : _a$headerSelector,\n    _a$footerSelector = _a.footerSelector,\n    footerSelector = _a$footerSelector === void 0 ? '#b #f' : _a$footerSelector,\n    rest = __rest(_a, [\"contentType\", \"headerSelector\", \"footerSelector\"]);\n  var _useBaseComponent = useBaseComponent('AppLayout'),\n    __internalRootRef = _useBaseComponent.__internalRootRef;\n  var isRefresh = useVisualRefresh();\n  var i18n = useInternalI18n('app-layout');\n  var ariaLabels = {\n    navigation: i18n('ariaLabels.navigation', (_b = rest.ariaLabels) === null || _b === void 0 ? void 0 : _b.navigation),\n    navigationClose: i18n('ariaLabels.navigationClose', (_c = rest.ariaLabels) === null || _c === void 0 ? void 0 : _c.navigationClose),\n    navigationToggle: i18n('ariaLabels.navigationToggle', (_d = rest.ariaLabels) === null || _d === void 0 ? void 0 : _d.navigationToggle),\n    notifications: i18n('ariaLabels.notifications', (_e = rest.ariaLabels) === null || _e === void 0 ? void 0 : _e.notifications),\n    tools: i18n('ariaLabels.tools', (_f = rest.ariaLabels) === null || _f === void 0 ? void 0 : _f.tools),\n    toolsClose: i18n('ariaLabels.toolsClose', (_g = rest.ariaLabels) === null || _g === void 0 ? void 0 : _g.toolsClose),\n    toolsToggle: i18n('ariaLabels.toolsToggle', (_h = rest.ariaLabels) === null || _h === void 0 ? void 0 : _h.toolsToggle)\n  };\n  // This re-builds the props including the default values\n  var props = Object.assign(Object.assign({\n    contentType: contentType,\n    headerSelector: headerSelector,\n    footerSelector: footerSelector\n  }, rest), {\n    ariaLabels: ariaLabels\n  });\n  var baseProps = getBaseProps(rest);\n  return React.createElement(\"div\", Object.assign({\n    ref: __internalRootRef\n  }, baseProps), isRefresh ? React.createElement(RefreshedAppLayout, Object.assign({}, props, {\n    ref: ref\n  })) : React.createElement(OldAppLayout, Object.assign({}, props, {\n    ref: ref\n  })));\n});\nvar OldAppLayout = React.forwardRef(function (_a, ref) {\n  var _clsx;\n  var _b, _c;\n  var navigation = _a.navigation,\n    _a$navigationWidth = _a.navigationWidth,\n    navigationWidth = _a$navigationWidth === void 0 ? 280 : _a$navigationWidth,\n    navigationHide = _a.navigationHide,\n    controlledNavigationOpen = _a.navigationOpen,\n    tools = _a.tools,\n    _a$toolsWidth = _a.toolsWidth,\n    toolsWidth = _a$toolsWidth === void 0 ? 290 : _a$toolsWidth,\n    toolsHide = _a.toolsHide,\n    controlledToolsOpen = _a.toolsOpen,\n    breadcrumbs = _a.breadcrumbs,\n    notifications = _a.notifications,\n    stickyNotifications = _a.stickyNotifications,\n    contentHeader = _a.contentHeader,\n    disableContentHeaderOverlap = _a.disableContentHeaderOverlap,\n    content = _a.content,\n    _a$contentType2 = _a.contentType,\n    contentType = _a$contentType2 === void 0 ? 'default' : _a$contentType2,\n    disableContentPaddings = _a.disableContentPaddings,\n    disableBodyScroll = _a.disableBodyScroll,\n    maxContentWidth = _a.maxContentWidth,\n    minContentWidth = _a.minContentWidth,\n    _a$headerSelector2 = _a.headerSelector,\n    headerSelector = _a$headerSelector2 === void 0 ? '#b #h' : _a$headerSelector2,\n    _a$footerSelector2 = _a.footerSelector,\n    footerSelector = _a$footerSelector2 === void 0 ? '#b #f' : _a$footerSelector2,\n    ariaLabels = _a.ariaLabels,\n    splitPanel = _a.splitPanel,\n    controlledSplitPanelSize = _a.splitPanelSize,\n    controlledSplitPanelOpen = _a.splitPanelOpen,\n    controlledSplitPanelPreferences = _a.splitPanelPreferences,\n    onSplitPanelPreferencesChange = _a.onSplitPanelPreferencesChange,\n    onSplitPanelResize = _a.onSplitPanelResize,\n    onSplitPanelToggle = _a.onSplitPanelToggle,\n    onNavigationChange = _a.onNavigationChange,\n    onToolsChange = _a.onToolsChange,\n    props = __rest(_a, [\"navigation\", \"navigationWidth\", \"navigationHide\", \"navigationOpen\", \"tools\", \"toolsWidth\", \"toolsHide\", \"toolsOpen\", \"breadcrumbs\", \"notifications\", \"stickyNotifications\", \"contentHeader\", \"disableContentHeaderOverlap\", \"content\", \"contentType\", \"disableContentPaddings\", \"disableBodyScroll\", \"maxContentWidth\", \"minContentWidth\", \"headerSelector\", \"footerSelector\", \"ariaLabels\", \"splitPanel\", \"splitPanelSize\", \"splitPanelOpen\", \"splitPanelPreferences\", \"onSplitPanelPreferencesChange\", \"onSplitPanelResize\", \"onSplitPanelToggle\", \"onNavigationChange\", \"onToolsChange\"]);\n  if (isDevelopment) {\n    if (controlledToolsOpen && toolsHide) {\n      warnOnce('AppLayout', \"You have enabled both the `toolsOpen` prop and the `toolsHide` prop. This is not supported. Set `toolsOpen` to `false` when you set `toolsHide` to `true`.\");\n    }\n  }\n  var rootRef = useRef(null);\n  var isMobile = useMobile();\n  var defaults = applyDefaults(contentType, {\n    maxContentWidth: maxContentWidth,\n    minContentWidth: minContentWidth\n  }, false);\n  var _useControllable = useControllable(controlledNavigationOpen, onNavigationChange, isMobile ? false : defaults.navigationOpen, {\n      componentName: 'AppLayout',\n      controlledProp: 'navigationOpen',\n      changeHandler: 'onNavigationChange'\n    }),\n    _useControllable2 = _slicedToArray(_useControllable, 2),\n    _useControllable2$ = _useControllable2[0],\n    navigationOpen = _useControllable2$ === void 0 ? false : _useControllable2$,\n    setNavigationOpen = _useControllable2[1];\n  var _useControllable3 = useControllable(controlledToolsOpen, onToolsChange, isMobile ? false : defaults.toolsOpen, {\n      componentName: 'AppLayout',\n      controlledProp: 'toolsOpen',\n      changeHandler: 'onToolsChange'\n    }),\n    _useControllable4 = _slicedToArray(_useControllable3, 2),\n    _useControllable4$ = _useControllable4[0],\n    toolsOpen = _useControllable4$ === void 0 ? false : _useControllable4$,\n    setToolsOpen = _useControllable4[1];\n  var onToolsToggle = function onToolsToggle(open) {\n    setToolsOpen(open);\n    focusToolsButtons();\n    fireNonCancelableEvent(onToolsChange, {\n      open: open\n    });\n  };\n  var _d = useDrawers(props, {\n      ariaLabels: ariaLabels,\n      tools: tools,\n      toolsOpen: toolsOpen,\n      toolsHide: toolsHide,\n      toolsWidth: toolsWidth,\n      onToolsToggle: onToolsToggle\n    }),\n    drawers = _d.drawers,\n    activeDrawer = _d.activeDrawer,\n    activeDrawerSize = _d.activeDrawerSize,\n    activeDrawerId = _d.activeDrawerId,\n    onActiveDrawerChange = _d.onActiveDrawerChange,\n    onActiveDrawerResize = _d.onActiveDrawerResize,\n    drawersProps = __rest(_d, [\"drawers\", \"activeDrawer\", \"activeDrawerSize\", \"activeDrawerId\", \"onActiveDrawerChange\", \"onActiveDrawerResize\"]);\n  var hasDrawers = !!drawers;\n  var _useFocusControl = useFocusControl(navigationOpen),\n    navigationRefs = _useFocusControl.refs,\n    focusNavButtons = _useFocusControl.setFocus;\n  var _useFocusControl2 = useFocusControl(toolsOpen || activeDrawer !== undefined, true),\n    toolsRefs = _useFocusControl2.refs,\n    focusToolsButtons = _useFocusControl2.setFocus,\n    loseToolsFocus = _useFocusControl2.loseFocus;\n  var _useDrawerFocusContro = useDrawerFocusControl([activeDrawer === null || activeDrawer === void 0 ? void 0 : activeDrawer.resizable], toolsOpen || activeDrawer !== undefined, true),\n    drawerRefs = _useDrawerFocusContro.refs,\n    focusDrawersButtons = _useDrawerFocusContro.setFocus,\n    loseDrawersFocus = _useDrawerFocusContro.loseFocus,\n    setDrawerLastInteraction = _useDrawerFocusContro.setLastInteraction;\n  var onNavigationToggle = useStableCallback(function (open) {\n    setNavigationOpen(open);\n    focusNavButtons();\n    fireNonCancelableEvent(onNavigationChange, {\n      open: open\n    });\n  });\n  var onNavigationClick = function onNavigationClick(event) {\n    var hasLink = findUpUntil(event.target, function (node) {\n      return node.tagName === 'A' && !!node.href;\n    });\n    if (hasLink) {\n      onNavigationToggle(false);\n    }\n  };\n  useEffect(function () {\n    // Close navigation drawer on mobile so that the main content is visible\n    if (isMobile) {\n      onNavigationToggle(false);\n    }\n  }, [isMobile, onNavigationToggle]);\n  var navigationVisible = !navigationHide && navigationOpen;\n  var toolsVisible = !toolsHide && toolsOpen;\n  var _useContentHeight = useContentHeight(headerSelector, footerSelector, disableBodyScroll),\n    contentHeightStyle = _useContentHeight.contentHeightStyle,\n    headerHeight = _useContentHeight.headerHeight,\n    footerHeight = _useContentHeight.footerHeight;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isSplitpanelForcedPosition = _useState2[0],\n    setIsSplitpanelForcedPosition = _useState2[1];\n  var _useContainerQuery = useContainerQuery(function (rect) {\n      return rect.contentBoxHeight;\n    }),\n    _useContainerQuery2 = _slicedToArray(_useContainerQuery, 2),\n    notificationsHeight = _useContainerQuery2[0],\n    notificationsRef = _useContainerQuery2[1];\n  var anyPanelOpen = navigationVisible || toolsVisible || !!activeDrawer;\n  var hasRenderedNotifications = notificationsHeight ? notificationsHeight > 0 : false;\n  var stickyNotificationsHeight = stickyNotifications ? notificationsHeight : null;\n  var _useControllable5 = useControllable(controlledSplitPanelPreferences, onSplitPanelPreferencesChange, undefined, {\n      componentName: 'AppLayout',\n      controlledProp: 'splitPanelPreferences',\n      changeHandler: 'onSplitPanelPreferencesChange'\n    }),\n    _useControllable6 = _slicedToArray(_useControllable5, 2),\n    splitPanelPreferences = _useControllable6[0],\n    setSplitPanelPreferences = _useControllable6[1];\n  var _useControllable7 = useControllable(controlledSplitPanelOpen, onSplitPanelToggle, false, {\n      componentName: 'AppLayout',\n      controlledProp: 'splitPanelOpen',\n      changeHandler: 'onSplitPanelToggle'\n    }),\n    _useControllable8 = _slicedToArray(_useControllable7, 2),\n    _useControllable8$ = _useControllable8[0],\n    splitPanelOpen = _useControllable8$ === void 0 ? false : _useControllable8$,\n    setSplitPanelOpen = _useControllable8[1];\n  var splitPanelPosition = (splitPanelPreferences === null || splitPanelPreferences === void 0 ? void 0 : splitPanelPreferences.position) || 'bottom';\n  var _useState3 = useState({\n      displayed: false,\n      ariaLabel: undefined\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    splitPanelReportedToggle = _useState4[0],\n    setSplitPanelReportedToggle = _useState4[1];\n  var splitPanelDisplayed = !!(splitPanel && (splitPanelReportedToggle.displayed || splitPanelOpen));\n  var closedDrawerWidth = 40;\n  var effectiveNavigationWidth = navigationHide ? 0 : navigationOpen ? navigationWidth : closedDrawerWidth;\n  var getEffectiveToolsWidth = function getEffectiveToolsWidth() {\n    if (toolsHide && (!splitPanelDisplayed || (splitPanelPreferences === null || splitPanelPreferences === void 0 ? void 0 : splitPanelPreferences.position) !== 'side') && (!drawers || drawers.length === 0)) {\n      return 0;\n    }\n    if (activeDrawer && activeDrawerSize) {\n      return activeDrawerSize;\n    }\n    if (toolsOpen) {\n      return toolsWidth;\n    }\n    return closedDrawerWidth;\n  };\n  var effectiveToolsWidth = getEffectiveToolsWidth();\n  var defaultSplitPanelSize = getSplitPanelDefaultSize(splitPanelPosition);\n  var _useControllable9 = useControllable(controlledSplitPanelSize, onSplitPanelResize, defaultSplitPanelSize, {\n      componentName: 'AppLayout',\n      controlledProp: 'splitPanelSize',\n      changeHandler: 'onSplitPanelResize'\n    }),\n    _useControllable10 = _slicedToArray(_useControllable9, 2),\n    _useControllable10$ = _useControllable10[0],\n    splitPanelSize = _useControllable10$ === void 0 ? defaultSplitPanelSize : _useControllable10$,\n    setSplitPanelSize = _useControllable10[1];\n  var mainContentRef = useRef(null);\n  var legacyScrollRootRef = useRef(null);\n  var _useSplitPanelFocusCo = useSplitPanelFocusControl([splitPanelPreferences, splitPanelOpen]),\n    splitPanelRefs = _useSplitPanelFocusCo.refs,\n    setSplitPanelLastInteraction = _useSplitPanelFocusCo.setLastInteraction;\n  var onSplitPanelPreferencesSet = useCallback(function (detail) {\n    setSplitPanelPreferences(detail);\n    setSplitPanelLastInteraction({\n      type: 'position'\n    });\n    fireNonCancelableEvent(onSplitPanelPreferencesChange, detail);\n  }, [setSplitPanelPreferences, onSplitPanelPreferencesChange, setSplitPanelLastInteraction]);\n  var onSplitPanelSizeSet = useCallback(function (newSize) {\n    setSplitPanelSize(newSize);\n    fireNonCancelableEvent(onSplitPanelResize, {\n      size: newSize\n    });\n  }, [setSplitPanelSize, onSplitPanelResize]);\n  var onSplitPanelToggleHandler = useCallback(function () {\n    setSplitPanelOpen(!splitPanelOpen);\n    setSplitPanelLastInteraction({\n      type: splitPanelOpen ? 'close' : 'open'\n    });\n    fireNonCancelableEvent(onSplitPanelToggle, {\n      open: !splitPanelOpen\n    });\n  }, [setSplitPanelOpen, splitPanelOpen, onSplitPanelToggle, setSplitPanelLastInteraction]);\n  var getSplitPanelMaxWidth = useStableCallback(function () {\n    if (!mainContentRef.current || !defaults.minContentWidth) {\n      return NaN;\n    }\n    var width = parseInt(getComputedStyle(mainContentRef.current).width);\n    // when disableContentPaddings is true there is less available space,\n    // so we subtract space-scaled-2x-xxxl * 2 for left and right padding\n    var contentPadding = disableContentPaddings ? 80 : 0;\n    var spaceAvailable = width - defaults.minContentWidth - contentPadding;\n    var spaceTaken = finalSplitPanePosition === 'side' ? splitPanelSize : 0;\n    return Math.max(0, spaceTaken + spaceAvailable);\n  });\n  var getDrawerMaxWidth = useStableCallback(function () {\n    if (!mainContentRef.current || !defaults.minContentWidth) {\n      return NaN;\n    }\n    // Either use the computed width of the drawer or the drawerSize as defined.\n    var width = parseInt(getComputedStyle(mainContentRef.current).width || \"\".concat(activeDrawerSize));\n    // when disableContentPaddings is true there is less available space,\n    // so we subtract space-scaled-2x-xxxl * 2 for left and right padding\n    var contentPadding = disableContentPaddings ? 80 : 0;\n    var spaceAvailable = width - defaults.minContentWidth - contentPadding;\n    return Math.max(0, activeDrawerSize + spaceAvailable);\n  });\n  var getSplitPanelMaxHeight = useStableCallback(function () {\n    if (typeof document === 'undefined') {\n      return 0; // render the split panel in its minimum possible size\n    } else if (disableBodyScroll && legacyScrollRootRef.current) {\n      var availableHeight = legacyScrollRootRef.current.clientHeight;\n      return availableHeight < CONSTRAINED_PAGE_HEIGHT ? availableHeight : availableHeight - MAIN_PANEL_MIN_HEIGHT;\n    } else {\n      var _availableHeight = document.documentElement.clientHeight - headerHeight - footerHeight;\n      return _availableHeight < CONSTRAINED_PAGE_HEIGHT ? _availableHeight - CONSTRAINED_MAIN_PANEL_MIN_HEIGHT : _availableHeight - MAIN_PANEL_MIN_HEIGHT;\n    }\n  });\n  var finalSplitPanePosition = isSplitpanelForcedPosition ? 'bottom' : splitPanelPosition;\n  var splitPaneAvailableOnTheSide = splitPanelDisplayed && finalSplitPanePosition === 'side';\n  var splitPanelOpenOnTheSide = splitPaneAvailableOnTheSide && splitPanelOpen;\n  var toggleButtonsBarWidth = 0;\n  var windowWidth = useWindowWidth();\n  var _useAppLayoutOffsets = useAppLayoutOffsets(rootRef.current),\n    leftOffset = _useAppLayoutOffsets.left,\n    rightOffset = _useAppLayoutOffsets.right;\n  var contentWidthWithSplitPanel = windowWidth - leftOffset - rightOffset - effectiveToolsWidth - effectiveNavigationWidth - (disableContentPaddings ? 0 : toggleButtonsBarWidth);\n  var isResizeInvalid = isMobile || (defaults.minContentWidth || 0) > contentWidthWithSplitPanel;\n  useEffect(function () {\n    var contentWidth = contentWidthWithSplitPanel - splitPanelSize;\n    setIsSplitpanelForcedPosition(isMobile || (defaults.minContentWidth || 0) > contentWidth);\n    // This is a workaround to avoid a forced position due to splitPanelSize, which is\n    // user controlled variable.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contentWidthWithSplitPanel, activeDrawerSize, defaults.minContentWidth, isMobile]);\n  var navigationClosedWidth = navigationHide || isMobile ? 0 : closedDrawerWidth;\n  var toolsClosedWidth = toolsHide || isMobile || !hasDrawers && toolsHide ? 0 : closedDrawerWidth;\n  var contentMaxWidthStyle = !isMobile ? {\n    maxWidth: defaults.maxContentWidth\n  } : undefined;\n  var _useState5 = useState(0),\n    _useState6 = _slicedToArray(_useState5, 2),\n    splitPanelReportedSize = _useState6[0],\n    setSplitPanelReportedSize = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    splitPanelReportedHeaderHeight = _useState8[0],\n    setSplitPanelReportedHeaderHeight = _useState8[1];\n  var getSplitPanelRightOffset = function getSplitPanelRightOffset() {\n    if (isMobile) {\n      return 0;\n    }\n    if (hasDrawers) {\n      if (activeDrawer) {\n        if (drawers.length === 1) {\n          return activeDrawerSize;\n        }\n        if (!isResizeInvalid && activeDrawerSize) {\n          return activeDrawerSize + closedDrawerWidth;\n        }\n        return toolsWidth + closedDrawerWidth;\n      }\n      return drawers.length > 0 ? closedDrawerWidth : 0;\n    }\n    if (!toolsHide && toolsOpen) {\n      return toolsWidth;\n    }\n    return toolsClosedWidth;\n  };\n  var splitPanelContextProps = {\n    topOffset: headerHeight + (finalSplitPanePosition === 'bottom' ? stickyNotificationsHeight || 0 : 0),\n    bottomOffset: footerHeight,\n    leftOffset: leftOffset + (isMobile ? 0 : !navigationHide && navigationOpen ? navigationWidth : navigationClosedWidth),\n    rightOffset: rightOffset + getSplitPanelRightOffset(),\n    position: finalSplitPanePosition,\n    size: splitPanelSize,\n    getMaxWidth: getSplitPanelMaxWidth,\n    getMaxHeight: getSplitPanelMaxHeight,\n    disableContentPaddings: disableContentPaddings,\n    contentWidthStyles: contentMaxWidthStyle,\n    isOpen: splitPanelOpen,\n    isForcedPosition: isSplitpanelForcedPosition,\n    onResize: onSplitPanelSizeSet,\n    onToggle: onSplitPanelToggleHandler,\n    onPreferencesChange: onSplitPanelPreferencesSet,\n    setSplitPanelToggle: setSplitPanelReportedToggle,\n    reportSize: setSplitPanelReportedSize,\n    reportHeaderHeight: setSplitPanelReportedHeaderHeight,\n    refs: splitPanelRefs\n  };\n  var splitPanelWrapped = splitPanel && React.createElement(SplitPanelProvider, Object.assign({}, splitPanelContextProps), finalSplitPanePosition === 'side' ? React.createElement(SideSplitPanelDrawer, {\n    displayed: splitPanelDisplayed\n  }, splitPanel) : splitPanel);\n  var contentWrapperProps = {\n    contentType: contentType,\n    navigationPadding: navigationHide || !!navigationOpen,\n    contentWidthStyles: !isMobile ? {\n      minWidth: defaults.minContentWidth,\n      maxWidth: defaults.maxContentWidth\n    } : undefined,\n    toolsPadding:\n    // tools padding is displayed in one of the three cases\n    // 1. Nothing on the that screen edge (no tools panel and no split panel)\n    toolsHide || hasDrawers && !activeDrawer && (!splitPanelDisplayed || finalSplitPanePosition !== 'side') ||\n    // 2. Tools panel is present and open\n    toolsVisible ||\n    // 3. Split panel is open in side position\n    splitPanelOpenOnTheSide,\n    isMobile: isMobile\n  };\n  useImperativeHandle(ref, function () {\n    return {\n      openTools: function openTools() {\n        return onToolsToggle(true);\n      },\n      closeNavigationIfNecessary: function closeNavigationIfNecessary() {\n        if (isMobile) {\n          onNavigationToggle(false);\n        }\n      },\n      focusToolsClose: function focusToolsClose() {\n        return focusToolsButtons(true);\n      },\n      focusSplitPanel: function focusSplitPanel() {\n        var _a;\n        return (_a = splitPanelRefs.slider.current) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    };\n  });\n  var splitPanelBottomOffset = (_b = !splitPanelDisplayed || finalSplitPanePosition !== 'bottom' ? undefined : splitPanelOpen ? splitPanelReportedSize : splitPanelReportedHeaderHeight) !== null && _b !== void 0 ? _b : undefined;\n  var _useContainerQuery3 = useContainerQuery(function (rect) {\n      return rect.contentBoxHeight;\n    }),\n    _useContainerQuery4 = _slicedToArray(_useContainerQuery3, 2),\n    mobileBarHeight = _useContainerQuery4[0],\n    mobileBarRef = _useContainerQuery4[1];\n  return React.createElement(\"div\", {\n    className: clsx(styles.root, testutilStyles.root, disableBodyScroll && styles['root-no-scroll']),\n    ref: rootRef,\n    style: contentHeightStyle\n  }, isMobile && (!toolsHide || !navigationHide || breadcrumbs) && React.createElement(MobileToolbar, {\n    anyPanelOpen: anyPanelOpen,\n    toggleRefs: {\n      navigation: navigationRefs.toggle,\n      tools: toolsRefs.toggle\n    },\n    topOffset: headerHeight,\n    ariaLabels: ariaLabels,\n    navigationHide: navigationHide,\n    toolsHide: toolsHide,\n    onNavigationOpen: function onNavigationOpen() {\n      return onNavigationToggle(true);\n    },\n    onToolsOpen: function onToolsOpen() {\n      return onToolsToggle(true);\n    },\n    unfocusable: anyPanelOpen,\n    mobileBarRef: mobileBarRef,\n    drawers: hasDrawers ? {\n      items: drawers,\n      activeDrawerId: activeDrawerId,\n      onChange: function onChange(changeDetail) {\n        onActiveDrawerChange(changeDetail.activeDrawerId);\n        if (changeDetail.activeDrawerId !== activeDrawerId) {\n          focusToolsButtons();\n          focusDrawersButtons();\n          setDrawerLastInteraction({\n            type: 'open'\n          });\n        }\n      },\n      ariaLabel: drawersProps.ariaLabel,\n      overflowAriaLabel: drawersProps.overflowAriaLabel,\n      overflowWithBadgeAriaLabel: drawersProps.overflowWithBadgeAriaLabel\n    } : undefined\n  }, breadcrumbs), React.createElement(\"div\", {\n    className: clsx(styles.layout, disableBodyScroll && styles['layout-no-scroll'])\n  }, !navigationHide && React.createElement(Drawer, {\n    contentClassName: testutilStyles.navigation,\n    toggleClassName: testutilStyles['navigation-toggle'],\n    closeClassName: testutilStyles['navigation-close'],\n    ariaLabels: ariaLabels,\n    bottomOffset: footerHeight,\n    topOffset: headerHeight,\n    isMobile: isMobile,\n    isOpen: navigationOpen,\n    onClick: isMobile ? onNavigationClick : undefined,\n    onToggle: onNavigationToggle,\n    toggleRefs: navigationRefs,\n    type: \"navigation\",\n    width: navigationWidth\n  }, navigation), React.createElement(\"main\", {\n    ref: legacyScrollRootRef,\n    className: clsx(styles['layout-main'], (_clsx = {}, _defineProperty(_clsx, styles['layout-main-scrollable'], disableBodyScroll), _defineProperty(_clsx, testutilStyles['disable-body-scroll-root'], disableBodyScroll), _defineProperty(_clsx, styles.unfocusable, isMobile && anyPanelOpen), _clsx))\n  }, React.createElement(\"div\", {\n    style: {\n      marginBottom: splitPanelBottomOffset\n    }\n  }, notifications && React.createElement(Notifications, {\n    disableContentPaddings: disableContentPaddings,\n    testUtilsClassName: testutilStyles.notifications,\n    labels: ariaLabels,\n    topOffset: disableBodyScroll ? 0 : headerHeight,\n    sticky: !isMobile && stickyNotifications,\n    ref: notificationsRef\n  }, notifications), (!isMobile && breadcrumbs || contentHeader) && React.createElement(ContentWrapper, Object.assign({}, contentWrapperProps), !isMobile && breadcrumbs && React.createElement(\"div\", {\n    className: clsx(testutilStyles.breadcrumbs, styles['breadcrumbs-desktop'])\n  }, breadcrumbs), contentHeader && React.createElement(\"div\", {\n    className: clsx(styles['content-header-wrapper'], !hasRenderedNotifications && (isMobile || !breadcrumbs) && styles['content-extra-top-padding'], !hasRenderedNotifications && !breadcrumbs && styles['content-header-wrapper-first-child'], !disableContentHeaderOverlap && styles['content-header-wrapper-overlapped'])\n  }, contentHeader)), React.createElement(ContentWrapper, Object.assign({}, contentWrapperProps, {\n    ref: mainContentRef,\n    disablePaddings: disableContentPaddings,\n    // eslint-disable-next-line react/forbid-component-props\n    className: clsx(!disableContentPaddings && styles['content-wrapper'], !disableContentPaddings && (isMobile || !breadcrumbs) && !contentHeader && styles['content-extra-top-padding'], testutilStyles.content, !disableContentHeaderOverlap && contentHeader && styles['content-overlapped'], !hasRenderedNotifications && !breadcrumbs && !isMobile && !contentHeader && styles['content-wrapper-first-child'])\n  }), React.createElement(AppLayoutContext.Provider, {\n    value: {\n      stickyOffsetTop:\n      // We don't support the table header being sticky in case the deprecated disableBodyScroll is enabled,\n      // therefore we ensure the table header scrolls out of view by offseting a large enough value (9999px)\n      (disableBodyScroll ? isMobile ? -9999 : 0 : headerHeight) + (isMobile ? 0 : stickyNotificationsHeight !== null ? stickyNotificationsHeight : 0),\n      stickyOffsetBottom: footerHeight + (splitPanelBottomOffset || 0),\n      mobileBarHeight: mobileBarHeight !== null && mobileBarHeight !== void 0 ? mobileBarHeight : 0\n    }\n  }, content))), finalSplitPanePosition === 'bottom' && splitPanelWrapped), finalSplitPanePosition === 'side' && splitPanelWrapped, hasDrawers ? React.createElement(ResizableDrawer, {\n    contentClassName: clsx(activeDrawerId && testutilStyles['active-drawer'], activeDrawerId === TOOLS_DRAWER_ID && testutilStyles.tools),\n    toggleClassName: testutilStyles['tools-toggle'],\n    closeClassName: clsx(testutilStyles['active-drawer-close-button'], activeDrawerId === TOOLS_DRAWER_ID && testutilStyles['tools-close']),\n    ariaLabels: ariaLabels,\n    width: !isResizeInvalid ? activeDrawerSize : toolsWidth,\n    bottomOffset: footerHeight,\n    topOffset: headerHeight,\n    isMobile: isMobile,\n    onToggle: function onToggle() {\n      /*noop in this mode*/\n    },\n    isOpen: true,\n    toggleRefs: toolsRefs,\n    type: \"tools\",\n    onLoseFocus: loseDrawersFocus,\n    activeDrawer: activeDrawer,\n    drawers: {\n      items: drawers,\n      activeDrawerId: activeDrawerId,\n      onChange: function onChange(changeDetail) {\n        focusToolsButtons();\n        setDrawerLastInteraction({\n          type: 'close'\n        });\n        onActiveDrawerChange(changeDetail.activeDrawerId);\n      }\n    },\n    size: !isResizeInvalid ? activeDrawerSize : toolsWidth,\n    onResize: function onResize(changeDetail) {\n      return onActiveDrawerResize(changeDetail);\n    },\n    refs: drawerRefs,\n    getMaxWidth: getDrawerMaxWidth,\n    toolsContent: (_c = drawers === null || drawers === void 0 ? void 0 : drawers.find(function (drawer) {\n      return drawer.id === TOOLS_DRAWER_ID;\n    })) === null || _c === void 0 ? void 0 : _c.content\n  }, activeDrawer === null || activeDrawer === void 0 ? void 0 : activeDrawer.content) : !toolsHide && React.createElement(Drawer, {\n    contentClassName: testutilStyles.tools,\n    toggleClassName: testutilStyles['tools-toggle'],\n    closeClassName: testutilStyles['tools-close'],\n    ariaLabels: ariaLabels,\n    width: effectiveToolsWidth,\n    bottomOffset: footerHeight,\n    topOffset: headerHeight,\n    isMobile: isMobile,\n    onToggle: onToolsToggle,\n    isOpen: toolsOpen,\n    toggleRefs: toolsRefs,\n    type: \"tools\",\n    onLoseFocus: loseToolsFocus\n  }, tools), hasDrawers && drawers.length > 0 && React.createElement(DrawerTriggersBar, {\n    bottomOffset: footerHeight,\n    topOffset: headerHeight,\n    isMobile: isMobile,\n    drawers: {\n      items: drawers,\n      activeDrawerId: activeDrawerId,\n      onChange: function onChange(changeDetail) {\n        if (activeDrawerId !== changeDetail.activeDrawerId) {\n          focusToolsButtons();\n          focusDrawersButtons();\n          setDrawerLastInteraction({\n            type: 'open'\n          });\n        }\n        onActiveDrawerChange(changeDetail.activeDrawerId);\n      },\n      ariaLabel: drawersProps.ariaLabel,\n      overflowAriaLabel: drawersProps.overflowAriaLabel,\n      overflowWithBadgeAriaLabel: drawersProps.overflowWithBadgeAriaLabel\n    }\n  })));\n});\napplyDisplayName(AppLayout, 'AppLayout');\nexport default AppLayout;","map":{"version":3,"mappings":"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","names":["clsx","React","useCallback","useEffect","useImperativeHandle","useRef","useState","getBaseProps","useControllable","useMobile","fireNonCancelableEvent","applyDefaults","Notifications","MobileToolbar","useFocusControl","useWindowWidth","useContentHeight","styles","testutilStyles","findUpUntil","AppLayoutContext","applyDisplayName","CONSTRAINED_MAIN_PANEL_MIN_HEIGHT","CONSTRAINED_PAGE_HEIGHT","getSplitPanelDefaultSize","MAIN_PANEL_MIN_HEIGHT","useBaseComponent","useVisualRefresh","ContentWrapper","Drawer","DrawerTriggersBar","ResizableDrawer","SplitPanelProvider","SideSplitPanelDrawer","useAppLayoutOffsets","isDevelopment","useStableCallback","warnOnce","RefreshedAppLayout","useInternalI18n","useSplitPanelFocusControl","useDrawerFocusControl","TOOLS_DRAWER_ID","useDrawers","useContainerQuery","AppLayout","forwardRef","_a","ref","contentType","headerSelector","footerSelector","rest","__internalRootRef","isRefresh","i18n","ariaLabels","navigation","navigationClose","navigationToggle","notifications","tools","toolsClose","toolsToggle","props","baseProps","OldAppLayout","navigationWidth","navigationHide","controlledNavigationOpen","navigationOpen","toolsWidth","toolsHide","controlledToolsOpen","toolsOpen","breadcrumbs","stickyNotifications","contentHeader","disableContentHeaderOverlap","content","disableContentPaddings","disableBodyScroll","maxContentWidth","minContentWidth","splitPanel","controlledSplitPanelSize","splitPanelSize","controlledSplitPanelOpen","splitPanelOpen","controlledSplitPanelPreferences","splitPanelPreferences","onSplitPanelPreferencesChange","onSplitPanelResize","onSplitPanelToggle","onNavigationChange","onToolsChange","rootRef","isMobile","defaults","componentName","controlledProp","changeHandler","setNavigationOpen","setToolsOpen","onToolsToggle","open","focusToolsButtons","drawers","_d","activeDrawer","activeDrawerSize","activeDrawerId","onActiveDrawerChange","onActiveDrawerResize","drawersProps","hasDrawers","navigationRefs","refs","focusNavButtons","setFocus","undefined","toolsRefs","loseToolsFocus","loseFocus","resizable","drawerRefs","focusDrawersButtons","loseDrawersFocus","setDrawerLastInteraction","setLastInteraction","onNavigationToggle","onNavigationClick","event","hasLink","target","node","tagName","href","navigationVisible","toolsVisible","contentHeightStyle","headerHeight","footerHeight","isSplitpanelForcedPosition","setIsSplitpanelForcedPosition","rect","contentBoxHeight","notificationsHeight","notificationsRef","anyPanelOpen","hasRenderedNotifications","stickyNotificationsHeight","setSplitPanelPreferences","setSplitPanelOpen","splitPanelPosition","position","displayed","ariaLabel","splitPanelReportedToggle","setSplitPanelReportedToggle","splitPanelDisplayed","closedDrawerWidth","effectiveNavigationWidth","getEffectiveToolsWidth","length","effectiveToolsWidth","defaultSplitPanelSize","setSplitPanelSize","mainContentRef","legacyScrollRootRef","splitPanelRefs","setSplitPanelLastInteraction","onSplitPanelPreferencesSet","detail","type","onSplitPanelSizeSet","newSize","size","onSplitPanelToggleHandler","getSplitPanelMaxWidth","current","NaN","width","parseInt","getComputedStyle","contentPadding","spaceAvailable","spaceTaken","finalSplitPanePosition","Math","max","getDrawerMaxWidth","getSplitPanelMaxHeight","document","availableHeight","clientHeight","documentElement","splitPaneAvailableOnTheSide","splitPanelOpenOnTheSide","toggleButtonsBarWidth","windowWidth","leftOffset","left","rightOffset","right","contentWidthWithSplitPanel","isResizeInvalid","contentWidth","navigationClosedWidth","toolsClosedWidth","contentMaxWidthStyle","maxWidth","splitPanelReportedSize","setSplitPanelReportedSize","splitPanelReportedHeaderHeight","setSplitPanelReportedHeaderHeight","getSplitPanelRightOffset","splitPanelContextProps","topOffset","bottomOffset","getMaxWidth","getMaxHeight","contentWidthStyles","isOpen","isForcedPosition","onResize","onToggle","onPreferencesChange","setSplitPanelToggle","reportSize","reportHeaderHeight","splitPanelWrapped","contentWrapperProps","navigationPadding","minWidth","toolsPadding","openTools","closeNavigationIfNecessary","focusToolsClose","focusSplitPanel","slider","focus","splitPanelBottomOffset","mobileBarHeight","mobileBarRef","className","root","style","toggleRefs","toggle","onNavigationOpen","onToolsOpen","unfocusable","items","onChange","changeDetail","overflowAriaLabel","overflowWithBadgeAriaLabel","layout","contentClassName","toggleClassName","closeClassName","onClick","marginBottom","testUtilsClassName","labels","sticky","disablePaddings","Provider","value","stickyOffsetTop","stickyOffsetBottom","onLoseFocus","toolsContent","find","drawer","id"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/app-layout/lib/default/app-layout/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport { getBaseProps } from '../internal/base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { applyDefaults } from './defaults';\nimport { AppLayoutProps } from './interfaces';\nimport { Notifications } from './notifications';\nimport { MobileToolbar } from './mobile-toolbar';\nimport { useFocusControl } from './utils/use-focus-control';\nimport useWindowWidth from './utils/use-window-width';\nimport useContentHeight from './utils/use-content-height';\nimport styles from './styles.css.js';\nimport testutilStyles from './test-classes/styles.css.js';\nimport { findUpUntil } from '../internal/utils/dom';\nimport { AppLayoutContext } from '../internal/context/app-layout-context';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { SplitPanelSideToggleProps } from '../internal/context/split-panel-context';\nimport {\n  CONSTRAINED_MAIN_PANEL_MIN_HEIGHT,\n  CONSTRAINED_PAGE_HEIGHT,\n  getSplitPanelDefaultSize,\n  MAIN_PANEL_MIN_HEIGHT,\n} from '../split-panel/utils/size-utils';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport ContentWrapper, { ContentWrapperProps } from './content-wrapper';\nimport { Drawer, DrawerTriggersBar } from './drawer';\nimport { ResizableDrawer } from './drawer/resizable-drawer';\nimport { SplitPanelProvider, SideSplitPanelDrawer, SplitPanelProviderProps } from './split-panel';\nimport useAppLayoutOffsets from './utils/use-content-width';\nimport { isDevelopment } from '../internal/is-development';\nimport { useStableCallback, warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport RefreshedAppLayout from './visual-refresh';\nimport { useInternalI18n } from '../i18n/context';\nimport { useSplitPanelFocusControl } from './utils/use-split-panel-focus-control';\nimport { useDrawerFocusControl } from './utils/use-drawer-focus-control';\nimport { TOOLS_DRAWER_ID, useDrawers } from './utils/use-drawers';\nimport { InternalDrawerProps } from './drawer/interfaces';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nexport { AppLayoutProps };\n\nconst AppLayout = React.forwardRef(\n  (\n    { contentType = 'default', headerSelector = '#b #h', footerSelector = '#b #f', ...rest }: AppLayoutProps,\n    ref: React.Ref<AppLayoutProps.Ref>\n  ) => {\n    const { __internalRootRef } = useBaseComponent<HTMLDivElement>('AppLayout');\n    const isRefresh = useVisualRefresh();\n\n    const i18n = useInternalI18n('app-layout');\n    const ariaLabels = {\n      navigation: i18n('ariaLabels.navigation', rest.ariaLabels?.navigation),\n      navigationClose: i18n('ariaLabels.navigationClose', rest.ariaLabels?.navigationClose),\n      navigationToggle: i18n('ariaLabels.navigationToggle', rest.ariaLabels?.navigationToggle),\n      notifications: i18n('ariaLabels.notifications', rest.ariaLabels?.notifications),\n      tools: i18n('ariaLabels.tools', rest.ariaLabels?.tools),\n      toolsClose: i18n('ariaLabels.toolsClose', rest.ariaLabels?.toolsClose),\n      toolsToggle: i18n('ariaLabels.toolsToggle', rest.ariaLabels?.toolsToggle),\n    };\n\n    // This re-builds the props including the default values\n    const props = { contentType, headerSelector, footerSelector, ...rest, ariaLabels };\n\n    const baseProps = getBaseProps(rest);\n\n    return (\n      <div ref={__internalRootRef} {...baseProps}>\n        {isRefresh ? <RefreshedAppLayout {...props} ref={ref} /> : <OldAppLayout {...props} ref={ref} />}\n      </div>\n    );\n  }\n);\n\nconst OldAppLayout = React.forwardRef(\n  (\n    {\n      navigation,\n      navigationWidth = 280,\n      navigationHide,\n      navigationOpen: controlledNavigationOpen,\n      tools,\n      toolsWidth = 290,\n      toolsHide,\n      toolsOpen: controlledToolsOpen,\n      breadcrumbs,\n      notifications,\n      stickyNotifications,\n      contentHeader,\n      disableContentHeaderOverlap,\n      content,\n      contentType = 'default',\n      disableContentPaddings,\n      disableBodyScroll,\n      maxContentWidth,\n      minContentWidth,\n      headerSelector = '#b #h',\n      footerSelector = '#b #f',\n      ariaLabels,\n      splitPanel,\n      splitPanelSize: controlledSplitPanelSize,\n      splitPanelOpen: controlledSplitPanelOpen,\n      splitPanelPreferences: controlledSplitPanelPreferences,\n      onSplitPanelPreferencesChange,\n      onSplitPanelResize,\n      onSplitPanelToggle,\n      onNavigationChange,\n      onToolsChange,\n      ...props\n    }: AppLayoutProps,\n    ref: React.Ref<AppLayoutProps.Ref>\n  ) => {\n    if (isDevelopment) {\n      if (controlledToolsOpen && toolsHide) {\n        warnOnce(\n          'AppLayout',\n          `You have enabled both the \\`toolsOpen\\` prop and the \\`toolsHide\\` prop. This is not supported. Set \\`toolsOpen\\` to \\`false\\` when you set \\`toolsHide\\` to \\`true\\`.`\n        );\n      }\n    }\n\n    const rootRef = useRef<HTMLDivElement>(null);\n    const isMobile = useMobile();\n\n    const defaults = applyDefaults(contentType, { maxContentWidth, minContentWidth }, false);\n    const [navigationOpen = false, setNavigationOpen] = useControllable(\n      controlledNavigationOpen,\n      onNavigationChange,\n      isMobile ? false : defaults.navigationOpen,\n      { componentName: 'AppLayout', controlledProp: 'navigationOpen', changeHandler: 'onNavigationChange' }\n    );\n\n    const [toolsOpen = false, setToolsOpen] = useControllable(\n      controlledToolsOpen,\n      onToolsChange,\n      isMobile ? false : defaults.toolsOpen,\n      { componentName: 'AppLayout', controlledProp: 'toolsOpen', changeHandler: 'onToolsChange' }\n    );\n    const onToolsToggle = (open: boolean) => {\n      setToolsOpen(open);\n      focusToolsButtons();\n      fireNonCancelableEvent(onToolsChange, { open });\n    };\n\n    const {\n      drawers,\n      activeDrawer,\n      activeDrawerSize,\n      activeDrawerId,\n      onActiveDrawerChange,\n      onActiveDrawerResize,\n      ...drawersProps\n    } = useDrawers(props as InternalDrawerProps, {\n      ariaLabels,\n      tools,\n      toolsOpen,\n      toolsHide,\n      toolsWidth,\n      onToolsToggle,\n    });\n    const hasDrawers = !!drawers;\n\n    const { refs: navigationRefs, setFocus: focusNavButtons } = useFocusControl(navigationOpen);\n    const {\n      refs: toolsRefs,\n      setFocus: focusToolsButtons,\n      loseFocus: loseToolsFocus,\n    } = useFocusControl(toolsOpen || activeDrawer !== undefined, true);\n    const {\n      refs: drawerRefs,\n      setFocus: focusDrawersButtons,\n      loseFocus: loseDrawersFocus,\n      setLastInteraction: setDrawerLastInteraction,\n    } = useDrawerFocusControl([activeDrawer?.resizable], toolsOpen || activeDrawer !== undefined, true);\n\n    const onNavigationToggle = useStableCallback((open: boolean) => {\n      setNavigationOpen(open);\n      focusNavButtons();\n      fireNonCancelableEvent(onNavigationChange, { open });\n    });\n\n    const onNavigationClick = (event: React.MouseEvent) => {\n      const hasLink = findUpUntil(\n        event.target as HTMLElement,\n        node => node.tagName === 'A' && !!(node as HTMLAnchorElement).href\n      );\n      if (hasLink) {\n        onNavigationToggle(false);\n      }\n    };\n\n    useEffect(() => {\n      // Close navigation drawer on mobile so that the main content is visible\n      if (isMobile) {\n        onNavigationToggle(false);\n      }\n    }, [isMobile, onNavigationToggle]);\n\n    const navigationVisible = !navigationHide && navigationOpen;\n    const toolsVisible = !toolsHide && toolsOpen;\n\n    const { contentHeightStyle, headerHeight, footerHeight } = useContentHeight(\n      headerSelector,\n      footerSelector,\n      disableBodyScroll\n    );\n    const [isSplitpanelForcedPosition, setIsSplitpanelForcedPosition] = useState(false);\n\n    const [notificationsHeight, notificationsRef] = useContainerQuery(rect => rect.contentBoxHeight);\n    const anyPanelOpen = navigationVisible || toolsVisible || !!activeDrawer;\n    const hasRenderedNotifications = notificationsHeight ? notificationsHeight > 0 : false;\n    const stickyNotificationsHeight = stickyNotifications ? notificationsHeight : null;\n\n    const [splitPanelPreferences, setSplitPanelPreferences] = useControllable(\n      controlledSplitPanelPreferences,\n      onSplitPanelPreferencesChange,\n      undefined,\n      {\n        componentName: 'AppLayout',\n        controlledProp: 'splitPanelPreferences',\n        changeHandler: 'onSplitPanelPreferencesChange',\n      }\n    );\n    const [splitPanelOpen = false, setSplitPanelOpen] = useControllable(\n      controlledSplitPanelOpen,\n      onSplitPanelToggle,\n      false,\n      {\n        componentName: 'AppLayout',\n        controlledProp: 'splitPanelOpen',\n        changeHandler: 'onSplitPanelToggle',\n      }\n    );\n\n    const splitPanelPosition = splitPanelPreferences?.position || 'bottom';\n    const [splitPanelReportedToggle, setSplitPanelReportedToggle] = useState<SplitPanelSideToggleProps>({\n      displayed: false,\n      ariaLabel: undefined,\n    });\n    const splitPanelDisplayed = !!(splitPanel && (splitPanelReportedToggle.displayed || splitPanelOpen));\n\n    const closedDrawerWidth = 40;\n    const effectiveNavigationWidth = navigationHide ? 0 : navigationOpen ? navigationWidth : closedDrawerWidth;\n\n    const getEffectiveToolsWidth = () => {\n      if (\n        toolsHide &&\n        (!splitPanelDisplayed || splitPanelPreferences?.position !== 'side') &&\n        (!drawers || drawers.length === 0)\n      ) {\n        return 0;\n      }\n\n      if (activeDrawer && activeDrawerSize) {\n        return activeDrawerSize;\n      }\n\n      if (toolsOpen) {\n        return toolsWidth;\n      }\n\n      return closedDrawerWidth;\n    };\n\n    const effectiveToolsWidth = getEffectiveToolsWidth();\n\n    const defaultSplitPanelSize = getSplitPanelDefaultSize(splitPanelPosition);\n    const [splitPanelSize = defaultSplitPanelSize, setSplitPanelSize] = useControllable(\n      controlledSplitPanelSize,\n      onSplitPanelResize,\n      defaultSplitPanelSize,\n      {\n        componentName: 'AppLayout',\n        controlledProp: 'splitPanelSize',\n        changeHandler: 'onSplitPanelResize',\n      }\n    );\n\n    const mainContentRef = useRef<HTMLDivElement>(null);\n    const legacyScrollRootRef = useRef<HTMLElement>(null);\n\n    const { refs: splitPanelRefs, setLastInteraction: setSplitPanelLastInteraction } = useSplitPanelFocusControl([\n      splitPanelPreferences,\n      splitPanelOpen,\n    ]);\n\n    const onSplitPanelPreferencesSet = useCallback(\n      (detail: { position: 'side' | 'bottom' }) => {\n        setSplitPanelPreferences(detail);\n        setSplitPanelLastInteraction({ type: 'position' });\n        fireNonCancelableEvent(onSplitPanelPreferencesChange, detail);\n      },\n      [setSplitPanelPreferences, onSplitPanelPreferencesChange, setSplitPanelLastInteraction]\n    );\n    const onSplitPanelSizeSet = useCallback(\n      (newSize: number) => {\n        setSplitPanelSize(newSize);\n        fireNonCancelableEvent(onSplitPanelResize, { size: newSize });\n      },\n      [setSplitPanelSize, onSplitPanelResize]\n    );\n\n    const onSplitPanelToggleHandler = useCallback(() => {\n      setSplitPanelOpen(!splitPanelOpen);\n      setSplitPanelLastInteraction({ type: splitPanelOpen ? 'close' : 'open' });\n      fireNonCancelableEvent(onSplitPanelToggle, { open: !splitPanelOpen });\n    }, [setSplitPanelOpen, splitPanelOpen, onSplitPanelToggle, setSplitPanelLastInteraction]);\n\n    const getSplitPanelMaxWidth = useStableCallback(() => {\n      if (!mainContentRef.current || !defaults.minContentWidth) {\n        return NaN;\n      }\n\n      const width = parseInt(getComputedStyle(mainContentRef.current).width);\n      // when disableContentPaddings is true there is less available space,\n      // so we subtract space-scaled-2x-xxxl * 2 for left and right padding\n      const contentPadding = disableContentPaddings ? 80 : 0;\n      const spaceAvailable = width - defaults.minContentWidth - contentPadding;\n\n      const spaceTaken = finalSplitPanePosition === 'side' ? splitPanelSize : 0;\n      return Math.max(0, spaceTaken + spaceAvailable);\n    });\n\n    const getDrawerMaxWidth = useStableCallback(() => {\n      if (!mainContentRef.current || !defaults.minContentWidth) {\n        return NaN;\n      }\n\n      // Either use the computed width of the drawer or the drawerSize as defined.\n      const width = parseInt(getComputedStyle(mainContentRef.current).width || `${activeDrawerSize}`);\n\n      // when disableContentPaddings is true there is less available space,\n      // so we subtract space-scaled-2x-xxxl * 2 for left and right padding\n      const contentPadding = disableContentPaddings ? 80 : 0;\n      const spaceAvailable = width - defaults.minContentWidth - contentPadding;\n\n      return Math.max(0, activeDrawerSize + spaceAvailable);\n    });\n\n    const getSplitPanelMaxHeight = useStableCallback(() => {\n      if (typeof document === 'undefined') {\n        return 0; // render the split panel in its minimum possible size\n      } else if (disableBodyScroll && legacyScrollRootRef.current) {\n        const availableHeight = legacyScrollRootRef.current.clientHeight;\n        return availableHeight < CONSTRAINED_PAGE_HEIGHT ? availableHeight : availableHeight - MAIN_PANEL_MIN_HEIGHT;\n      } else {\n        const availableHeight = document.documentElement.clientHeight - headerHeight - footerHeight;\n        return availableHeight < CONSTRAINED_PAGE_HEIGHT\n          ? availableHeight - CONSTRAINED_MAIN_PANEL_MIN_HEIGHT\n          : availableHeight - MAIN_PANEL_MIN_HEIGHT;\n      }\n    });\n\n    const finalSplitPanePosition = isSplitpanelForcedPosition ? 'bottom' : splitPanelPosition;\n\n    const splitPaneAvailableOnTheSide = splitPanelDisplayed && finalSplitPanePosition === 'side';\n    const splitPanelOpenOnTheSide = splitPaneAvailableOnTheSide && splitPanelOpen;\n\n    const toggleButtonsBarWidth = 0;\n\n    const windowWidth = useWindowWidth();\n    const { left: leftOffset, right: rightOffset } = useAppLayoutOffsets(rootRef.current);\n    const contentWidthWithSplitPanel =\n      windowWidth -\n      leftOffset -\n      rightOffset -\n      effectiveToolsWidth -\n      effectiveNavigationWidth -\n      (disableContentPaddings ? 0 : toggleButtonsBarWidth);\n    const isResizeInvalid = isMobile || (defaults.minContentWidth || 0) > contentWidthWithSplitPanel;\n\n    useEffect(() => {\n      const contentWidth = contentWidthWithSplitPanel - splitPanelSize;\n\n      setIsSplitpanelForcedPosition(isMobile || (defaults.minContentWidth || 0) > contentWidth);\n      // This is a workaround to avoid a forced position due to splitPanelSize, which is\n      // user controlled variable.\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [contentWidthWithSplitPanel, activeDrawerSize, defaults.minContentWidth, isMobile]);\n\n    const navigationClosedWidth = navigationHide || isMobile ? 0 : closedDrawerWidth;\n    const toolsClosedWidth = toolsHide || isMobile || (!hasDrawers && toolsHide) ? 0 : closedDrawerWidth;\n\n    const contentMaxWidthStyle = !isMobile ? { maxWidth: defaults.maxContentWidth } : undefined;\n\n    const [splitPanelReportedSize, setSplitPanelReportedSize] = useState(0);\n    const [splitPanelReportedHeaderHeight, setSplitPanelReportedHeaderHeight] = useState(0);\n\n    const getSplitPanelRightOffset = () => {\n      if (isMobile) {\n        return 0;\n      }\n\n      if (hasDrawers) {\n        if (activeDrawer) {\n          if (drawers.length === 1) {\n            return activeDrawerSize;\n          }\n          if (!isResizeInvalid && activeDrawerSize) {\n            return activeDrawerSize + closedDrawerWidth;\n          }\n\n          return toolsWidth + closedDrawerWidth;\n        }\n        return drawers.length > 0 ? closedDrawerWidth : 0;\n      }\n\n      if (!toolsHide && toolsOpen) {\n        return toolsWidth;\n      }\n      return toolsClosedWidth;\n    };\n\n    const splitPanelContextProps: SplitPanelProviderProps = {\n      topOffset: headerHeight + (finalSplitPanePosition === 'bottom' ? stickyNotificationsHeight || 0 : 0),\n      bottomOffset: footerHeight,\n      leftOffset:\n        leftOffset + (isMobile ? 0 : !navigationHide && navigationOpen ? navigationWidth : navigationClosedWidth),\n      rightOffset: rightOffset + getSplitPanelRightOffset(),\n      position: finalSplitPanePosition,\n      size: splitPanelSize,\n      getMaxWidth: getSplitPanelMaxWidth,\n      getMaxHeight: getSplitPanelMaxHeight,\n      disableContentPaddings,\n      contentWidthStyles: contentMaxWidthStyle,\n      isOpen: splitPanelOpen,\n      isForcedPosition: isSplitpanelForcedPosition,\n      onResize: onSplitPanelSizeSet,\n      onToggle: onSplitPanelToggleHandler,\n      onPreferencesChange: onSplitPanelPreferencesSet,\n      setSplitPanelToggle: setSplitPanelReportedToggle,\n      reportSize: setSplitPanelReportedSize,\n      reportHeaderHeight: setSplitPanelReportedHeaderHeight,\n      refs: splitPanelRefs,\n    };\n    const splitPanelWrapped = splitPanel && (\n      <SplitPanelProvider {...splitPanelContextProps}>\n        {finalSplitPanePosition === 'side' ? (\n          <SideSplitPanelDrawer displayed={splitPanelDisplayed}>{splitPanel}</SideSplitPanelDrawer>\n        ) : (\n          splitPanel\n        )}\n      </SplitPanelProvider>\n    );\n\n    const contentWrapperProps: ContentWrapperProps = {\n      contentType,\n      navigationPadding: navigationHide || !!navigationOpen,\n      contentWidthStyles: !isMobile\n        ? { minWidth: defaults.minContentWidth, maxWidth: defaults.maxContentWidth }\n        : undefined,\n      toolsPadding:\n        // tools padding is displayed in one of the three cases\n        // 1. Nothing on the that screen edge (no tools panel and no split panel)\n        toolsHide ||\n        (hasDrawers && !activeDrawer && (!splitPanelDisplayed || finalSplitPanePosition !== 'side')) ||\n        // 2. Tools panel is present and open\n        toolsVisible ||\n        // 3. Split panel is open in side position\n        splitPanelOpenOnTheSide,\n      isMobile,\n    };\n\n    useImperativeHandle(ref, () => ({\n      openTools: () => onToolsToggle(true),\n      closeNavigationIfNecessary: () => {\n        if (isMobile) {\n          onNavigationToggle(false);\n        }\n      },\n      focusToolsClose: () => focusToolsButtons(true),\n      focusSplitPanel: () => splitPanelRefs.slider.current?.focus(),\n    }));\n\n    const splitPanelBottomOffset =\n      (!splitPanelDisplayed || finalSplitPanePosition !== 'bottom'\n        ? undefined\n        : splitPanelOpen\n        ? splitPanelReportedSize\n        : splitPanelReportedHeaderHeight) ?? undefined;\n\n    const [mobileBarHeight, mobileBarRef] = useContainerQuery(rect => rect.contentBoxHeight);\n\n    return (\n      <div\n        className={clsx(styles.root, testutilStyles.root, disableBodyScroll && styles['root-no-scroll'])}\n        ref={rootRef}\n        style={contentHeightStyle}\n      >\n        {isMobile && (!toolsHide || !navigationHide || breadcrumbs) && (\n          <MobileToolbar\n            anyPanelOpen={anyPanelOpen}\n            toggleRefs={{ navigation: navigationRefs.toggle, tools: toolsRefs.toggle }}\n            topOffset={headerHeight}\n            ariaLabels={ariaLabels}\n            navigationHide={navigationHide}\n            toolsHide={toolsHide}\n            onNavigationOpen={() => onNavigationToggle(true)}\n            onToolsOpen={() => onToolsToggle(true)}\n            unfocusable={anyPanelOpen}\n            mobileBarRef={mobileBarRef}\n            drawers={\n              hasDrawers\n                ? {\n                    items: drawers,\n                    activeDrawerId: activeDrawerId,\n                    onChange: changeDetail => {\n                      onActiveDrawerChange(changeDetail.activeDrawerId);\n                      if (changeDetail.activeDrawerId !== activeDrawerId) {\n                        focusToolsButtons();\n                        focusDrawersButtons();\n                        setDrawerLastInteraction({ type: 'open' });\n                      }\n                    },\n                    ariaLabel: drawersProps.ariaLabel,\n                    overflowAriaLabel: drawersProps.overflowAriaLabel,\n                    overflowWithBadgeAriaLabel: drawersProps.overflowWithBadgeAriaLabel,\n                  }\n                : undefined\n            }\n          >\n            {breadcrumbs}\n          </MobileToolbar>\n        )}\n        <div className={clsx(styles.layout, disableBodyScroll && styles['layout-no-scroll'])}>\n          {!navigationHide && (\n            <Drawer\n              contentClassName={testutilStyles.navigation}\n              toggleClassName={testutilStyles['navigation-toggle']}\n              closeClassName={testutilStyles['navigation-close']}\n              ariaLabels={ariaLabels}\n              bottomOffset={footerHeight}\n              topOffset={headerHeight}\n              isMobile={isMobile}\n              isOpen={navigationOpen}\n              onClick={isMobile ? onNavigationClick : undefined}\n              onToggle={onNavigationToggle}\n              toggleRefs={navigationRefs}\n              type=\"navigation\"\n              width={navigationWidth}\n            >\n              {navigation}\n            </Drawer>\n          )}\n          <main\n            ref={legacyScrollRootRef}\n            className={clsx(styles['layout-main'], {\n              [styles['layout-main-scrollable']]: disableBodyScroll,\n              [testutilStyles['disable-body-scroll-root']]: disableBodyScroll,\n              [styles.unfocusable]: isMobile && anyPanelOpen,\n            })}\n          >\n            <div\n              style={{\n                marginBottom: splitPanelBottomOffset,\n              }}\n            >\n              {notifications && (\n                <Notifications\n                  disableContentPaddings={disableContentPaddings}\n                  testUtilsClassName={testutilStyles.notifications}\n                  labels={ariaLabels}\n                  topOffset={disableBodyScroll ? 0 : headerHeight}\n                  sticky={!isMobile && stickyNotifications}\n                  ref={notificationsRef}\n                >\n                  {notifications}\n                </Notifications>\n              )}\n              {((!isMobile && breadcrumbs) || contentHeader) && (\n                <ContentWrapper {...contentWrapperProps}>\n                  {!isMobile && breadcrumbs && (\n                    <div className={clsx(testutilStyles.breadcrumbs, styles['breadcrumbs-desktop'])}>{breadcrumbs}</div>\n                  )}\n                  {contentHeader && (\n                    <div\n                      className={clsx(\n                        styles['content-header-wrapper'],\n                        !hasRenderedNotifications && (isMobile || !breadcrumbs) && styles['content-extra-top-padding'],\n                        !hasRenderedNotifications && !breadcrumbs && styles['content-header-wrapper-first-child'],\n                        !disableContentHeaderOverlap && styles['content-header-wrapper-overlapped']\n                      )}\n                    >\n                      {contentHeader}\n                    </div>\n                  )}\n                </ContentWrapper>\n              )}\n              <ContentWrapper\n                {...contentWrapperProps}\n                ref={mainContentRef}\n                disablePaddings={disableContentPaddings}\n                // eslint-disable-next-line react/forbid-component-props\n                className={clsx(\n                  !disableContentPaddings && styles['content-wrapper'],\n                  !disableContentPaddings &&\n                    (isMobile || !breadcrumbs) &&\n                    !contentHeader &&\n                    styles['content-extra-top-padding'],\n                  testutilStyles.content,\n                  !disableContentHeaderOverlap && contentHeader && styles['content-overlapped'],\n                  !hasRenderedNotifications &&\n                    !breadcrumbs &&\n                    !isMobile &&\n                    !contentHeader &&\n                    styles['content-wrapper-first-child']\n                )}\n              >\n                <AppLayoutContext.Provider\n                  value={{\n                    stickyOffsetTop:\n                      // We don't support the table header being sticky in case the deprecated disableBodyScroll is enabled,\n                      // therefore we ensure the table header scrolls out of view by offseting a large enough value (9999px)\n                      (disableBodyScroll ? (isMobile ? -9999 : 0) : headerHeight) +\n                      (isMobile ? 0 : stickyNotificationsHeight !== null ? stickyNotificationsHeight : 0),\n                    stickyOffsetBottom: footerHeight + (splitPanelBottomOffset || 0),\n                    mobileBarHeight: mobileBarHeight ?? 0,\n                  }}\n                >\n                  {content}\n                </AppLayoutContext.Provider>\n              </ContentWrapper>\n            </div>\n            {finalSplitPanePosition === 'bottom' && splitPanelWrapped}\n          </main>\n\n          {finalSplitPanePosition === 'side' && splitPanelWrapped}\n\n          {hasDrawers ? (\n            <ResizableDrawer\n              contentClassName={clsx(\n                activeDrawerId && testutilStyles['active-drawer'],\n                activeDrawerId === TOOLS_DRAWER_ID && testutilStyles.tools\n              )}\n              toggleClassName={testutilStyles['tools-toggle']}\n              closeClassName={clsx(\n                testutilStyles['active-drawer-close-button'],\n                activeDrawerId === TOOLS_DRAWER_ID && testutilStyles['tools-close']\n              )}\n              ariaLabels={ariaLabels}\n              width={!isResizeInvalid ? activeDrawerSize : toolsWidth}\n              bottomOffset={footerHeight}\n              topOffset={headerHeight}\n              isMobile={isMobile}\n              onToggle={() => {\n                /*noop in this mode*/\n              }}\n              isOpen={true}\n              toggleRefs={toolsRefs}\n              type=\"tools\"\n              onLoseFocus={loseDrawersFocus}\n              activeDrawer={activeDrawer}\n              drawers={{\n                items: drawers,\n                activeDrawerId: activeDrawerId,\n                onChange: changeDetail => {\n                  focusToolsButtons();\n                  setDrawerLastInteraction({ type: 'close' });\n                  onActiveDrawerChange(changeDetail.activeDrawerId);\n                },\n              }}\n              size={!isResizeInvalid ? activeDrawerSize : toolsWidth}\n              onResize={changeDetail => onActiveDrawerResize(changeDetail)}\n              refs={drawerRefs}\n              getMaxWidth={getDrawerMaxWidth}\n              toolsContent={drawers?.find(drawer => drawer.id === TOOLS_DRAWER_ID)?.content}\n            >\n              {activeDrawer?.content}\n            </ResizableDrawer>\n          ) : (\n            !toolsHide && (\n              <Drawer\n                contentClassName={testutilStyles.tools}\n                toggleClassName={testutilStyles['tools-toggle']}\n                closeClassName={testutilStyles['tools-close']}\n                ariaLabels={ariaLabels}\n                width={effectiveToolsWidth}\n                bottomOffset={footerHeight}\n                topOffset={headerHeight}\n                isMobile={isMobile}\n                onToggle={onToolsToggle}\n                isOpen={toolsOpen}\n                toggleRefs={toolsRefs}\n                type=\"tools\"\n                onLoseFocus={loseToolsFocus}\n              >\n                {tools}\n              </Drawer>\n            )\n          )}\n          {hasDrawers && drawers.length > 0 && (\n            <DrawerTriggersBar\n              bottomOffset={footerHeight}\n              topOffset={headerHeight}\n              isMobile={isMobile}\n              drawers={{\n                items: drawers,\n                activeDrawerId: activeDrawerId,\n                onChange: changeDetail => {\n                  if (activeDrawerId !== changeDetail.activeDrawerId) {\n                    focusToolsButtons();\n                    focusDrawersButtons();\n                    setDrawerLastInteraction({ type: 'open' });\n                  }\n                  onActiveDrawerChange(changeDetail.activeDrawerId);\n                },\n                ariaLabel: drawersProps.ariaLabel,\n                overflowAriaLabel: drawersProps.overflowAriaLabel,\n                overflowWithBadgeAriaLabel: drawersProps.overflowWithBadgeAriaLabel,\n              }}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n);\n\napplyDisplayName(AppLayout, 'AppLayout');\nexport default AppLayout;\n"]},"metadata":{},"sourceType":"module"}