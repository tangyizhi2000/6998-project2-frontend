{"ast":null,"code":"import _defineProperty from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useState } from 'react';\nimport styles from './styles.css.js';\nimport { InternalButton } from '../../../button/internal';\nimport InternalBox from '../../../box/internal';\nimport InternalSpaceBetween from '../../../space-between/internal';\nimport { Task } from './task';\nimport { getStepInfo } from '../../../annotation-context/utils';\nexport function TaskList(_ref) {\n  var tasks = _ref.tasks,\n    onExitTutorial = _ref.onExitTutorial,\n    currentGlobalStepIndex = _ref.currentGlobalStepIndex,\n    i18nStrings = _ref.i18nStrings;\n  var currentTaskIndex = getStepInfo(tasks, currentGlobalStepIndex !== null && currentGlobalStepIndex !== void 0 ? currentGlobalStepIndex : 0).taskIndex;\n  var _useState = useState(_defineProperty({}, currentTaskIndex, true)),\n    _useState2 = _slicedToArray(_useState, 2),\n    expandedTasks = _useState2[0],\n    setExpandedTasks = _useState2[1];\n  var onToggleExpand = useCallback(function (stepIndex) {\n    setExpandedTasks(function (prevTasks) {\n      return Object.assign(Object.assign({}, prevTasks), _defineProperty({}, stepIndex, !prevTasks[stepIndex]));\n    });\n  }, []);\n  // When the user progresses to a different task, all tasks except this one are collapsed.\n  useEffect(function () {\n    setExpandedTasks(_defineProperty({}, currentTaskIndex, true));\n  }, [currentTaskIndex]);\n  return React.createElement(InternalSpaceBetween, {\n    size: \"xxl\"\n  }, React.createElement(\"ol\", {\n    className: styles['tutorial-list']\n  }, tasks.map(function (task, index) {\n    var _a;\n    return React.createElement(Task, {\n      task: task,\n      key: index,\n      taskIndex: index,\n      currentTaskIndex: currentTaskIndex,\n      expanded: (_a = expandedTasks[index]) !== null && _a !== void 0 ? _a : false,\n      onToggleExpand: onToggleExpand,\n      i18nStrings: i18nStrings\n    });\n  })), React.createElement(InternalBox, {\n    margin: {\n      top: 'xxxs'\n    }\n  }, React.createElement(InternalButton, {\n    onClick: onExitTutorial,\n    formAction: \"none\",\n    className: styles['dismiss-button']\n  }, i18nStrings.dismissTutorialButtonText)));\n}","map":{"version":3,"mappings":";;AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC/D,OAAOC,MAAM,MAAM,iBAAiB;AAEpC,SAASC,cAAc,QAAQ,0BAA0B;AACzD,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,OAAOC,oBAAoB,MAAM,iCAAiC;AAElE,SAASC,IAAI,QAAQ,QAAQ;AAC7B,SAASC,WAAW,QAAQ,mCAAmC;AAS/D,OAAM,SAAUC,QAAQ,OAA8E;EAAA,IAA3EC,KAAK,QAALA,KAAK;IAAEC,cAAc,QAAdA,cAAc;IAAEC,sBAAsB,QAAtBA,sBAAsB;IAAEC,WAAW,QAAXA,WAAW;EACnF,IAAMC,gBAAgB,GAAGN,WAAW,CAACE,KAAK,EAAEE,sBAAsB,aAAtBA,sBAAsB,cAAtBA,sBAAsB,GAAI,CAAC,CAAC,CAACG,SAAS;EAClF,gBAA0Cb,QAAQ,qBAAIY,gBAAgB,EAAG,IAAI,EAAG;IAAA;IAAzEE,aAAa;IAAEC,gBAAgB;EAEtC,IAAMC,cAAc,GAAGlB,WAAW,CAAC,UAACmB,SAAiB,EAAI;IACvDF,gBAAgB,CAAC,mBAAS;MAAA,OAAIG,gCAAMC,SAAS,uBAAGF,SAAS,EAAG,CAACE,SAAS,CAACF,SAAS,CAAC;IAAA,CAAG,CAAC;EACvF,CAAC,EAAE,EAAE,CAAC;EAEN;EACAlB,SAAS,CAAC,YAAK;IACbgB,gBAAgB,qBAAIH,gBAAgB,EAAG,IAAI,EAAG;EAChD,CAAC,EAAE,CAACA,gBAAgB,CAAC,CAAC;EAEtB,OACEf,oBAACO,oBAAoB;IAACgB,IAAI,EAAC;EAAK,GAC9BvB;IAAIwB,SAAS,EAAEpB,MAAM,CAAC,eAAe;EAAC,GACnCO,KAAK,CAACc,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK,EAAI;;IAAC,OAC1B3B,oBAACQ,IAAI;MACHkB,IAAI,EAAEA,IAAI;MACVE,GAAG,EAAED,KAAK;MACVX,SAAS,EAAEW,KAAK;MAChBZ,gBAAgB,EAAEA,gBAAgB;MAClCc,QAAQ,EAAE,mBAAa,CAACF,KAAK,CAAC,mCAAI,KAAK;MACvCR,cAAc,EAAEA,cAAc;MAC9BL,WAAW,EAAEA;IAAW,EACxB;GACH,CAAC,CACC,EACLd,oBAACM,WAAW;IAACwB,MAAM,EAAE;MAAEC,GAAG,EAAE;IAAM;EAAE,GAClC/B,oBAACK,cAAc;IAAC2B,OAAO,EAAEpB,cAAc;IAAEqB,UAAU,EAAC,MAAM;IAACT,SAAS,EAAEpB,MAAM,CAAC,gBAAgB;EAAC,GAC3FU,WAAW,CAACoB,yBAAyB,CACvB,CACL,CACO;AAE3B","names":["React","useCallback","useEffect","useState","styles","InternalButton","InternalBox","InternalSpaceBetween","Task","getStepInfo","TaskList","tasks","onExitTutorial","currentGlobalStepIndex","i18nStrings","currentTaskIndex","taskIndex","expandedTasks","setExpandedTasks","onToggleExpand","stepIndex","Object","prevTasks","size","className","map","task","index","key","expanded","margin","top","onClick","formAction","dismissTutorialButtonText"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/tutorial-panel/components/tutorial-detail-view/lib/default/tutorial-panel/components/tutorial-detail-view/task-list.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useState } from 'react';\nimport styles from './styles.css.js';\nimport { TutorialPanelProps } from '../../interfaces';\nimport { InternalButton } from '../../../button/internal';\nimport InternalBox from '../../../box/internal';\nimport InternalSpaceBetween from '../../../space-between/internal';\nimport { HotspotContext } from '../../../annotation-context/context';\nimport { Task } from './task';\nimport { getStepInfo } from '../../../annotation-context/utils';\n\nexport interface TaskListProps {\n  tasks: ReadonlyArray<TutorialPanelProps.Task>;\n  onExitTutorial: () => void;\n  currentGlobalStepIndex: HotspotContext['currentStepIndex'];\n  i18nStrings: TutorialPanelProps['i18nStrings'];\n}\n\nexport function TaskList({ tasks, onExitTutorial, currentGlobalStepIndex, i18nStrings }: TaskListProps) {\n  const currentTaskIndex = getStepInfo(tasks, currentGlobalStepIndex ?? 0).taskIndex;\n  const [expandedTasks, setExpandedTasks] = useState({ [currentTaskIndex]: true });\n\n  const onToggleExpand = useCallback((stepIndex: number) => {\n    setExpandedTasks(prevTasks => ({ ...prevTasks, [stepIndex]: !prevTasks[stepIndex] }));\n  }, []);\n\n  // When the user progresses to a different task, all tasks except this one are collapsed.\n  useEffect(() => {\n    setExpandedTasks({ [currentTaskIndex]: true });\n  }, [currentTaskIndex]);\n\n  return (\n    <InternalSpaceBetween size=\"xxl\">\n      <ol className={styles['tutorial-list']}>\n        {tasks.map((task, index) => (\n          <Task\n            task={task}\n            key={index}\n            taskIndex={index}\n            currentTaskIndex={currentTaskIndex}\n            expanded={expandedTasks[index] ?? false}\n            onToggleExpand={onToggleExpand}\n            i18nStrings={i18nStrings}\n          />\n        ))}\n      </ol>\n      <InternalBox margin={{ top: 'xxxs' }}>\n        <InternalButton onClick={onExitTutorial} formAction=\"none\" className={styles['dismiss-button']}>\n          {i18nStrings.dismissTutorialButtonText}\n        </InternalButton>\n      </InternalBox>\n    </InternalSpaceBetween>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}