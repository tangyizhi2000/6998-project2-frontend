{"ast":null,"code":"var searchableFields = ['value', 'label', 'description', 'labelTag'];\nexport var matchesString = function matchesString(value, searchText, strictMatching) {\n  if (!value) {\n    return false;\n  }\n  var index = value.toLowerCase().indexOf(searchText);\n  return strictMatching ? index === 0 : index > -1;\n};\nvar matchesSingleOption = function matchesSingleOption(dropdownOption, text, strictMatching) {\n  var searchText = text.toLowerCase();\n  var option = dropdownOption.option;\n  var searchStrFields = function searchStrFields(attr) {\n    return matchesString(option[attr], searchText, strictMatching);\n  };\n  var searchTagsFields = function searchTagsFields(attr) {\n    var _a;\n    return (_a = option[attr]) === null || _a === void 0 ? void 0 : _a.some(function (value) {\n      return matchesString(value, searchText, strictMatching);\n    });\n  };\n  var searchableTagFields = ['tags'];\n  if (!strictMatching) {\n    searchableTagFields.push('filteringTags');\n  }\n  return searchableFields.some(searchStrFields) || searchableTagFields.some(searchTagsFields);\n};\nexport var filterOptions = function filterOptions(options, searchText) {\n  var strictMatching = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (searchText === '') {\n    return options;\n  }\n  var currentGroup = null;\n  var parentMatched = false;\n  return options.reduce(function (acc, option) {\n    if (option.type === 'parent') {\n      parentMatched = false;\n      currentGroup = option;\n      if (matchesSingleOption(option, searchText, strictMatching)) {\n        parentMatched = true;\n        acc.push(currentGroup);\n      }\n      return acc;\n    }\n    if (option.type !== 'child') {\n      currentGroup = null;\n      parentMatched = false;\n    }\n    if (parentMatched) {\n      acc.push(option);\n    } else if (matchesSingleOption(option, searchText, strictMatching)) {\n      if (currentGroup) {\n        acc.push(currentGroup);\n        currentGroup = null;\n      }\n      acc.push(option);\n    }\n    return acc;\n  }, []);\n};\nexport var isInteractive = function isInteractive(option) {\n  return !!option && !option.disabled && option.type !== 'parent';\n};\nexport var isGroupInteractive = function isGroupInteractive(option) {\n  return !!option && !option.disabled;\n};\nexport var isGroup = function isGroup(option) {\n  return !!option && 'options' in option;\n};","map":{"version":3,"mappings":"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","names":["searchableFields","matchesString","value","searchText","strictMatching","index","toLowerCase","indexOf","matchesSingleOption","dropdownOption","text","option","searchStrFields","attr","searchTagsFields","some","searchableTagFields","push","filterOptions","options","currentGroup","parentMatched","reduce","acc","type","isInteractive","disabled","isGroupInteractive","isGroup"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/components/option/utils/lib/default/internal/components/option/utils/filter-options.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../interfaces';\n\ntype SearchableField = 'value' | 'label' | 'description' | 'labelTag';\ntype SearchableTagField = 'tags' | 'filteringTags';\n\nconst searchableFields: SearchableField[] = ['value', 'label', 'description', 'labelTag'];\n\nexport const matchesString = (value: string | undefined, searchText: string, strictMatching: boolean): boolean => {\n  if (!value) {\n    return false;\n  }\n  const index = value.toLowerCase().indexOf(searchText);\n  return strictMatching ? index === 0 : index > -1;\n};\n\nconst matchesSingleOption = (dropdownOption: DropdownOption, text: string, strictMatching: boolean): boolean => {\n  const searchText = text.toLowerCase();\n\n  const option: OptionDefinition = dropdownOption.option;\n  const searchStrFields = (attr: SearchableField) => matchesString(option[attr], searchText, strictMatching);\n  const searchTagsFields = (attr: SearchableTagField) =>\n    option[attr]?.some(value => matchesString(value, searchText, strictMatching));\n\n  const searchableTagFields: SearchableTagField[] = ['tags'];\n  if (!strictMatching) {\n    searchableTagFields.push('filteringTags');\n  }\n\n  return searchableFields.some(searchStrFields) || searchableTagFields.some(searchTagsFields);\n};\n\nexport const filterOptions = (\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  strictMatching = false\n): ReadonlyArray<DropdownOption> => {\n  if (searchText === '') {\n    return options;\n  }\n\n  let currentGroup: DropdownOption | null = null;\n  let parentMatched = false;\n  return options.reduce<DropdownOption[]>((acc, option) => {\n    if (option.type === 'parent') {\n      parentMatched = false;\n      currentGroup = option;\n      if (matchesSingleOption(option, searchText, strictMatching)) {\n        parentMatched = true;\n        acc.push(currentGroup);\n      }\n      return acc;\n    }\n    if (option.type !== 'child') {\n      currentGroup = null;\n      parentMatched = false;\n    }\n    if (parentMatched) {\n      acc.push(option);\n    } else if (matchesSingleOption(option, searchText, strictMatching)) {\n      if (currentGroup) {\n        acc.push(currentGroup);\n        currentGroup = null;\n      }\n      acc.push(option);\n    }\n    return acc;\n  }, []);\n};\n\nexport const isInteractive = (option?: DropdownOption) => !!option && !option.disabled && option.type !== 'parent';\n\nexport const isGroupInteractive = (option?: DropdownOption) => !!option && !option.disabled;\n\nexport const isGroup = (option?: OptionDefinition | OptionGroup): option is OptionGroup =>\n  !!option && 'options' in option;\n"]},"metadata":{},"sourceType":"module"}