{"ast":null,"code":"import { filter } from './filter.js';\nimport { propertyFilter } from './property-filter.js';\nimport { sort } from './sort.js';\nimport { getPagesCount, normalizePageIndex, paginate } from './paginate.js';\nexport function processItems(items, _a, _b) {\n  var filteringText = _a.filteringText,\n    sortingState = _a.sortingState,\n    currentPageIndex = _a.currentPageIndex,\n    propertyFilteringQuery = _a.propertyFilteringQuery;\n  var filtering = _b.filtering,\n    sorting = _b.sorting,\n    pagination = _b.pagination,\n    propertyFiltering = _b.propertyFiltering;\n  var result = items;\n  var pagesCount;\n  var actualPageIndex;\n  var filteredItemsCount;\n  if (propertyFiltering) {\n    result = propertyFilter(result, propertyFilteringQuery || {\n      tokens: [],\n      operation: 'and'\n    }, propertyFiltering);\n    filteredItemsCount = result.length;\n  }\n  if (filtering) {\n    result = filter(result, filteringText, filtering);\n    filteredItemsCount = result.length;\n  }\n  if (sorting) {\n    result = sort(result, sortingState);\n  }\n  var allPageResult = result;\n  if (pagination) {\n    pagesCount = getPagesCount(result, pagination.pageSize);\n    actualPageIndex = normalizePageIndex(currentPageIndex, pagesCount);\n    result = paginate(result, actualPageIndex, pagination.pageSize);\n  }\n  return {\n    items: result,\n    allPageItems: allPageResult,\n    pagesCount: pagesCount,\n    filteredItemsCount: filteredItemsCount,\n    actualPageIndex: actualPageIndex\n  };\n}\nexport var getTrackableValue = function getTrackableValue(trackBy, item) {\n  if (!trackBy) {\n    return item;\n  }\n  if (typeof trackBy === 'function') {\n    return trackBy(item);\n  }\n  return item[trackBy];\n};\nexport var processSelectedItems = function processSelectedItems(items, selectedItems, trackBy) {\n  var selectedSet = new Set();\n  selectedItems.forEach(function (item) {\n    return selectedSet.add(getTrackableValue(trackBy, item));\n  });\n  return items.filter(function (item) {\n    return selectedSet.has(getTrackableValue(trackBy, item));\n  });\n};\nexport var itemsAreEqual = function itemsAreEqual(items1, items2, trackBy) {\n  if (items1.length !== items2.length) {\n    return false;\n  }\n  var set1 = new Set();\n  items1.forEach(function (item) {\n    return set1.add(getTrackableValue(trackBy, item));\n  });\n  return items2.every(function (item) {\n    return set1.has(getTrackableValue(trackBy, item));\n  });\n};","map":{"version":3,"names":["filter","propertyFilter","sort","getPagesCount","normalizePageIndex","paginate","processItems","items","_a","_b","filteringText","sortingState","currentPageIndex","propertyFilteringQuery","filtering","sorting","pagination","propertyFiltering","result","pagesCount","actualPageIndex","filteredItemsCount","tokens","operation","length","allPageResult","pageSize","allPageItems","getTrackableValue","trackBy","item","processSelectedItems","selectedItems","selectedSet","Set","forEach","add","has","itemsAreEqual","items1","items2","set1","every"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/collection-hooks/dist/mjs/operations/index.js"],"sourcesContent":["import { filter } from './filter.js';\nimport { propertyFilter } from './property-filter.js';\nimport { sort } from './sort.js';\nimport { getPagesCount, normalizePageIndex, paginate } from './paginate.js';\nexport function processItems(items, _a, _b) {\n    var filteringText = _a.filteringText, sortingState = _a.sortingState, currentPageIndex = _a.currentPageIndex, propertyFilteringQuery = _a.propertyFilteringQuery;\n    var filtering = _b.filtering, sorting = _b.sorting, pagination = _b.pagination, propertyFiltering = _b.propertyFiltering;\n    var result = items;\n    var pagesCount;\n    var actualPageIndex;\n    var filteredItemsCount;\n    if (propertyFiltering) {\n        result = propertyFilter(result, propertyFilteringQuery || { tokens: [], operation: 'and' }, propertyFiltering);\n        filteredItemsCount = result.length;\n    }\n    if (filtering) {\n        result = filter(result, filteringText, filtering);\n        filteredItemsCount = result.length;\n    }\n    if (sorting) {\n        result = sort(result, sortingState);\n    }\n    var allPageResult = result;\n    if (pagination) {\n        pagesCount = getPagesCount(result, pagination.pageSize);\n        actualPageIndex = normalizePageIndex(currentPageIndex, pagesCount);\n        result = paginate(result, actualPageIndex, pagination.pageSize);\n    }\n    return { items: result, allPageItems: allPageResult, pagesCount: pagesCount, filteredItemsCount: filteredItemsCount, actualPageIndex: actualPageIndex };\n}\nexport var getTrackableValue = function (trackBy, item) {\n    if (!trackBy) {\n        return item;\n    }\n    if (typeof trackBy === 'function') {\n        return trackBy(item);\n    }\n    return item[trackBy];\n};\nexport var processSelectedItems = function (items, selectedItems, trackBy) {\n    var selectedSet = new Set();\n    selectedItems.forEach(function (item) { return selectedSet.add(getTrackableValue(trackBy, item)); });\n    return items.filter(function (item) { return selectedSet.has(getTrackableValue(trackBy, item)); });\n};\nexport var itemsAreEqual = function (items1, items2, trackBy) {\n    if (items1.length !== items2.length) {\n        return false;\n    }\n    var set1 = new Set();\n    items1.forEach(function (item) { return set1.add(getTrackableValue(trackBy, item)); });\n    return items2.every(function (item) { return set1.has(getTrackableValue(trackBy, item)); });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}