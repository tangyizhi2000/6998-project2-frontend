{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nconst allowedJavascriptUrls = ['javascript:void(0)', 'javascript:void(0);', 'javascript:;'];\nexport function checkSafeUrl(component, url) {\n  if (!url) {\n    return;\n  }\n  if (allowedJavascriptUrls.indexOf(url.toLowerCase()) !== -1) {\n    return;\n  }\n  let parsedUrl;\n  try {\n    parsedUrl = new URL(url);\n  } catch (e) {\n    // If the URL cannot be parsed by the browser, it likely does not pose a security risk.\n    return;\n  }\n  if (parsedUrl.protocol === 'javascript:') {\n    warnOnce(component, `A javascript: URL was blocked as a security precaution. The URL was \"${url}\".`);\n    // This mirrors the error message that React will use:\n    // https://github.com/facebook/react/blob/a724a3b578dce77d427bef313102a4d0e978d9b4/packages/react-dom/src/shared/sanitizeURL.js#L30\n    throw new Error(`A javascript: URL was blocked as a security precaution.`);\n  }\n  return;\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAASA,QAAQ,QAAQ,+CAA+C;AAExE,MAAMC,qBAAqB,GAAG,CAAC,oBAAoB,EAAE,qBAAqB,EAAE,cAAc,CAAC;AAE3F,OAAM,SAAUC,YAAY,CAACC,SAAiB,EAAEC,GAA8B;EAC5E,IAAI,CAACA,GAAG,EAAE;IACR;;EAEF,IAAIH,qBAAqB,CAACI,OAAO,CAACD,GAAG,CAACE,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;IAC3D;;EAGF,IAAIC,SAAc;EAClB,IAAI;IACFA,SAAS,GAAG,IAAIC,GAAG,CAACJ,GAAG,CAAC;GACzB,CAAC,OAAOK,CAAC,EAAE;IACV;IACA;;EAGF,IAAIF,SAAS,CAACG,QAAQ,KAAK,aAAa,EAAE;IACxCV,QAAQ,CAACG,SAAS,EAAE,wEAAwEC,GAAG,IAAI,CAAC;IACpG;IACA;IACA,MAAM,IAAIO,KAAK,CAAC,yDAAyD,CAAC;;EAG5E;AACF","names":["warnOnce","allowedJavascriptUrls","checkSafeUrl","component","url","indexOf","toLowerCase","parsedUrl","URL","e","protocol","Error"],"sources":["/Users/tangyizhi/Desktop/Assignment2/frontend/node_modules/@cloudscape-design/components/internal/utils/lib/default/internal/utils/check-safe-url.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nconst allowedJavascriptUrls = ['javascript:void(0)', 'javascript:void(0);', 'javascript:;'];\n\nexport function checkSafeUrl(component: string, url: string | undefined | null): void {\n  if (!url) {\n    return;\n  }\n  if (allowedJavascriptUrls.indexOf(url.toLowerCase()) !== -1) {\n    return;\n  }\n\n  let parsedUrl: URL;\n  try {\n    parsedUrl = new URL(url);\n  } catch (e) {\n    // If the URL cannot be parsed by the browser, it likely does not pose a security risk.\n    return;\n  }\n\n  if (parsedUrl.protocol === 'javascript:') {\n    warnOnce(component, `A javascript: URL was blocked as a security precaution. The URL was \"${url}\".`);\n    // This mirrors the error message that React will use:\n    // https://github.com/facebook/react/blob/a724a3b578dce77d427bef313102a4d0e978d9b4/packages/react-dom/src/shared/sanitizeURL.js#L30\n    throw new Error(`A javascript: URL was blocked as a security precaution.`);\n  }\n\n  return;\n}\n"]},"metadata":{},"sourceType":"module"}