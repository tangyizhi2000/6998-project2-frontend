// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import clsx from 'clsx';
import React, { useEffect, useState } from 'react';
import InternalStatusIndicator from '../status-indicator/internal';
import { supportsStickyPosition } from '../internal/utils/dom';
import styles from './styles.css.js';
import LiveRegion from '../internal/components/live-region';
export function NoDataCell({ variant, containerWidth, totalColumnsCount, hasFooter, loading, loadingText, empty, tableRef, }) {
    const [tablePaddings, setTablePaddings] = useState(containerWidth);
    useEffect(() => {
        if (tableRef.current) {
            const tablePaddingLeft = parseFloat(getComputedStyle(tableRef.current).paddingLeft) || 0;
            const tablePaddingRight = parseFloat(getComputedStyle(tableRef.current).paddingRight) || 0;
            setTablePaddings(tablePaddingLeft + tablePaddingRight);
        }
    }, [variant, tableRef]);
    containerWidth = containerWidth + tablePaddings;
    return (React.createElement("td", { colSpan: totalColumnsCount, className: clsx(styles['cell-merged'], hasFooter && styles['has-footer']) },
        React.createElement("div", { className: styles['cell-merged-content'], style: {
                width: (supportsStickyPosition() && containerWidth && Math.floor(containerWidth)) || undefined,
            } }, loading ? (React.createElement(InternalStatusIndicator, { type: "loading", className: styles.loading, wrapText: true },
            React.createElement(LiveRegion, { visible: true }, loadingText))) : (React.createElement("div", { className: styles.empty }, empty)))));
}
//# sourceMappingURL=node-data-cell.js.map